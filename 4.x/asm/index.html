<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Assisted Service Module - Spartacus Documentation</title>
<meta name="description" content="SAP Spartacus JavaScript Storefront Documentation.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Spartacus Documentation">
<meta property="og:title" content="Assisted Service Module">
<meta property="og:url" content="/spartacus-docs/4.x/asm/">












  

  


<link rel="canonical" href="/spartacus-docs/4.x/asm/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": null,
      "url": null,
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/spartacus-docs/4.x/feed.xml" type="application/atom+xml" rel="alternate" title="Spartacus Documentation Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/spartacus-docs/4.x/assets/css/main.css">
<link rel="stylesheet" href="/spartacus-docs/4.x/assets/css/keys.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert scripts for adding anchor links to headers -->

<script src="https://kit.fontawesome.com/82d5a2bf2f.js" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script>
  anchors.add();
</script>

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /> 
  </head>

  <body class="layout--home">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/spartacus-docs/4.x/"><img src="/spartacus-docs/4.x/assets/images/logo-blue_64x64.png" alt="Spartacus logo"></a>
        
        <a class="site-title" href="/spartacus-docs/4.x/">Spartacus Documentation</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/spartacus-docs/4.x/docs-archive/" >Doc Archive</a>
            </li><li class="masthead__menu-item">
              <a href="https://join.slack.com/t/spartacus-storefront/shared_invite/zt-jekftqo0-HP6xt6IF~ffVB2cGG66fcQ" >Feedback</a>
            </li><li class="masthead__menu-item">
              <a href="/spartacus-docs/4.x/#how-to-obtain-support" >Support</a>
            </li><li class="masthead__menu-item">
              <a href="/spartacus-docs/4.x/release-information/" >Version 4.2</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          
          

         <a href="/spartacus-docs/4.x/"><span class="nav__sub-title">Home</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/4.x/getting-started/"><span class="nav__sub-title">Getting Started with Spartacus Libraries</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/4.x/dev-guide/"><span class="nav__sub-title">Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/4.x/a11y/">Accessibility ➢</a>
                                            
                                                <ul>
                                                    
                                                          
                                                    
                                                          
                                                    
                                                </ul>
                                              
                                        </li>
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/4.x/spartacus-api/">API</a>
                                              
                                        </li>
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/4.x/architecture/">Architecture ➢</a>
                                            
                                                <ul>
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                </ul>
                                              
                                        </li>
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/4.x/customizing-and-extending/">Customizing and Extending Spartacus ➢</a>
                                            
                                                <ul>
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                </ul>
                                              
                                        </li>
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/4.x/customizing-backend-communication/">Customizing Back End Communication ➢</a>
                                            
                                                <ul>
                                                    
                                                          
                                                    
                                                          
                                                    
                                                </ul>
                                              
                                        </li>
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/4.x/performance/">Performance Optimizations ➢</a>
                                            
                                                <ul>
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                </ul>
                                              
                                        </li>
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/4.x/security-best-practices/">Security Best Practices ➢</a>
                                            
                                                <ul>
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                </ul>
                                              
                                        </li>
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/4.x/server-side-rendering-in-spartacus/">Server-Side Rendering ➢</a>
                                            
                                                <ul>
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                </ul>
                                              
                                        </li>
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/4.x/spartacus-features/">Storefront Features ➢</a>
                                            
                                                <ul>
                                                    
                                                          
                                                    
                                                          
                                                    
                                                        
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/anonymous-consent/" class="">Anonymous Consent</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/applied-promotions/" class="">Applied Promotions</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/asm/" class="active">Assisted Service Module</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/b2b-commerce-organization/" class="">B2B Commerce Organization</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/bulk-pricing/" class="">Bulk Pricing</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/cancellations-and-returns/" class="">Cancellations and Returns</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/cart-import-export/" class="">Cart Import and Export</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/cart-validation/" class="">Cart Validation</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/consignment-tracking/" class="">Consignment Tracking</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/coupons/" class="">Coupons</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/customer-coupons/" class="">Customer Coupons</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/customer-interests/" class="">Customer Interests</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/event-service/" class="">Event Service</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/express-checkout/" class="">Express Checkout</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/guest-checkout/" class="">Guest Checkout</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/image-zoom/" class="">Image Zoom</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/infinite-scroll/" class="">Infinite Scroll</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/inventory-display/" class="">Inventory Display</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/notification-preferences/" class="">Notification Preferences</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/quick-order/" class="">Quick Order</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/saved-cart/" class="">Saved Cart</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/scheduled-replenishment/" class="">Scheduled Replenishment</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/scroll-position-restoration/" class="">Scroll Position Restoration</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/selective-cart/" class="">Selective Cart</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/skip-links/" class="">Skip Links</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/stock-notification/" class="">Stock Notification</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/store-locator/" class="">Store Locator</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/tag-management-system/" class="">Tag Management System ➢</a>


                                                                    

                                                                      
                                                                      

                                                                        
                                                                            <ul>
                                                                                  
                                                                            </ul>
                                                                        
                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/text-field-configurator-template/" class="">Text Field Configurator Template</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/variants/" class="">Variants</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/4.x/wish-list/" class="">Wish List</a>


                                                                        
                                                                </li>
                                                            
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                </ul>
                                              
                                        </li>
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/4.x/styling-and-page-layout/">Styling and Page Layout ➢</a>
                                            
                                                <ul>
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                </ul>
                                              
                                        </li>
                                      
                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/4.x/using-spartacus/"><span class="nav__sub-title">Using the Spartacus Storefront</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/4.x/about-tua-spartacus/"><span class="nav__sub-title">Telco & Utilities Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/4.x/about-fsa-spartacus/"><span class="nav__sub-title">Financial Services Accelerator Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/4.x/contributors-guide/"><span class="nav__sub-title">Contributing to Spartacus</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
  </ul>
</nav>      

    
  
  </div>


  <div class="archive">
    
      <h1 id="page-title" class="page__title">Assisted Service Module</h1>
    
    
<p><b>Note: </b> 
This feature is introduced with version 1.3 of the Spartacus libraries.
 </p>

<p>The Assisted Service Module (ASM) enables customer service personnel to provide real-time customer sales and service support using the Spartacus storefront. For more information, see <a href="https://help.sap.com/viewer/9d346683b0084da2938be8a285c0c27a/latest/en-US/8b571515866910148fc18b9e59d3e084.html">Assisted Service Module</a> on the SAP Help Portal.</p>

<hr />

<p><strong>Table of Contents</strong></p>

<ul id="markdown-toc">
  <li><a href="#requirements" id="markdown-toc-requirements">Requirements</a></li>
  <li><a href="#enabling-asm-in-spartacus" id="markdown-toc-enabling-asm-in-spartacus">Enabling ASM in Spartacus</a>    <ul>
      <li><a href="#granting-cms-permissions" id="markdown-toc-granting-cms-permissions">Granting CMS Permissions</a></li>
      <li><a href="#configuring-cors" id="markdown-toc-configuring-cors">Configuring CORS</a>        <ul>
          <li><a href="#customizing-the-cors-configuration" id="markdown-toc-customizing-the-cors-configuration">Customizing the CORS Configuration</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#updating-custom-services-to-support-asm" id="markdown-toc-updating-custom-services-to-support-asm">Updating Custom Services to Support ASM</a>    <ul>
      <li><a href="#updating-subclasses" id="markdown-toc-updating-subclasses">Updating Subclasses</a></li>
    </ul>
  </li>
  <li><a href="#writing-asm-compatible-code" id="markdown-toc-writing-asm-compatible-code">Writing ASM-Compatible Code</a></li>
  <li><a href="#configuring-the-session-timer-duration" id="markdown-toc-configuring-the-session-timer-duration">Configuring the Session Timer Duration</a></li>
  <li><a href="#configuring-the-number-of-search-results" id="markdown-toc-configuring-the-number-of-search-results">Configuring the Number of Search Results</a></li>
  <li><a href="#invoking-the-asm-ui-in-the-storefront" id="markdown-toc-invoking-the-asm-ui-in-the-storefront">Invoking the ASM UI in the Storefront</a></li>
  <li><a href="#extending" id="markdown-toc-extending">Extending</a></li>
  <li><a href="#limitations" id="markdown-toc-limitations">Limitations</a></li>
</ul>

<hr />

<h2 id="requirements">Requirements</h2>

<p>The Assisted Service Module feature in Spartacus requires SAP Commerce Cloud version 1905.5 or newer. The minimum version of 1905.5 is required to enable CORS in the <code class="language-plaintext highlighter-rouge">assistedservicewebservices</code> endpoints.</p>

<p>ASM in Spartacus requires the following SAP Commerce Cloud extensions:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">assistedservicewebservices</code> extension</li>
  <li><code class="language-plaintext highlighter-rouge">assistedservicestorefront</code> AddOn</li>
</ul>

<h2 id="enabling-asm-in-spartacus">Enabling ASM in Spartacus</h2>

<p>To enable ASM in Spartacus, you need to carry out the steps in the following sections:</p>

<ul>
  <li><a href="#granting-cms-permissions">Granting CMS Permissions</a></li>
  <li><a href="#configuring-cors">Configuring CORS</a></li>
</ul>

<h3 id="granting-cms-permissions">Granting CMS Permissions</h3>

<p>The <code class="language-plaintext highlighter-rouge">asagentgroup</code> user group needs specific rights to read CMS data from OCC.</p>

<p>If you start from scratch and initialize your SAP Commerce Cloud system with version 1905.5 or newer, the <code class="language-plaintext highlighter-rouge">asagentgroup</code> gets the required permissions to use CMS data through Spartacus and OCC. There is no further action to take.</p>

<p>However, if you upgrade SAP Commerce Cloud from a version that is older than 1905.5, you need to grant the <code class="language-plaintext highlighter-rouge">asagentgroup</code> permissions by importing the following ImpEx data through the ImpEx console:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Access rights for asagentgroup
# - These are needed for rendering (cmsoccaddon).

$START_USERRIGHTS;;;;;;;;;
Type;UID;MemberOfGroups;Password;Target;read;change;create;remove;change_perm
UserGroup;asagentgroup;;;;;;;;

# general
;;;;Item;+;;;;;
;;;;Type;+;;;;;

# access rights for Products, Store, Site and Catalogs
;;;;Product;+;;;;;
;;;;Category;+;;;;;
;;;;VariantType;+;;;;;
;;;;BaseSite;+;;;;;
;;;;BaseStore;+;;;;;
;;;;Catalog;+;;;;;
;;;;CatalogVersion;+;;;;;
;;;;ContentCatalog;+;;;;;
;;;;MediaContainer;+;-;-;-;-;
;;;;MediaContext;+;-;-;-;-;
;;;;MediaFormat;+;-;-;-;-;
;;;;MediaFormatMapping;+;-;-;-;-;

# cms2 items
;;;;CMSItem;+;-;-;-;-;

$END_USERRIGHTS;;;;;
</code></pre></div></div>

<h3 id="configuring-cors">Configuring CORS</h3>

<p>The <code class="language-plaintext highlighter-rouge">assistedservicewebservices</code> extension requires CORS configuration, which is possible with SAP Commerce Cloud version 1905.5 or newer. The CORS configurations for <code class="language-plaintext highlighter-rouge">assistedservicewebservices</code> have default values that are specified in the <code class="language-plaintext highlighter-rouge">project.properties</code> file of the <code class="language-plaintext highlighter-rouge">assistedservicewebservices</code>. The default values are the following:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>corsfilter.assistedservicewebservices.allowedOrigins=http://localhost:4200 https://localhost:4200
corsfilter.assistedservicewebservices.allowedMethods=GET HEAD OPTIONS PATCH PUT POST DELETE
corsfilter.assistedservicewebservices.allowedHeaders=origin content-type accept authorization
</code></pre></div></div>

<h4 id="customizing-the-cors-configuration">Customizing the CORS Configuration</h4>

<p>CORS configurations are customized by overriding the default configuration through your <code class="language-plaintext highlighter-rouge">local.properties</code> file.</p>

<p>Since configurations are <em>overridden</em> in <code class="language-plaintext highlighter-rouge">local.properties</code>, if you want to add a configuration element without losing the default values, you need to add all the defaults in addition to any new elements. For example, to add <code class="language-plaintext highlighter-rouge">my-new-header</code> in the <code class="language-plaintext highlighter-rouge">allowedHeaders</code> list, in addition to the default headers, you need to add the following to your <code class="language-plaintext highlighter-rouge">local.properties</code> file:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>corsfilter.assistedservicewebservices.allowedHeaders=origin content-type accept authorization my-new-header.
</code></pre></div></div>

<p>To customize <code class="language-plaintext highlighter-rouge">allowedMethods</code> or <code class="language-plaintext highlighter-rouge">allowedHeaders</code>, you should add to the default values.</p>

<p>To customize the <code class="language-plaintext highlighter-rouge">allowedOrigins</code> property of <code class="language-plaintext highlighter-rouge">assistedservicewebservices</code>, you need to override (that is, replace) the default value in your <code class="language-plaintext highlighter-rouge">local.properties</code> file with a host name that is relevant to your environment. The following is an example:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>corsfilter.assistedservicewebservices.allowedOrigins=https://my-new-host:4200
</code></pre></div></div>

<p>For development purposes only, you can set the value to a wildcard (<code class="language-plaintext highlighter-rouge">*</code>), as shown in the following example:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>corsfilter.assistedservicewebservices.allowedOrigins=*
</code></pre></div></div>

<p><strong>Note:</strong> This wildcard configuration is flexible for development environments, but it is not secure. A more restrictive configuration is required for production use.</p>

<h2 id="updating-custom-services-to-support-asm">Updating Custom Services to Support ASM</h2>

<p>If you use a custom service that extends one of the following classes, you need to update the relevant constructor to support ASM in your storefront:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">UserService</code></li>
  <li><code class="language-plaintext highlighter-rouge">UserAddressService</code></li>
  <li><code class="language-plaintext highlighter-rouge">UserConsentService</code></li>
  <li><code class="language-plaintext highlighter-rouge">UserOrderService</code></li>
  <li><code class="language-plaintext highlighter-rouge">UserPaymentService</code></li>
</ul>

<p>During customer emulation, the storefront may display the following error message: <code class="language-plaintext highlighter-rouge">Cannot find user with propertyValue 'current'</code>. If you see this message, it is very likely that you have a custom service that needs to be updated to support ASM.</p>

<p>You can update your custom service by adding a dependency to the <code class="language-plaintext highlighter-rouge">AuthService</code> in the constructor, and passing it down to <code class="language-plaintext highlighter-rouge">super()</code>. Constructors that do not have <code class="language-plaintext highlighter-rouge">AuthService</code> are now deprecated.</p>

<p>In addition to updating the constructor, you may need to update your custom functions to support ASM as well. For more information, see <a href="#writing-asm-compatible-code">Writing ASM-Compatible Code</a>.</p>

<h3 id="updating-subclasses">Updating Subclasses</h3>

<p>If you use a custom service that extends the <code class="language-plaintext highlighter-rouge">UserService</code> class, your custom service may look like the following example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">class</span> <span class="nx">CustomUserService</span> <span class="kd">extends</span> <span class="nx">UserService</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">store</span><span class="p">:</span> <span class="nx">Store</span><span class="o">&lt;</span><span class="nx">StateWithUser</span> <span class="o">|</span> <span class="nx">StateWithProcess</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">store</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>You can update this custom service to support ASM as follows:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">class</span> <span class="nx">CustomUserService</span> <span class="kd">extends</span> <span class="nx">UserService</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span>
    <span class="nx">store</span><span class="p">:</span> <span class="nx">Store</span><span class="o">&lt;</span><span class="nx">StateWithUser</span> <span class="o">|</span> <span class="nx">StateWithProcess</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;&gt;</span><span class="p">,</span>
    <span class="nx">authService</span><span class="p">:</span> <span class="nx">AuthService</span>
  <span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">store</span><span class="p">,</span> <span class="nx">authService</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>If you use a custom service that extends the <code class="language-plaintext highlighter-rouge">UserAddressService</code> class, your custom service may look like the following example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">class</span> <span class="nx">CustomUserAddressService</span> <span class="kd">extends</span> <span class="nx">UserAddressService</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="k">protected</span> <span class="nx">store</span><span class="p">:</span> <span class="nx">Store</span><span class="o">&lt;</span><span class="nx">StateWithUser</span> <span class="o">|</span> <span class="nx">StateWithProcess</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">store</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>You can update this custom service to support ASM as follows:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">class</span> <span class="nx">CustomUserAddressService</span> <span class="kd">extends</span> <span class="nx">UserAddressService</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span>
    <span class="k">protected</span> <span class="nx">store</span><span class="p">:</span> <span class="nx">Store</span><span class="o">&lt;</span><span class="nx">StateWithUser</span> <span class="o">|</span> <span class="nx">StateWithProcess</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;&gt;</span><span class="p">,</span>
    <span class="k">protected</span> <span class="nx">authService</span><span class="p">:</span> <span class="nx">AuthService</span>
  <span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">store</span><span class="p">,</span> <span class="nx">authService</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>For custom services that extend the <code class="language-plaintext highlighter-rouge">UserConsentService</code>, <code class="language-plaintext highlighter-rouge">UserOrderService</code>, or <code class="language-plaintext highlighter-rouge">UserPaymentService</code> classes, the pattern for updating the custom service to support ASM is identical to the example shown for the <code class="language-plaintext highlighter-rouge">UserAddressService</code> class. The following is another example.</p>

<p>If you use a custom service that extends the <code class="language-plaintext highlighter-rouge">UserConsentService</code> class, your custom service may look like the following example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">class</span> <span class="nx">CustomUserConsentService</span> <span class="kd">extends</span> <span class="nx">UserConsentService</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="k">protected</span> <span class="nx">store</span><span class="p">:</span> <span class="nx">Store</span><span class="o">&lt;</span><span class="nx">StateWithUser</span> <span class="o">|</span> <span class="nx">StateWithProcess</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;&gt;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">store</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>You can update this custom service to support ASM as follows:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">class</span> <span class="nx">CustomUserConsentService</span> <span class="kd">extends</span> <span class="nx">UserConsentService</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span>
    <span class="k">protected</span> <span class="nx">store</span><span class="p">:</span> <span class="nx">Store</span><span class="o">&lt;</span><span class="nx">StateWithUser</span> <span class="o">|</span> <span class="nx">StateWithProcess</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;&gt;</span><span class="p">,</span>
    <span class="k">protected</span> <span class="nx">authService</span><span class="p">:</span> <span class="nx">AuthService</span>
  <span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">store</span><span class="p">,</span> <span class="nx">authService</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="writing-asm-compatible-code">Writing ASM-Compatible Code</h2>

<p>To write ASM-compatible code, you need to use the <code class="language-plaintext highlighter-rouge">getOccUserId()</code> function from the <code class="language-plaintext highlighter-rouge">AuthService</code> to determine the <code class="language-plaintext highlighter-rouge">userId</code> that is used in OCC calls. This is typically done in a service that dispatches an action that contains the <code class="language-plaintext highlighter-rouge">userId</code> in the payload.</p>

<p>Prior to official ASM support in Spartacus, in requests sent on behalf of an authenticated user, the OCC <code class="language-plaintext highlighter-rouge">userId</code> was the special “current” OCC user, which was represented by the <code class="language-plaintext highlighter-rouge">OCC_USER_ID_CURRENT</code> constant. This can be seen in the following example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nx">load</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="k">new</span> <span class="nx">UserActions</span><span class="p">.</span><span class="nx">LoadUserDetails</span><span class="p">(</span><span class="nx">OCC_USER_ID_CURRENT</span><span class="p">));</span>
  <span class="p">}</span>
</code></pre></div></div>

<p>With official ASM support in Spartacus, the correct way to determine the OCC <code class="language-plaintext highlighter-rouge">userId</code> is to call <code class="language-plaintext highlighter-rouge">AuthService.getOccUserId()</code>. Using the previous example as the starting point, Spartacus now determines the OCC <code class="language-plaintext highlighter-rouge">userId</code> as follows:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
  <span class="nx">load</span><span class="p">():</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">authService</span>
      <span class="p">.</span><span class="nx">getOccUserId</span><span class="p">()</span>
      <span class="p">.</span><span class="nx">pipe</span><span class="p">(</span><span class="nx">take</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
      <span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">occUserId</span> <span class="o">=&gt;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">store</span><span class="p">.</span><span class="nx">dispatch</span><span class="p">(</span><span class="k">new</span> <span class="nx">UserActions</span><span class="p">.</span><span class="nx">LoadUserDetails</span><span class="p">(</span><span class="nx">occUserId</span><span class="p">))</span>
      <span class="p">);</span>
  <span class="p">}</span>

</code></pre></div></div>

<p><strong>Note:</strong> If <code class="language-plaintext highlighter-rouge">OCC_USER_ID_CURRENT</code> is used directly in a service, it should likely be replaced by a call to <code class="language-plaintext highlighter-rouge">getOccUserId()</code>.</p>

<p>To support ASM in Spartacus, and potentially other features in the future, the facade services cannot simply use the “current” special <code class="language-plaintext highlighter-rouge">userId</code> when calling various actions. There needs to be some logic that is applied to determine the correct OCC <code class="language-plaintext highlighter-rouge">userId</code> to pass down to actions that trigger back end calls. As a result, the logic to determine the correct OCC <code class="language-plaintext highlighter-rouge">userId</code> is centralized in the <code class="language-plaintext highlighter-rouge">getOccUserId()</code> function of the <code class="language-plaintext highlighter-rouge">AuthService</code>.</p>

<h2 id="configuring-the-session-timer-duration">Configuring the Session Timer Duration</h2>

<p>When a customer support agent signs in, a <strong>Session Timeout</strong> timer appears in the ASM UI. The default value is 600 seconds (10 minutes), but you can change the session timeout duration, as shown in the following example:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">provideConfig</span><span class="p">({</span>
  <span class="na">asm</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">agentSessionTimer</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">startingDelayInSeconds</span><span class="p">:</span> <span class="mi">720</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre></div></div>

<p>In this example, the duration of the session timer has been set to 720 seconds (12 minutes).</p>

<h2 id="configuring-the-number-of-search-results">Configuring the Number of Search Results</h2>

<p>The number of results in the ASM customer search can be customized, as shown in the following example:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">provideConfig</span><span class="p">({</span>
  <span class="na">asm</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">customerSearch</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">maxResults</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">},</span>
<span class="p">});</span>
</code></pre></div></div>

<h2 id="invoking-the-asm-ui-in-the-storefront">Invoking the ASM UI in the Storefront</h2>

<p>To invoke the ASM UI in the Spartacus storefront, add the <code class="language-plaintext highlighter-rouge">?asm=true</code> suffix to the URL. For example, with the electronics sample store, you can invoke the ASM UI on the home page with the following URL:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://{hostname}/electronics-spa/en/USD/?asm=true
</code></pre></div></div>

<h2 id="extending">Extending</h2>

<p>No special extensibility is available for this feature.</p>

<h2 id="limitations">Limitations</h2>

<p>ASM customer emulation does not work with CMS content rules and restrictions in Spartacus. If there are content rules or restrictions that are normally applied based on a customer’s ID, or the customer’s group ID, these rules and restrictions are not applied during an ASM customer emulation. The CMS endpoints instead provide content based on what the customer support agent is permitted to see.</p>

<p>To display CMS content, Spartacus relies on the CMS endpoints from OCC. When requests are sent, the CMS endpoints do not accept a <code class="language-plaintext highlighter-rouge">userId</code> parameter that could define the emulated user (that is, the customer). The CMS endpoints only recognize the authenticated user as the sender of requests, and in ASM customer emulation sessions, the authenticated user is the customer support agent.</p>

<p>The following OCC CMS endpoints work only for the authenticated user:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">/{baseSiteId}/cms/components</code></li>
  <li><code class="language-plaintext highlighter-rouge">/{baseSiteId}/cms/components/{componentId}</code></li>
  <li><code class="language-plaintext highlighter-rouge">/{baseSiteId}/cms/pages</code></li>
  <li><code class="language-plaintext highlighter-rouge">/{baseSiteId}/cms/pages/{pageId}</code></li>
  <li><code class="language-plaintext highlighter-rouge">/{baseSiteId}/cms/sitepages</code></li>
</ul>

<p>OCC CMS endpoints do not accept a <code class="language-plaintext highlighter-rouge">userId</code> parameter, so it is not possible for an emulated customer to trigger CMS rules and restrictions during an ASM emulation session.</p>


<!-- <h3 class="archive__subtitle">Recent posts</h3>




 -->

  </div>
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><div class="docsearch-container"><input type="search" id="docsearch" aria-placeholder="Enter your search term..." class="search-input" tabindex="-1" placeholder="Enter your search term..." /></div>
    <!-- <div id="results" class="results"></div> --></div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<table BORDER="0"><tr><td class="tdfooter"><a href="https://www.sap.com/copyright" target="_blank">Copyright</a></td>

<td class="tdfooter"><a href="https://sap.github.io/spartacus-docs/privacy-statement/">Privacy Statement</a></td>

<td class="tdfooter"><a href="https://www.sap.com/impressum" target="_blank">Legal Disclosure</a></td>

<td class="tdfooter"><a href="https://www.sap.com/trademark" target="_blank">Trademark</a></td>

<td class="tdfooter"><a href="https://www.sap.com/terms-of-use" target="_blank">Terms of Use</a></td></tr></table>
<!-- end custom footer snippets -->
        <!-- <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/spartacus-docs/4.x/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Spartacus Documentation. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div> -->

      </footer>
    </div>

    
  <script src="/spartacus-docs/4.x/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin="anonymous"></script>










    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script> 
    <script type="text/javascript"> docsearch({ 
    appId: 'BNZEXRISC6',
    apiKey: '54a795a072ff713045038ee4ad33c990', 
    indexName: 'sap_spartacus', 
    inputSelector: '#docsearch', 
    algoliaOptions: {
      'facetFilters': ["tags:4.x"]
      },
    debug: false // Set debug to true if you want to inspect the dropdown 
    }); 
    </script> 

    <script>
      anchors.options = {
      visible: 'hover',
      icon: "\uf0c1"
      };
    anchors.add();
    </script>

    </body>
</html>
