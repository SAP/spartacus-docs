<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Global Configuration in Spartacus (DRAFT) - Spartacus Documentation</title>
<meta name="description" content="SAP Spartacus JavaScript Storefront Documentation.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Spartacus Documentation">
<meta property="og:title" content="Global Configuration in Spartacus (DRAFT)">
<meta property="og:url" content="/spartacus-docs/1.x/global-configuration-in-spartacus/">












  

  


<link rel="canonical" href="/spartacus-docs/1.x/global-configuration-in-spartacus/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": null,
      "url": null,
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/spartacus-docs/1.x/feed.xml" type="application/atom+xml" rel="alternate" title="Spartacus Documentation Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/spartacus-docs/1.x/assets/css/main.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert scripts for adding anchor links to headers -->

<script src="https://kit.fontawesome.com/82d5a2bf2f.js" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script>
  anchors.add();
</script>

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /> 
  </head>

  <body class="layout--home">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/spartacus-docs/1.x/"><img src="/spartacus-docs/1.x/assets/images/logo-blue_64x64.png" alt=""></a>
        
        <a class="site-title" href="/spartacus-docs/1.x/">Spartacus Documentation</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/spartacus-docs/1.x/docs-archive/" >Doc Archive</a>
            </li><li class="masthead__menu-item">
              <a href="https://join.slack.com/t/spartacus-storefront/shared_invite/enQtNDM1OTI3OTMwNjU5LTg1NGVjZmFkZjQzODc1MzFhMjc3OTZmMzIzYzg0YjMwODJiY2YxYjA5MTE5NjVmN2E5NjMxNjEzMGNlMDRjMjU" >Feedback</a>
            </li><li class="masthead__menu-item">
              <a href="https://stackoverflow.com/questions/tagged/spartacus-storefront" >Support</a>
            </li><li class="masthead__menu-item">
              <a href="/spartacus-docs/1.x/release-information/" >Version 1.5</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Home</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/spartacus-docs/1.x/" class="">About Spartacus</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/release-information/" class="">Release Information ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                 </ul>
                 
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/spartacus-videos/" class="">Spartacus Videos</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/spartacus-roadmap/" class="">Spartacus Roadmap</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/spartacus-faq/" class="">Spartacus FAQ</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/docs-archive/" class="">Documentation Archive</a>
 
              

                
             </li>
           
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Getting Started with Spartacus Libraries</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/spartacus-docs/1.x/installing-sap-commerce-cloud/" class="">Installing SAP Commerce Cloud for use with Spartacus ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                 </ul>
                 
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/cors/" class="">Cross-Origin Resource Sharing (CORS)</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/building-the-spartacus-storefront-from-libraries/" class="">Building the Spartacus Storefront from Libraries</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/recommended-development-environment/" class="">Recommended Development Environment</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/snapshot-builds/" class="">Snapshot Builds</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/configuring-feature-flags/" class="">Configuring Feature Flags</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/smartEdit-setup-instructions-for-spartacus/" class="">SmartEdit Setup Instructions for Spartacus</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/personalization-setup-instructions-for-spartacus/" class="">Personalization Setup Instructions for Spartacus</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/spartacussampledataaddon/" class="">Spartacussampledataaddon AddOn</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/integrations/" class="">Integrations ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                 </ul>
                 
             </li>
           
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Storefront Development Guide</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/spartacus-docs/1.x/storefront-development-faq/" class="">Storefront Development FAQ</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/spartacus-api/" class="">Spartacus API</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/global-configuration-in-spartacus/" class="active">Global Configuration in Spartacus</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/spartacus-features/" class="">Spartacus Features ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                 </ul>
                 
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/security-best-practices/" class="">Security Best Practices</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/performance/" class="">Performance Optimizations ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                    

                     
                   
                 </ul>
                 
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/outlets/" class="">Outlets</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/styling-and-page-layout/" class="">Styling and Page Layout ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                 </ul>
                 
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/customizing-and-extending/" class="">Customizing and Extending Spartacus Features ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                 </ul>
                 
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/extending-checkout/" class="">Extending Checkout</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/express-checkout/" class="">Express Checkout</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/guest-checkout/" class="">Guest Checkout</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/configurable-routing/" class="">Configurable Routing ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                 </ul>
                 
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/configuring-base-url/" class="">Configuring the Base URL</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/context-configuration/" class="">Multi-Site Configuration ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                    

                     
                   
                 </ul>
                 
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/pwa-home/" class="">PWA ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                    

                     
                   
                 </ul>
                 
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/seo/" class="">SEO ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                    

                     
                   
                 </ul>
                 
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/i18n/" class="">Internationalization (i18n)</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/state-management/" class="">State Management ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                 </ul>
                 
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/smartedit-contract/" class="">SmartEdit Contract in Spartacus</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/customizing-backend-communication/" class="">Customizing Back End Communication ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                    

                     
                   
                 </ul>
                 
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/global-messages/" class="">Global Messages</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/http-error-handling/" class="">HTTP Error Handling</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/configurable-state-persistence-and-rehydration/" class="">Configurable State Persistence and Rehydration</a>
 
              

                
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/server-side-rendering-in-spartacus/" class="">Server-Side Rendering ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                    

                     
                   
                 </ul>
                 
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/view-configuration/" class="">View Configuration ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                 </ul>
                 
             </li>
           
            
            

            
            

            <li><a href="/spartacus-docs/1.x/user-experience-guidelines/" class="">User Experience Guidelines ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                    

                     
                   
                    

                     
                   
                 </ul>
                 
             </li>
           
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">Contributing to Spartacus</span>
        

        
        <ul>
          
            
            

            
            

            <li><a href="/spartacus-docs/1.x/contributors-guide/" class="">Contributor's Guide ➢</a>
 
              

              
                <ul>
                  
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                    

                     
                   
                 </ul>
                 
             </li>
           
        </ul>
        
      </li>
    
  </ul>
</nav>
    
  
  </div>


  <div class="archive">
    
      <h1 id="page-title" class="page__title">Global Configuration in Spartacus (DRAFT)</h1>
    
    <p>Spartacus uses a configuration mechanism that provides global app configuration at app bootstrap and is not changed while the app is running.</p>

<p>Each storefront module that is using configuration usually provides typing for its part of the configuration with some defaults.</p>

<p>Any configuration provided can be overridden in the main app module.</p>

<h2 id="how-to-use-configuration">How to use configuration</h2>

<h3 id="storefrontlibwithconfig">StorefrontLib.withConfig</h3>

<p>If you import B2cStorefrontModule in your app, preferred and easiest method to provide configuration is to use <code class="language-plaintext highlighter-rouge">B2cStorefrontModule.withConfig(config?: StorefrontModuleConfig)</code>.
<code class="language-plaintext highlighter-rouge">StorefrontModuleConfig</code> interface provides type safety and context-aware code completion that speed ups defining configuration and helps to avoid any typos.</p>

<h3 id="configmodulewithconfig">ConfigModule.withConfig</h3>

<p>Importing <code class="language-plaintext highlighter-rouge">ConfigModule.withConfig(config: any)</code> is useful, when we want to use the configuration in our module and, at the same time, contribute to it.
<code class="language-plaintext highlighter-rouge">config</code> parameter is not typed, can be an object of any shape, so it suggested to either use typed const or use type casting <code class="language-plaintext highlighter-rouge">ConfigModule.withConfig(&lt;ConfigType&gt;{})</code> to utilize type safety.</p>

<h3 id="provideconfig">provideConfig</h3>

<p>Using <code class="language-plaintext highlighter-rouge">provideConfig</code> in providers array is best used in case we want to contribute to the global configuration without the need of
importing ConfigModule, or when we want to implement module with providers and provide config conditionally.</p>

<h3 id="configmodulewithconfigfactory--provideconfigfactory">ConfigModule.withConfigFactory / provideConfigFactory</h3>

<p>Works the same as their counterparts (<code class="language-plaintext highlighter-rouge">ConfigModule.withConfig</code>, <code class="language-plaintext highlighter-rouge">provideConfig</code>), but use factory instead of plain object to contribute configuration. Useful when we need to do some config generation or composition.</p>

<h3 id="limitations">Limitations</h3>

<p>It may be handy to decompose and merge some objects before providing them to the config. For example, one may want to use default translations, but customize only a few:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">i18n</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">resources</span><span class="p">:</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">translations</span><span class="p">,</span>
        <span class="p">...</span><span class="nx">customTranslations</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Unfortunately, the objects transformed with the object spread operator and passed to <code class="language-plaintext highlighter-rouge">ConfigModule.withConfig</code> (or <code class="language-plaintext highlighter-rouge">provideConfig</code>) disappear  in the AOT compilation due to a known Angular’s issue (see <a href="https://github.com/angular/angular/issues/28078">Angular issue</a> and <a href="https://stackoverflow.com/questions/50141412/when-using-aot-changes-to-objects-passed-to-forroot-are-discarded-when-injected">StackOverflow explanation</a>). As a working alternative, <code class="language-plaintext highlighter-rouge">ConfigModule.withConfigFactory</code> / <code class="language-plaintext highlighter-rouge">provideConfigFactory</code> can be used.</p>

<h2 id="modifying-configuration-at-runtime-after-app-started">Modifying configuration at runtime (after app started)</h2>

<p>Support for read/write configuration (that can be changed after app bootstrap) is not covered (and supported) by this mechanism, and usually
should be implemented using other methods, either by putting that information in a store or expose it in a service,
ideally as an observable stream (to easily react to changes).
General advice would be, that any value that can change in time, should be a part of app state rather than part of the app configuration.</p>

<h2 id="default-values">Default Values</h2>

<p>Each module usually provides adefault configuration that is needed for basic functionality. There is no special way to
provide default configuration, it is provided in the same way as any other configuration.
By default configuration we mean any configuration that is provided inside related module - usually it contains reasonable defaults or configuration that
is required for a module to operate.</p>

<p>Not all required configuration must be provided with defaults, for example, it might be hard to come up with some reasonable
defaults for some options. In this case, it is recommended to use ConfigValidators to validate configuration and warn customer (in development mode)
if required config is missing.</p>

<h2 id="overriding-values">Overriding values</h2>

<p>Configuration mechanism used in spartacus is built upon and subject to the rules of standard Angular Dependency Injection mechanism,
Each configuration chunk (default or override) is provided separately, with multi-provider feature and all chunks are merged
in a factory used to inject configuration.</p>

<h3 id="how-merging-process-works">How merging process works?</h3>

<p>Each configuration chunk is a plain JS object which contributes to one global configuration object, using deep object merging.
Benefits of this solutions are: flexibility, ability to enhance configuration in feature modules, ability to easily provide defaults
in modules, ability to override any part on the configuration on top (in shell app), ability to set configuration just before app bootstrap (e.g. using meta tags).</p>

<p>Deep merging works only for objects, arrays are overwritten without merging.</p>

<p>Some example of configuration merging:</p>

<ul>
  <li>
    <p>Simple merge:</p>

    <p>Chunk 1: <code class="language-plaintext highlighter-rouge">{ site: { occ-prefix: 'rest-api' } }</code></p>

    <p>Chunk 2: <code class="language-plaintext highlighter-rouge">{ site: { base-site: 'electronics' } }</code></p>

    <p>Merged: <code class="language-plaintext highlighter-rouge">{ site: { occ-prefix: 'rest-api', base-site: 'electronics' } }</code></p>
  </li>
  <li>
    <p>Merge with overwrite:</p>

    <p>Chunk 1: <code class="language-plaintext highlighter-rouge">{ site: { occ-prefix: 'rest-api' } }</code></p>

    <p>Chunk 2: <code class="language-plaintext highlighter-rouge">{ site: { base-site: 'electronics', occ-prefix: 'aaa' } }</code></p>

    <p>Merged: <code class="language-plaintext highlighter-rouge">{ site: { occ-prefix: 'aaa', base-site: 'electronics' } }</code></p>
  </li>
  <li>
    <p>Array overwrite:</p>

    <p>Chunk 1: <code class="language-plaintext highlighter-rouge">{ config-values: ['a', 'b' ] }</code></p>

    <p>Chunk 2: <code class="language-plaintext highlighter-rouge">{ config-values: ['c'] }</code></p>

    <p>Merged: <code class="language-plaintext highlighter-rouge">{ config-values: ['c'] }</code></p>
  </li>
</ul>

<h3 id="order-of-provided-configuration-chunks">Order of provided configuration chunks</h3>

<p>The order in which chunks are merged relies on the order in how they were provided, which basically means:</p>

<ul>
  <li>If the configuration was defined using import ConfigModule.withConfig, order of imports is also defines order of chunks.</li>
  <li>The above also applies to modules that use ConfigModule.withConfig inside.</li>
  <li>Direct providing (using provideConfig or ConfigChunk token), will always overwrite configuration from imported modules (both ConfigModule.forRoot() and feature modules with default configuration).</li>
  <li>Each consecutive directly provided config chunk will be able to overwrite the previous one.</li>
</ul>

<p>If the configuration is provided in a module two level deep, i.e. imported module imports anther module (sub-module), which provides its
configuration, then sub-module configuration technically must be provided before parent module is actually imported, so any configuration defined in the upper level
will always override it.</p>

<h2 id="config-validators">Config validators</h2>

<p>Config validators can be easily used to implement runtime checks that will warn developers (by default, only in development mode)
when the config not valid, i.e. some parts of the configuration are missing, some parts are mutually exclusive or some parts has wrong values.</p>

<p>Config validator is a simple function that just returns validation error message in case of validation fail.
Each config validator should be provided using <code class="language-plaintext highlighter-rouge">provideConfigValidator</code>.</p>

<h3 id="implementing-configuration-in-new-features">Implementing configuration in new features</h3>

<p>Configuration can be used out of the box, without any specific perquisites, using techniques described above.
However, below are the best practices explaining how to implement feature module that uses and contribute to global configuration:</p>

<ol>
  <li>
    <p>Define an abstract class for your part of the configuration.</p>

    <p>We recommend using an abstract class instead of an interface to not only provide typings but also an injection token, that will simplify configuration usage inside your module (and in some advanced scenarios, could facilitate separate configuration for your module).</p>

    <p>By convention, all Spartacus storefront modules are using <code class="language-plaintext highlighter-rouge">config</code> folder for this purpose, e.g. <code class="language-plaintext highlighter-rouge">my-module/config/my-module-config.ts</code></p>
  </li>
  <li>
    <p>Define defaults</p>

    <p>Export default configuration, preferably as a const typed plain object value.</p>

    <p>By convention, all spartacus modules are using <code class="language-plaintext highlighter-rouge">config</code> folder for this purpose, e.g. <code class="language-plaintext highlighter-rouge">my-module/config/default-my-module-config.ts</code></p>
  </li>
  <li>
    <p>Provide default to configuration</p>

    <p>In you feature module import <code class="language-plaintext highlighter-rouge">ConfigModule.withConfig(),</code> and pass default config there, e.g. <code class="language-plaintext highlighter-rouge">ConfigModule.withConfig(defaultMyModuleConfig),</code></p>
  </li>
  <li>
    <p>Provide global configuration using your typed abstract class</p>

    <p>This step is not technically needed, because you can always inject global config. However, it is recommended because defines proper config encapsulation, allows for easy injection and provides type safety for your module. The following is an example:</p>

    <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="p">{</span> <span class="nl">provide</span><span class="p">:</span> <span class="nx">MyModuleConfig</span><span class="p">,</span> <span class="nx">useExisting</span><span class="p">:</span> <span class="nx">Config</span> <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Add interface to storefrontConfiguration type</p>

    <p>If you are developing core storefront feature, to make your configuration options available to the customer to use with <code class="language-plaintext highlighter-rouge">B2cStorefrontModule.withConfig()</code>, import and include your new type to global <code class="language-plaintext highlighter-rouge">StorefrontModuleConfig</code> type in <code class="language-plaintext highlighter-rouge">projects/storefrontlib/src/lib/storefront-config.ts</code>.</p>
  </li>
</ol>


<!-- <h3 class="archive__subtitle">Recent posts</h3>




 -->

  </div>
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><div class="docsearch-container"><input type="search" id="docsearch" aria-placeholder="Enter your search term..." class="search-input" tabindex="-1" placeholder="Enter your search term..." /></div>
    <!-- <div id="results" class="results"></div> --></div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <!-- <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/spartacus-docs/1.x/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Spartacus Documentation. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div> -->

      </footer>
    </div>

    
  <script src="/spartacus-docs/1.x/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin="anonymous"></script>










    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script> 
    <script type="text/javascript"> docsearch({ 
    apiKey: 'a80d5313e9ea5b00e5004f69b9c090e9', 
    indexName: 'sap-spartacus', 
    inputSelector: '#docsearch', 
    debug: false // Set debug to true if you want to inspect the dropdown 
    }); 
    </script> 

    <script>
      anchors.options = {
      visible: 'hover',
      icon: "\uf0c1"
      };
    anchors.add();
    </script>

    </body>
</html>
