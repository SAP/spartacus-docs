<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>SmartEdit Contract in Spartacus - Spartacus Documentation</title>
<meta name="description" content="SAP Spartacus JavaScript Storefront Documentation.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Spartacus Documentation">
<meta property="og:title" content="SmartEdit Contract in Spartacus">
<meta property="og:url" content="/spartacus-docs/beta-docs/smartedit-contract/">












  

  


<link rel="canonical" href="/spartacus-docs/beta-docs/smartedit-contract/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": null,
      "url": null,
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/spartacus-docs/beta-docs/feed.xml" type="application/atom+xml" rel="alternate" title="Spartacus Documentation Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/spartacus-docs/beta-docs/assets/css/main.css">
<link rel="stylesheet" href="/spartacus-docs/beta-docs/assets/css/keys.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert scripts for adding anchor links to headers -->

<script src="https://kit.fontawesome.com/82d5a2bf2f.js" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script>
  anchors.add();
</script>

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /> 
  </head>

  <body class="layout--home">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/spartacus-docs/beta-docs/"><img src="/spartacus-docs/beta-docs/assets/images/logo-blue_64x64.png" alt="Spartacus logo"></a>
        
        <a class="site-title" href="/spartacus-docs/beta-docs/">Spartacus Documentation</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/docs-archive/" >Doc Archive</a>
            </li><li class="masthead__menu-item">
              <a href="https://join.slack.com/t/spartacus-storefront/shared_invite/zt-jekftqo0-HP6xt6IF~ffVB2cGG66fcQ" >Feedback</a>
            </li><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/#how-to-obtain-support" >Support</a>
            </li><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/release-information/" >Version 5.0</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/"><span class="nav__sub-title">Home</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/getting-started/"><span class="nav__sub-title">Getting Started with Spartacus Libraries</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/installing-sap-commerce-cloud/">Installing SAP Commerce Cloud for use with Spartacus ➢</a>
                                                  
                                                            <ul>
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/cors/">Cross-Origin Resource Sharing (CORS)</a>
                                                  
                                                            <ul>
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/reference-app-structure/">Reference App Structure</a>
                                                  
                                                            <ul>
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/building-the-spartacus-storefront-from-libraries/">Building the Spartacus Storefront from Libraries ➢</a>
                                                  
                                                            <ul>
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                      
                                                                  
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/recommended-development-environment/">Recommended Development Environment</a>
                                                  
                                                            <ul>
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/browser-support/">Web Browser Support</a>
                                                  
                                                            <ul>
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/integrations/">Integrations ➢</a>
                                                  
                                                            <ul>
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                    
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/configurable-products-integration/">Configurable Products Integration</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/cpq-configurable-products-integration/">CPQ Configurable Products Integration</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/digital-payments-integration/">Digital Payments Integration</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/cds-integration/">Intelligent Selling Services for SAP Commerce Cloud Integration</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/kyma-integration/">Kyma Integration</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/cybersource-integration/">Payment Integration with CyberSource Example</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/personalization-setup-instructions-for-spartacus/">Personalization Integration</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/qualtrics-integration/">Qualtrics Integration</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/cdc-integration/">SAP Customer Data Cloud Integration</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/epd-visualization-integration/">SAP Enterprise Product Development Visualization Integration</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/smartEdit-setup-instructions-for-spartacus/">SmartEdit Integration ➢</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                                
                                                                                  

                                                                                    
                                                                                    
                                                                                  
                                                                                    
                                                                                    
                                                                                         
                                                                                       <li><a href="/spartacus-docs/beta-docs/smartedit-contract/" class="active">SmartEdit Contract in Spartacus</a></li>

                                                                                       
                                                                                        
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      
                                                                      
                                                                  
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                
                                        
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/dev-guide/"><span class="nav__sub-title">Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/using-spartacus/"><span class="nav__sub-title">Using the Spartacus Storefront</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/about-tua-spartacus/"><span class="nav__sub-title">Telco & Utilities Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/about-fsa-spartacus/"><span class="nav__sub-title">Financial Services Accelerator Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/contributors-guide/"><span class="nav__sub-title">Contributing to Spartacus</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
  </ul>
</nav>      

    
  
  </div>


  <div class="archive">
    
      <h1 id="page-title" class="page__title">SmartEdit Contract in Spartacus</h1>
    
    <p>The following sections describe how the SmartEdit Contract is implemented in Spartacus.</p>

<p>For information on setting up SmartEdit in Spartacus, see <a href="/spartacus-docs/beta-docs/smartEdit-setup-instructions-for-spartacus/">SmartEdit Integration</a>.</p>

<p>For general information on SmartEdit Contracts, see <a href="https://help.sap.com/viewer/9d346683b0084da2938be8a285c0c27a/latest/en-US/622cebcb444b42e18de2147775430b9d.html">SmartEdit Contract for Storefronts</a>.</p>

<hr />

<p><strong>Table of Contents</strong></p>

<ul id="markdown-toc">
  <li><a href="#smartedit-contract-implementation" id="markdown-toc-smartedit-contract-implementation">SmartEdit Contract Implementation</a></li>
  <li><a href="#preview-ticket-api-mechanism" id="markdown-toc-preview-ticket-api-mechanism">Preview Ticket API Mechanism</a>    <ul>
      <li><a href="#getting-the-cmsticketid" id="markdown-toc-getting-the-cmsticketid">Getting the cmsTicketId</a></li>
      <li><a href="#using-the-smartedit-interceptor" id="markdown-toc-using-the-smartedit-interceptor">Using the Smartedit Interceptor</a></li>
    </ul>
  </li>
  <li><a href="#html-markup-contract" id="markdown-toc-html-markup-contract">HTML Markup Contract</a>    <ul>
      <li><a href="#properties-in-cms-items-received-from-the-back-end" id="markdown-toc-properties-in-cms-items-received-from-the-back-end">Properties in CMS Items Received from the Back End</a></li>
      <li><a href="#the-dynamicattributeservice" id="markdown-toc-the-dynamicattributeservice">The DynamicAttributeService</a></li>
    </ul>
  </li>
  <li><a href="#rerendering-components-and-content-slots-after-editing" id="markdown-toc-rerendering-components-and-content-slots-after-editing">Rerendering Components and Content Slots After Editing</a></li>
  <li><a href="#default-preview-category-or-product" id="markdown-toc-default-preview-category-or-product">Default Preview Category or Product</a></li>
  <li><a href="#wcms-cockpit-preview-url-and-spartacus-context" id="markdown-toc-wcms-cockpit-preview-url-and-spartacus-context">WCMS Cockpit Preview URL and Spartacus Context</a></li>
</ul>

<hr />

<h2 id="smartedit-contract-implementation">SmartEdit Contract Implementation</h2>

<p>To make Spartacus work with SmartEdit, you need to implement the SmartEdit Contract in Spartacus. The SmartEdit Contract consists of the following:</p>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">webApplicationInjector.js</code> file that must be included in each page.</li>
  <li>A preview ticket API mechanism</li>
  <li>An HTML Markup Contract</li>
</ul>

<p>For information on how to include the <code class="language-plaintext highlighter-rouge">webApplicationInjector.js</code> file in your app, see <a href="/spartacus-docs/beta-docs/smartEdit-setup-instructions-for-spartacus/">SmartEdit Integration</a>.</p>

<p>The <a href="">preview ticket API mechanism</a></p>

<h2 id="preview-ticket-api-mechanism">Preview Ticket API Mechanism</h2>

<h3 id="getting-the-cmsticketid">Getting the cmsTicketId</h3>

<p>The <code class="language-plaintext highlighter-rouge">cmsTicketId</code> is also know as the <code class="language-plaintext highlighter-rouge">previewToken</code>.</p>

<p>When Spartacus is launched in SmartEdit, SmartEdit sends a request to Spartacus with <code class="language-plaintext highlighter-rouge">cmsTicketId</code> as the parameter. The following is an example:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://localhost:4200/cx-preview?cmsTicketId=6477500489900224fda62f41-167a-40fe-9ecc-39019a64ebb9
</code></pre></div></div>

<p>By default, SmartEdit appends <code class="language-plaintext highlighter-rouge">/cx-preview</code> to the storefront URI so that it can preview your storefront. However, you can configure SmartEdit to route the request to the another endpoint in your app. Use the <code class="language-plaintext highlighter-rouge">storefrontPreviewRoute</code> property in an ImpEx to specify your custom storefront route as shown in the following example:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>INSERT_UPDATE SmartEditConfiguration;key[unique=true];value
;storefrontPreviewRoute;"""my-custom-preview"""
</code></pre></div></div>

<p>The <code class="language-plaintext highlighter-rouge">cmsTicketId</code> is generated in the back end. It contains information required by SmartEdit, such as the <code class="language-plaintext highlighter-rouge">catalogVersion</code>. For more information, see <a href="https://help.sap.com/docs/SAP_COMMERCE/9d346683b0084da2938be8a285c0c27a/3a3bda5d50614f2aa4a299b600281360.html?locale=en-US">Preview API</a>.</p>

<p>Spartacus receives the <code class="language-plaintext highlighter-rouge">cmsTicketId</code> from the request sent from SmartEdit.</p>

<h3 id="using-the-smartedit-interceptor">Using the Smartedit Interceptor</h3>

<p>To allow SmartEdit to load pages in Spartacus, SmartEdit needs to be sent all the required context data. This includes the site, content catalog, and content catalog version, and can also specify the language, date, and time. As a result, the <code class="language-plaintext highlighter-rouge">cmsTicketId</code> needs to be appended to any CMS requests sent from Spartacus to the back end.</p>

<p>For this purpose, Spartacus has the <code class="language-plaintext highlighter-rouge">CmsTicketInterceptor</code>. If a <code class="language-plaintext highlighter-rouge">cmsTicketId</code> exists and requests are specified with <code class="language-plaintext highlighter-rouge">cms</code>, the interceptor adds <code class="language-plaintext highlighter-rouge">cmsTicketId</code> as one of the request parameters. The following is an example:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://localhost:9002/rest/v2/electronics-spa/cms/pages?fields=DEFAULT&amp;lang=en&amp;curr=USD&amp;cmsTicketId=6477500489900224fda62f41-167a-40fe-9ecc-39019a64ebb9
</code></pre></div></div>

<h2 id="html-markup-contract">HTML Markup Contract</h2>

<p>The HTML markup contract stipulates that every CMS component and every content slot must be wrapped in an HTML tag and include specific elements.</p>

<h3 id="properties-in-cms-items-received-from-the-back-end">Properties in CMS Items Received from the Back End</h3>

<p>If CMS requests are sent with a <code class="language-plaintext highlighter-rouge">cmsTicketId</code>, a <code class="language-plaintext highlighter-rouge">properties</code> field is included in the response JSON data. The <code class="language-plaintext highlighter-rouge">properties</code> field contains groups of dynamic attributes that are required for the containing CMS items. For example, the <code class="language-plaintext highlighter-rouge">properties</code> in a CMS page could have the following data:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">...</span><span class="w">
</span><span class="nl">"label"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"homepage"</span><span class="err">,</span><span class="w">
</span><span class="nl">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"smartedit"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"classes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"smartedit-page-uid-homepage smartedit-page-uuid-eyJpdGVtSWQiOiJob21lcGFnZSIsImNhdGFsb2dJZCI6ImVsZWN0cm9uaWNzLXNwYUNvbnRlbnRDYXRhbG9nIiwiY2F0YWxvZ1ZlcnNpb24iOiJTdGFnZWQifQ== smartedit-catalog-version-uuid-electronics-spaContentCatalog/Staged"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>In the <code class="language-plaintext highlighter-rouge">smartedit</code> group, there is a <code class="language-plaintext highlighter-rouge">classes</code> attribute. The value of <code class="language-plaintext highlighter-rouge">classes</code> is the required SmartEdit Contract for this particular CMS page. Accordingly, you need to add these <code class="language-plaintext highlighter-rouge">classes</code> into the class list of the HTML body tag. If you check the HTML page source, you will see the body tag has this <code class="language-plaintext highlighter-rouge">classes</code> attribute. The following is an example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">body</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">smartedit-page-uid-homepage smartedit-page-uuid-eyJpdGVtSWQiOiJob21lcGFnZSIsImNhdGFsb2dJZCI6ImVsZWN0cm9uaWNzLXNwYUNvbnRlbnRDYXRhbG9nIiwiY2F0YWxvZ1ZlcnNpb24iOiJTdGFnZWQifQ== smartedit-catalog-version-uuid-electronics-spaContentCatalog/Staged</span><span class="dl">"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">cx</span><span class="o">-</span><span class="nx">storefront</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">version</span><span class="o">=</span><span class="dl">"</span><span class="s2">8.0.0</span><span class="dl">"</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">stop-navigating</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="nx">header</span><span class="o">&gt;&lt;</span><span class="nx">cx</span><span class="o">-</span><span class="nx">page</span><span class="o">-</span><span class="nx">layout</span> <span class="nx">section</span><span class="o">=</span><span class="dl">"</span><span class="s2">header</span><span class="dl">"</span> <span class="nx">ng</span><span class="o">-</span><span class="nx">reflect</span><span class="o">-</span><span class="nx">section</span><span class="o">=</span><span class="dl">"</span><span class="s2">header</span><span class="dl">"</span> <span class="kd">class</span><span class="o">=</span><span class="dl">"</span><span class="s2">header</span><span class="dl">"</span><span class="o">&gt;</span><span class="c">&lt;!--</span><span class="nx">bindings</span><span class="o">=</span><span class="p">{</span>
<span class="p">...</span>
</code></pre></div></div>

<p>CMS slots and components also contain <code class="language-plaintext highlighter-rouge">properties</code>. You need to add these attributes to component or slot tags. The following is an example of the <code class="language-plaintext highlighter-rouge">HelpLink</code> component.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"uid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"HelpLink"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"uuid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJpdGVtSWQiOiJIZWxwTGluayIsImNhdGFsb2dJZCI6ImVsZWN0cm9uaWNzLXNwYUNvbnRlbnRDYXRhbG9nIiwiY2F0YWxvZ1ZlcnNpb24iOiJTdGFnZWQifQ=="</span><span class="p">,</span><span class="w">
    </span><span class="nl">"typeCode"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"CMSLinkComponent"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"modifiedTime"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-07-02T13:44:27.77-04:00"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Help Link"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"container"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"external"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"/faq"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"linkName"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Help"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"smartedit"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"catalogVersionUuid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"electronics-spaContentCatalog/Staged"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"componentType"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"CMSLinkComponent"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"componentId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"HelpLink"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"classes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"smartEditComponent"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"componentUuid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"eyJpdGVtSWQiOiJIZWxwTGluayIsImNhdGFsb2dJZCI6ImVsZWN0cm9uaWNzLXNwYUNvbnRlbnRDYXRhbG9nIiwiY2F0YWxvZ1ZlcnNpb24iOiJTdGFnZWQifQ=="</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"target"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>The following is an example of what you see in the relevant page source:</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;cx-link</span> <span class="na">data-smartedit-catalog-version-uuid=</span><span class="s">"electronics-spaContentCatalog/Staged"</span> <span class="na">data-smartedit-component-type=</span><span class="s">"CMSLinkComponent"</span> <span class="na">data-smartedit-component-id=</span><span class="s">"HelpLink"</span> <span class="na">class=</span><span class="s">"smartEditComponent"</span> <span class="na">data-smartedit-component-uuid=</span><span class="s">"eyJpdGVtSWQiOiJIZWxwTGluayIsImNhdGFsb2dJZCI6ImVsZWN0cm9uaWNzLXNwYUNvbnRlbnRDYXRhbG9nIiwiY2F0YWxvZ1ZlcnNpb24iOiJTdGFnZWQifQ=="</span> <span class="na">data-smart-edit-component-process-status=</span><span class="s">"removeComponent"</span> <span class="na">data-smartedit-element-uuid=</span><span class="s">"8505cd4a-11b3-4fc8-b278-6f8ff74e50b3"</span> <span class="na">style=</span><span class="s">"position: relative;"</span><span class="nt">&gt;</span>
</code></pre></div></div>

<h3 id="the-dynamicattributeservice">The DynamicAttributeService</h3>

<p>Spartacus has a <code class="language-plaintext highlighter-rouge">DynamicAttributeService</code>. It can add dynamic attributes to the DOM. These attributes are extracted from the <code class="language-plaintext highlighter-rouge">properties</code> of the CMS items that are received from the back end.</p>

<p><strong>Note:</strong> There can be many different groups of properties, one of which is <code class="language-plaintext highlighter-rouge">smartedit</code>. However, SAP Commerce Cloud allows AddOns to create different groups. For example, the Personalization feature may add the <code class="language-plaintext highlighter-rouge">script</code> group.</p>

<p>Spartacus has the <code class="language-plaintext highlighter-rouge">addAttributesToComponent</code> function for adding attributes to components, and the <code class="language-plaintext highlighter-rouge">addAttributesToSlot</code> function for adding attributes to slots.</p>

<p>The following is an example of how to call the <code class="language-plaintext highlighter-rouge">addAttributesToComponent</code> function:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">this</span><span class="p">.</span><span class="nx">dynamicAttributeService</span><span class="p">.</span><span class="nx">addAttributesToComponent</span><span class="p">(</span>
      <span class="nx">elementRef</span><span class="p">.</span><span class="nx">nativeElement</span><span class="p">,</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">renderer</span><span class="p">,</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">cxComponentWrapper</span>
    <span class="p">);</span>
</code></pre></div></div>

<p>The following is an example of how to call the <code class="language-plaintext highlighter-rouge">addAttributesToSlot</code> function:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">this</span><span class="p">.</span><span class="nx">dynamicAttributeService</span><span class="p">.</span><span class="nx">addAttributesToSlot</span><span class="p">(</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">elementRef</span><span class="p">.</span><span class="nx">nativeElement</span><span class="p">,</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">renderer</span><span class="p">,</span>
        <span class="nx">slot</span>
    <span class="p">);</span>
</code></pre></div></div>

<h2 id="rerendering-components-and-content-slots-after-editing">Rerendering Components and Content Slots After Editing</h2>

<p>After you make changes to components or content slots, SmartEdit renders only the changed content so that you can quickly see your changes reflected on the page.</p>

<p>For pages rendered by the front end, the storefront rerenders the pages instead of SmartEdit. In this case, Spartacus implements the <code class="language-plaintext highlighter-rouge">renderComponent</code> function in the <code class="language-plaintext highlighter-rouge">window.smartedit namespace</code> as shown in the following example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">window</span><span class="p">.</span><span class="nx">smartedit</span><span class="p">.</span><span class="nx">renderComponent</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">componentId</span><span class="p">,</span> <span class="nx">componentType</span><span class="p">,</span> <span class="nx">parentId</span><span class="p">)</span> <span class="p">{</span> <span class="p">...</span> <span class="p">};</span>
</code></pre></div></div>

<p>If the <code class="language-plaintext highlighter-rouge">parentId</code> does not exist, the CMS item is considered a slot, and <code class="language-plaintext highlighter-rouge">renderComponent</code> then actually refreshes the whole CMS page. If the <code class="language-plaintext highlighter-rouge">parentId</code> does exist, the CMS item is considered a component, in which case, only this CMS component is refreshed.</p>

<h2 id="default-preview-category-or-product">Default Preview Category or Product</h2>

<p>Each site has a <code class="language-plaintext highlighter-rouge">defaultPreviewCategory</code>, <code class="language-plaintext highlighter-rouge">defaultPreviewProduct</code> and <code class="language-plaintext highlighter-rouge">defaultPreviewCatalog</code>. The following is an example:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>UPDATE CMSSite;uid[unique=true];defaultPreviewCategory(code, $productCV);defaultPreviewProduct(code, $productCV);defaultPreviewCatalog(id)
;$spaSiteUid;575;2053367;$productCatalog
</code></pre></div></div>

<p>When you open a category or product page in SmartEdit, along with the CMS pages being loaded, the default preview product or category is also loaded.</p>

<p>In SmartEdit, a product with code <code class="language-plaintext highlighter-rouge">2053367</code> is opened in the product details page, as shown in the following example:</p>

<p><img src="https://user-images.githubusercontent.com/44440575/60668058-0d998480-9e39-11e9-98a7-b75422a44c77.png" alt="Screen Shot 2019-07-04 at 8 51 30 AM" /></p>

<p>Similarly, for the category page, category <code class="language-plaintext highlighter-rouge">575</code> is opened in the product list page, as shown in the following example:</p>

<p><img src="https://user-images.githubusercontent.com/44440575/60668153-46d1f480-9e39-11e9-885c-d12cc6a62020.png" alt="Screen Shot 2019-07-04 at 8 52 02 AM" /></p>

<h2 id="wcms-cockpit-preview-url-and-spartacus-context">WCMS Cockpit Preview URL and Spartacus Context</h2>

<p>The WCMS Cockpit Preview URL must match the default context for your Spartacus web site.</p>

<p>For example, if you go to <code class="language-plaintext highlighter-rouge">https://localhost:4200</code>, you see the default URL path (or context), such as <code class="language-plaintext highlighter-rouge">https://localhost:4200/en/USD</code>. The Preview URL (which is set in Backoffice) must match the default that the context uses, otherwise errors will occur using SmartEdit. The default context installed by Spartacus schematics is <code class="language-plaintext highlighter-rouge">https://localhost:4200/en/USD</code>.</p>


<!-- <h3 class="archive__subtitle">Recent posts</h3>




 -->

  </div>
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><div class="docsearch-container"><input type="search" id="docsearch" aria-placeholder="Enter your search term..." class="search-input" tabindex="-1" placeholder="Enter your search term..." /></div>
    <!-- <div id="results" class="results"></div> --></div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<table BORDER="0"><tr><td class="tdfooter"><a href="https://www.sap.com/copyright" target="_blank">Copyright</a></td>

<td class="tdfooter"><a href="https://sap.github.io/spartacus-docs/privacy-statement/">Privacy Statement</a></td>

<td class="tdfooter"><a href="https://www.sap.com/impressum" target="_blank">Legal Disclosure</a></td>

<td class="tdfooter"><a href="https://www.sap.com/trademark" target="_blank">Trademark</a></td>

<td class="tdfooter"><a href="https://www.sap.com/terms-of-use" target="_blank">Terms of Use</a></td></tr></table>
<!-- end custom footer snippets -->
        <!-- <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/spartacus-docs/beta-docs/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Spartacus Documentation. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div> -->

      </footer>
    </div>

    
  <script src="/spartacus-docs/beta-docs/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin="anonymous"></script>










    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script> 
    <script type="text/javascript"> docsearch({ 
    appId: 'BNZEXRISC6',
    apiKey: '54a795a072ff713045038ee4ad33c990', 
    indexName: 'sap_spartacus', 
    inputSelector: '#docsearch', 
    algoliaOptions: {
      'facetFilters': ["tags:beta-docs"]
      },
    debug: false // Set debug to true if you want to inspect the dropdown 
    }); 
    </script> 

    <script>
      anchors.options = {
      visible: 'hover',
      icon: "\uf0c1"
      };
    anchors.add();
    </script>

    </body>
</html>
