<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Feature Flags and Code Deprecation - Spartacus Documentation</title>
<meta name="description" content="SAP Spartacus JavaScript Storefront Documentation.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Spartacus Documentation">
<meta property="og:title" content="Feature Flags and Code Deprecation">
<meta property="og:url" content="/spartacus-docs/beta-docs/feature-flags-and-code-deprecation/">












  

  


<link rel="canonical" href="/spartacus-docs/beta-docs/feature-flags-and-code-deprecation/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": null,
      "url": null,
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/spartacus-docs/beta-docs/feed.xml" type="application/atom+xml" rel="alternate" title="Spartacus Documentation Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/spartacus-docs/beta-docs/assets/css/main.css">
<link rel="stylesheet" href="/spartacus-docs/beta-docs/assets/css/keys.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert scripts for adding anchor links to headers -->

<script src="https://kit.fontawesome.com/82d5a2bf2f.js" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script>
  anchors.add();
</script>

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /> 
  </head>

  <body class="layout--home">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/spartacus-docs/beta-docs/"><img src="/spartacus-docs/beta-docs/assets/images/logo-blue_64x64.png" alt="Spartacus logo"></a>
        
        <a class="site-title" href="/spartacus-docs/beta-docs/">Spartacus Documentation</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/docs-archive/" >Doc Archive</a>
            </li><li class="masthead__menu-item">
              <a href="https://join.slack.com/t/spartacus-storefront/shared_invite/zt-jekftqo0-HP6xt6IF~ffVB2cGG66fcQ" >Feedback</a>
            </li><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/#how-to-obtain-support" >Support</a>
            </li><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/release-information/" >Version 5.0</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/"><span class="nav__sub-title">Home</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/getting-started/"><span class="nav__sub-title">Getting Started with Spartacus Libraries</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/dev-guide/"><span class="nav__sub-title">Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/using-spartacus/"><span class="nav__sub-title">Using the Spartacus Storefront</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/about-tua-spartacus/"><span class="nav__sub-title">Telco & Utilities Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/about-fsa-spartacus/"><span class="nav__sub-title">Financial Services Accelerator Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/contributors-guide/"><span class="nav__sub-title">Contributing to Spartacus</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/beta-docs/contributing-to-the-spartacus-storefront/">Contributing to the Spartacus </br>Storefront ➢</a>
                                            
                                                <ul>
                                                    
                                                          
                                                    
                                                </ul>
                                              
                                        </li>
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/beta-docs/contributor-setup/">Contributor Setup ➢</a>
                                            
                                                <ul>
                                                    
                                                          
                                                    
                                                </ul>
                                              
                                        </li>
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/beta-docs/coding-guidelines/">Coding Guidelines ➢</a>
                                            
                                                <ul>
                                                    
                                                          
                                                    
                                                          
                                                    
                                                        
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/beta-docs/commit-guidelines/" class="">Committing Code to Spartacus</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/beta-docs/events-and-subscriptions/" class="">Events and Subscriptions</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/beta-docs/feature-flags-and-code-deprecation/" class="active">Feature Flags and Code Deprecation</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/beta-docs/git-flow-and-releases/" class="">Git Flow and Release Process</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/beta-docs/reactive-programming/" class="">Reactive Programming in Spartacus</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/beta-docs/type-safety-in-spartacus/" class="">Type Safety in Spartacus</a>


                                                                        
                                                                </li>
                                                            

                                                              
                                                              
                                                            
                                                              
                                                              

                                                                
                                                                <li><a href="/spartacus-docs/beta-docs/extensible-customizable-coding-guidelines/" class="">Writing Extensible and Customizable Code</a>


                                                                        
                                                                </li>
                                                            
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                </ul>
                                              
                                        </li>
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/beta-docs/definition-of-done/">Definition of Done ➢</a>
                                            
                                                <ul>
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                          
                                                    
                                                </ul>
                                              
                                        </li>
                                    

                                      
                                      

                                        <li><a href="/spartacus-docs/beta-docs/continuous-integration/">Continuous Integration</a>
                                              
                                        </li>
                                      
                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
  </ul>
</nav>      

    
  
  </div>


  <div class="archive">
    
      <h1 id="page-title" class="page__title">Feature Flags and Code Deprecation</h1>
    
    
<p><b>Note: </b> 
This feature is introduced with version 1.1 of the Spartacus libraries.
 </p>

<hr />

<p><strong>Table of Contents</strong></p>

<ul id="markdown-toc">
  <li><a href="#code-deprecation" id="markdown-toc-code-deprecation">Code Deprecation</a>    <ul>
      <li><a href="#deprecated-jsdoc-annotation" id="markdown-toc-deprecated-jsdoc-annotation">Deprecated JSDoc Annotation</a></li>
      <li><a href="#marking-deprecated-logic" id="markdown-toc-marking-deprecated-logic">Marking Deprecated Logic</a></li>
    </ul>
  </li>
  <li><a href="#feature-flags" id="markdown-toc-feature-flags">Feature Flags</a>    <ul>
      <li><a href="#deciding-if-you-need-a-feature-flag" id="markdown-toc-deciding-if-you-need-a-feature-flag">Deciding If You Need a Feature Flag</a></li>
      <li><a href="#detecting-the-feature-level" id="markdown-toc-detecting-the-feature-level">Detecting the Feature Level</a></li>
      <li><a href="#explicit-feature-flags" id="markdown-toc-explicit-feature-flags">Explicit Feature Flags</a>        <ul>
          <li><a href="#linking-the-feature-flag-to-the-feature-level" id="markdown-toc-linking-the-feature-flag-to-the-feature-level">Linking the Feature Flag to the Feature Level</a></li>
          <li><a href="#disabling-a-feature-for-a-specific-feature-level" id="markdown-toc-disabling-a-feature-for-a-specific-feature-level">Disabling a Feature for a Specific Feature Level</a></li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="code-deprecation">Code Deprecation</h2>

<p>For complex and rapidly evolving libraries, maintaining backwards compatibility while improving existing features can be challenging. Code deprecation allows you to properly mark obsolete code, and by warning users, it helps them in transitioning to better alternatives.</p>

<h3 id="deprecated-jsdoc-annotation">Deprecated JSDoc Annotation</h3>

<p>To mark functions, classes, methods, or properties as deprecated, use the <code class="language-plaintext highlighter-rouge">@deprecated</code> mark. The following is an example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/**
* @deprecated since 1.0.2
* Use better alternative instead
*/</span>
</code></pre></div></div>

<p>Depending on the actual deprecation policy, such code will become a candidate for removal in one of the next major versions.</p>

<h3 id="marking-deprecated-logic">Marking Deprecated Logic</h3>

<p>Often, to accommodate backwards compatibility, some indirectly related code needs to contain additional logic that should be removed when the related deprecated functionality is removed. When it is not obvious which additional logic should be removed, the best way to make sure that obsolete code is removed is to mark it with the proper <code class="language-plaintext highlighter-rouge">TODO</code> comment, preferably linked to a GitHub issue with additional details. These tickets should be properly labelled (for example, having a label of <code class="language-plaintext highlighter-rouge">deprecated-1.x</code>) to make it easier to reference in the future as a candidate for removal.</p>

<p>The following is an example of a <code class="language-plaintext highlighter-rouge">TODO</code> comment:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// TODO(issue:3313) Deprecated since 1.1.1</span>
</code></pre></div></div>

<h2 id="feature-flags">Feature Flags</h2>

<p>With each new minor version, new features are released. Sometimes, new features are added to existing components that can already be used by customers, which makes these changes breaking change, either because of an addition to the DOM, or because of different behavior. To avoid breaking customer’s code, and to have the flexibility to improve the functionality of existing components without the need of releasing new major versions too frequently, Spartacus makes use of feature flags.</p>

<p>Feature flags allow us to do the following:</p>

<ul>
  <li>Differentiate features based on feature level, which corresponds to the minor version number</li>
  <li>
    <p>Differentiate features based on an explicit feature flag</p>

    <p><strong>Note:</strong> Explicit feature flags can be linked to feature level, which means they are enabled by default for that particular level.</p>
  </li>
</ul>

<h3 id="deciding-if-you-need-a-feature-flag">Deciding If You Need a Feature Flag</h3>

<p>It is best to avoid creating new feature flags if they are not needed. This helps to keep our config clean and to make eventual maintenance easier. The following guideline can help you to decide which feature flag you should use, if any:</p>

<ol>
  <li>
    <p>If possible, try to avoid using feature flags.</p>

    <p>Instead, implement your feature as a separate module that could be imported optionally by a customer. If your functionality already has a separate configuration, determine which of the following will be more convenient:</p>
    <ul>
      <li>creating a new option in the module configuration (for general features, where there is an actual value in making them toggleable).</li>
      <li>using a feature flag (especially when the only reason for a flag is backwards compatibility).</li>
    </ul>
  </li>
  <li>If possible, try to avoid creating an explicit feature flag. Instead, try to enable features for specific feature levels, such as for minor releases.</li>
  <li>If you want to create an explicit feature flag, be sure the reason for doing so is justified (for example, the feature is important enough to be explicitly disabled or enabled).</li>
</ol>

<h3 id="detecting-the-feature-level">Detecting the Feature Level</h3>

<p>If your service or component already has the global config injected, you can use a simple utility function to check for the feature level, as shown in the following example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="nx">isFeatureLevel</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">,</span> <span class="dl">'</span><span class="s1">1.1</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>
  <span class="c1">// code that is meant to be executed for feature level 1.1 and above</span>
<span class="p">}</span>
</code></pre></div></div>

<p>If your component or service does not have access to the global config, you can inject the <code class="language-plaintext highlighter-rouge">FeatureConfigService</code> and use it, as shown in the following example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">constructor</span><span class="p">(</span>
    <span class="c1">// ...</span>
    <span class="k">protected</span> <span class="nx">featureConfig</span><span class="p">:</span> <span class="nx">FeatureConfigService</span>
  <span class="p">)</span> <span class="p">{}</span>

  <span class="c1">// set a feature flag based on the feature level</span>
  <span class="k">readonly</span> <span class="nx">isSomeNewFeatureEnabled</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">featureConfig</span><span class="p">.</span><span class="nx">isLevel</span><span class="p">(</span><span class="dl">'</span><span class="s1">1.1</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<p>If you want to conditionally show a component in a template, you can use the <code class="language-plaintext highlighter-rouge">cxFeatureLevel</code> directive, as shown in the following example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">newComponent</span> <span class="o">*</span><span class="nx">cxFeatureLevel</span><span class="o">=</span><span class="dl">"</span><span class="s2">'1.1'</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="sr">/newComponent</span><span class="err">&gt;
</span></code></pre></div></div>

<h3 id="explicit-feature-flags">Explicit Feature Flags</h3>

<p>Explicit feature flags are simple string identifiers. You can check their status similarly to checking the feature level.</p>

<p>You can use a simple utility function that consumes the global config, as shown in the following example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="p">(</span><span class="nx">isFeatureEnabled</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">config</span><span class="p">,</span> <span class="dl">'</span><span class="s1">consignmentTracking</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>
  <span class="c1">// code that is meant to be executed when feature consignmentTracking is enabled</span>
<span class="p">}</span>
</code></pre></div></div>

<p>The following is an example using the <code class="language-plaintext highlighter-rouge">FeatureConfigService</code>:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">consignmentTrackingEnabled</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">featureConfig</span><span class="p">.</span><span class="nx">isEnabled</span><span class="p">(</span><span class="dl">'</span><span class="s1">consignmentTracking</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div></div>

<p>The following is an example using a directive:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">newFeature</span> <span class="o">*</span><span class="nx">cxFeature</span><span class="o">=</span><span class="dl">"</span><span class="s2">'consignmentTracking'</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="sr">/newFeature</span><span class="err">&gt;
</span></code></pre></div></div>

<p>You can introduce explicit flags without additional configuration, but it is recommended that you include them in the type definition of the storefront configuration to expose them to customers. To do this, add your flag to the <code class="language-plaintext highlighter-rouge">FeatureToggles</code> interface in the <code class="language-plaintext highlighter-rouge">feature-toggles.ts</code> file as a new property with a type of <code class="language-plaintext highlighter-rouge">boolean</code>. The following is an example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kr">interface</span> <span class="nx">FeatureToggles</span> <span class="p">{</span>
  <span class="nl">features</span><span class="p">?:</span> <span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="cm">/**
     * Sample feature description
     */</span>
    <span class="na">consignmentTracking</span><span class="p">:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>
</code></pre></div></div>

<p>In this way, you can also add a description to the flag, and even deprecation annotation, if needed.</p>

<h4 id="linking-the-feature-flag-to-the-feature-level">Linking the Feature Flag to the Feature Level</h4>

<p>By linking your feature flag to the feature level, your flag will be enabled by default for that feature level, and all higher levels. To do this, provide the default value for a feature flag as a string representing the feature level. You can add this config to your module configuration, as show in the following example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">ConfigModule</span><span class="p">.</span><span class="nx">withConfig</span><span class="p">({</span>
  <span class="c1">// ...</span>
  <span class="na">features</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">consignmentTracking</span><span class="p">:</span> <span class="dl">'</span><span class="s1">1.1</span><span class="dl">'</span><span class="p">,</span>
  <span class="p">},</span>
<span class="p">})</span>
</code></pre></div></div>

<p>In this example, the consignment tracking feature is enabled by default if the feature level is set to at least <code class="language-plaintext highlighter-rouge">'1.1'</code>.</p>

<p><strong>Note:</strong> If you want your feature level to always be set to the most recent version, you can use the latest flag <code class="language-plaintext highlighter-rouge">'*'</code>, as follows:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">features</span><span class="p">:</span> <span class="p">{</span>
  <span class="nl">level</span><span class="p">:</span> <span class="dl">'</span><span class="s1">*</span><span class="dl">'</span>
<span class="p">}</span>
</code></pre></div></div>

<h4 id="disabling-a-feature-for-a-specific-feature-level">Disabling a Feature for a Specific Feature Level</h4>

<p>You can disable a feature for a specific feature level by including an exclamation mark <code class="language-plaintext highlighter-rouge">!</code> before the version number. The following is an example:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">newComponent</span> <span class="o">*</span><span class="nx">cxFeatureLevel</span><span class="o">=</span><span class="dl">"</span><span class="s2">'!1.1'</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="sr">/newComponent</span><span class="err">&gt;
</span></code></pre></div></div>


<!-- <h3 class="archive__subtitle">Recent posts</h3>




 -->

  </div>
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><div class="docsearch-container"><input type="search" id="docsearch" aria-placeholder="Enter your search term..." class="search-input" tabindex="-1" placeholder="Enter your search term..." /></div>
    <!-- <div id="results" class="results"></div> --></div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<table BORDER="0"><tr><td class="tdfooter"><a href="https://www.sap.com/copyright" target="_blank">Copyright</a></td>

<td class="tdfooter"><a href="https://sap.github.io/spartacus-docs/privacy-statement/">Privacy Statement</a></td>

<td class="tdfooter"><a href="https://www.sap.com/impressum" target="_blank">Legal Disclosure</a></td>

<td class="tdfooter"><a href="https://www.sap.com/trademark" target="_blank">Trademark</a></td>

<td class="tdfooter"><a href="https://www.sap.com/terms-of-use" target="_blank">Terms of Use</a></td></tr></table>
<!-- end custom footer snippets -->
        <!-- <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/spartacus-docs/beta-docs/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Spartacus Documentation. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div> -->

      </footer>
    </div>

    
  <script src="/spartacus-docs/beta-docs/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin="anonymous"></script>










    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script> 
    <script type="text/javascript"> docsearch({ 
    appId: 'BNZEXRISC6',
    apiKey: '54a795a072ff713045038ee4ad33c990', 
    indexName: 'sap_spartacus', 
    inputSelector: '#docsearch', 
    algoliaOptions: {
      'facetFilters': ["tags:beta-docs"]
      },
    debug: false // Set debug to true if you want to inspect the dropdown 
    }); 
    </script> 

    <script>
      anchors.options = {
      visible: 'hover',
      icon: "\uf0c1"
      };
    anchors.add();
    </script>

    </body>
</html>
