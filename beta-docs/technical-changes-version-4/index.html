<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Technical Changes in Spartacus 4.0 - Spartacus Documentation</title>
<meta name="description" content="SAP Spartacus JavaScript Storefront Documentation.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Spartacus Documentation">
<meta property="og:title" content="Technical Changes in Spartacus 4.0">
<meta property="og:url" content="/spartacus-docs/beta-docs/technical-changes-version-4/">












  

  


<link rel="canonical" href="/spartacus-docs/beta-docs/technical-changes-version-4/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": null,
      "url": null,
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/spartacus-docs/beta-docs/feed.xml" type="application/atom+xml" rel="alternate" title="Spartacus Documentation Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/spartacus-docs/beta-docs/assets/css/main.css">
<link rel="stylesheet" href="/spartacus-docs/beta-docs/assets/css/keys.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert scripts for adding anchor links to headers -->

<script src="https://kit.fontawesome.com/82d5a2bf2f.js" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script>
  anchors.add();
</script>

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /> 
  </head>

  <body class="layout--home">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/spartacus-docs/beta-docs/"><img src="/spartacus-docs/beta-docs/assets/images/logo-blue_64x64.png" alt="Spartacus logo"></a>
        
        <a class="site-title" href="/spartacus-docs/beta-docs/">Spartacus Documentation</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/docs-archive/" >Doc Archive</a>
            </li><li class="masthead__menu-item">
              <a href="https://join.slack.com/t/spartacus-storefront/shared_invite/zt-jekftqo0-HP6xt6IF~ffVB2cGG66fcQ" >Feedback</a>
            </li><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/#how-to-obtain-support" >Support</a>
            </li><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/release-information/" >Version 5.0</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/"><span class="nav__sub-title">Home</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/release-information/">Release Information ➢</a>
                                                  
                                                            <ul>
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                
                                                                  
                                                                    
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/pre-release-information/">Pre-Release Information</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/feature-release-versions/">Feature Compatibility</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/updating-to-version-5/">Updating to Version 5.0 ➢</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/updating-to-version-4/">Updating to Version 4.0 ➢</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                                
                                                                                  

                                                                                    
                                                                                    
                                                                                  
                                                                                    
                                                                                    
                                                                                         
                                                                                       <li><a href="/spartacus-docs/beta-docs/technical-changes-version-4/" class="active">Technical Changes in Spartacus 4.0</a></li>

                                                                                  

                                                                                    
                                                                                    
                                                                                  
                                                                                    
                                                                                    
                                                                                         
                                                                                       <li><a href="/spartacus-docs/beta-docs/css-changes-in-version-4/" class="">Changes to Styles in 4.0</a></li>

                                                                                       
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/updating-to-version-3/">Updating to Version 3.0 ➢</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/updating-to-version-2/">Updating to Version 2.0 ➢</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/misc-release-notes/">Miscellaneous Release Notes ➢</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                                        
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/known-issues/">Known Issues</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      
                                                                      
                                                                  
                                                                      
                                                                  
                                                                
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                
                                                                  
                                                                      
                                                                  
                                                                
                                                                  
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/spartacus-videos/">Spartacus Videos</a>
                                                  
                                                            <ul>
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/spartacus-roadmap/">Spartacus Roadmap</a>
                                                  
                                                            <ul>
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/spartacus-faq/">Spartacus FAQ</a>
                                                  
                                                            <ul>
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/docs-archive/">Documentation Archive</a>
                                                  
                                                            <ul>
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                
                                        
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/getting-started/"><span class="nav__sub-title">Getting Started with Spartacus Libraries</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/dev-guide/"><span class="nav__sub-title">Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/using-spartacus/"><span class="nav__sub-title">Using the Spartacus Storefront</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/about-tua-spartacus/"><span class="nav__sub-title">Telco & Utilities Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/about-fsa-spartacus/"><span class="nav__sub-title">Financial Services Accelerator Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/contributors-guide/"><span class="nav__sub-title">Contributing to Spartacus</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
  </ul>
</nav>      

    
  
  </div>


  <div class="archive">
    
      <h1 id="page-title" class="page__title">Technical Changes in Spartacus 4.0</h1>
    
    <hr />

<p><strong>Table of Contents</strong></p>

<ul id="markdown-toc">
  <li><a href="#config-interface-augmentation" id="markdown-toc-config-interface-augmentation">Config Interface Augmentation</a></li>
  <li><a href="#detailed-list-of-changes" id="markdown-toc-detailed-list-of-changes">Detailed List of Changes</a>    <ul>
      <li><a href="#config-providers" id="markdown-toc-config-providers">Config providers</a></li>
      <li><a href="#configmodule" id="markdown-toc-configmodule">ConfigModule</a></li>
      <li><a href="#config-injection-tokens" id="markdown-toc-config-injection-tokens">Config Injection Tokens</a></li>
      <li><a href="#storefrontconfig" id="markdown-toc-storefrontconfig">StorefrontConfig</a></li>
      <li><a href="#configinitializerservice" id="markdown-toc-configinitializerservice">ConfigInitializerService</a></li>
      <li><a href="#config-validators" id="markdown-toc-config-validators">Config Validators</a></li>
      <li><a href="#configinitializer" id="markdown-toc-configinitializer">ConfigInitializer</a></li>
      <li><a href="#configurationservice" id="markdown-toc-configurationservice">ConfigurationService</a></li>
      <li><a href="#feature-config-utils" id="markdown-toc-feature-config-utils">Feature Config Utils</a></li>
      <li><a href="#mediaservice" id="markdown-toc-mediaservice">MediaService</a></li>
      <li><a href="#modalservice" id="markdown-toc-modalservice">ModalService</a>        <ul>
          <li><a href="#product-configurator-configuration" id="markdown-toc-product-configurator-configuration">Product Configurator Configuration</a></li>
          <li><a href="#smarteditconfig" id="markdown-toc-smarteditconfig">SmartEditConfig</a></li>
          <li><a href="#personalizationconfig" id="markdown-toc-personalizationconfig">PersonalizationConfig</a></li>
          <li><a href="#cmsstructureconfig" id="markdown-toc-cmsstructureconfig">CmsStructureConfig</a></li>
          <li><a href="#pagecomponentmodule" id="markdown-toc-pagecomponentmodule">PageComponentModule</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><a href="#new-checkout-library" id="markdown-toc-new-checkout-library">New Checkout Library</a>    <ul>
      <li><a href="#use-facades-instead-of-services" id="markdown-toc-use-facades-instead-of-services">Use Facades Instead of Services</a>        <ul>
          <li><a href="#expresscheckoutservice" id="markdown-toc-expresscheckoutservice">ExpressCheckoutService</a></li>
        </ul>
      </li>
      <li><a href="#costcentercomponent" id="markdown-toc-costcentercomponent">CostCenterComponent</a></li>
      <li><a href="#deliverymodecomponent" id="markdown-toc-deliverymodecomponent">DeliveryModeComponent</a></li>
      <li><a href="#paymentmethodcomponent" id="markdown-toc-paymentmethodcomponent">PaymentMethodComponent</a></li>
      <li><a href="#paymentformcomponent" id="markdown-toc-paymentformcomponent">PaymentFormComponent</a></li>
      <li><a href="#paymenttypecomponent" id="markdown-toc-paymenttypecomponent">PaymentTypeComponent</a></li>
      <li><a href="#placeordercomponent" id="markdown-toc-placeordercomponent">PlaceOrderComponent</a></li>
      <li><a href="#reviewsubmitcomponent" id="markdown-toc-reviewsubmitcomponent">ReviewSubmitComponent</a></li>
      <li><a href="#schedulereplenishmentordercomponent" id="markdown-toc-schedulereplenishmentordercomponent">ScheduleReplenishmentOrderComponent</a></li>
      <li><a href="#shippingaddresscomponent" id="markdown-toc-shippingaddresscomponent">ShippingAddressComponent</a></li>
      <li><a href="#checkouteventmodule" id="markdown-toc-checkouteventmodule">CheckoutEventModule</a></li>
      <li><a href="#checkoutdeliveryservice" id="markdown-toc-checkoutdeliveryservice">CheckoutDeliveryService</a></li>
      <li><a href="#checkoutstate" id="markdown-toc-checkoutstate">CheckoutState</a></li>
      <li><a href="#addressverificationstate" id="markdown-toc-addressverificationstate">AddressVerificationState</a></li>
      <li><a href="#checkoutpaymentservice" id="markdown-toc-checkoutpaymentservice">CheckoutPaymentService</a></li>
      <li><a href="#checkoutservice" id="markdown-toc-checkoutservice">CheckoutService</a></li>
      <li><a href="#paymenttypeservice" id="markdown-toc-paymenttypeservice">PaymentTypeService</a></li>
      <li><a href="#orderconfirmationitemscomponent" id="markdown-toc-orderconfirmationitemscomponent">OrderConfirmationItemsComponent</a></li>
      <li><a href="#occcheckoutadapter" id="markdown-toc-occcheckoutadapter">OccCheckoutAdapter</a></li>
      <li><a href="#occcheckoutpaymentadapter" id="markdown-toc-occcheckoutpaymentadapter">OccCheckoutPaymentAdapter</a></li>
      <li><a href="#occcheckoutcostcenteradapter" id="markdown-toc-occcheckoutcostcenteradapter">OccCheckoutCostCenterAdapter</a></li>
      <li><a href="#occcheckoutdeliveryadapter" id="markdown-toc-occcheckoutdeliveryadapter">OccCheckoutDeliveryAdapter</a></li>
      <li><a href="#occcheckoutpaymenttypeadapter" id="markdown-toc-occcheckoutpaymenttypeadapter">OccCheckoutPaymentTypeAdapter</a></li>
      <li><a href="#occcheckoutreplenishmentorderadapter" id="markdown-toc-occcheckoutreplenishmentorderadapter">OccCheckoutReplenishmentOrderAdapter</a></li>
      <li><a href="#checkoutcomponentmodule" id="markdown-toc-checkoutcomponentmodule">CheckoutComponentModule</a></li>
      <li><a href="#checkoutmodule" id="markdown-toc-checkoutmodule">CheckoutModule</a></li>
    </ul>
  </li>
  <li><a href="#complete-list-of-symbols-class-interface-const-moved-to-the-checkout-library" id="markdown-toc-complete-list-of-symbols-class-interface-const-moved-to-the-checkout-library">Complete List of Symbols (Class, Interface, Const) Moved to the Checkout Library</a></li>
  <li><a href="#breaking-changes-introduced-in-40" id="markdown-toc-breaking-changes-introduced-in-40">Breaking Changes Introduced in 4.0</a>    <ul>
      <li><a href="#storefinderservice" id="markdown-toc-storefinderservice">StoreFinderService</a></li>
      <li><a href="#storedataservice" id="markdown-toc-storedataservice">StoreDataService</a></li>
      <li><a href="#abstractstoreitemcomponent" id="markdown-toc-abstractstoreitemcomponent">AbstractStoreItemComponent</a></li>
      <li><a href="#storefinderlistitemcomponent" id="markdown-toc-storefinderlistitemcomponent">StoreFinderListItemComponent</a></li>
      <li><a href="#storefinderlistcomponent" id="markdown-toc-storefinderlistcomponent">StoreFinderListComponent</a></li>
      <li><a href="#storefinderstoredescriptioncomponent" id="markdown-toc-storefinderstoredescriptioncomponent">StoreFinderStoreDescriptionComponent</a></li>
      <li><a href="#googlemaprendererservice" id="markdown-toc-googlemaprendererservice">GoogleMapRendererService</a></li>
      <li><a href="#schedulecomponent" id="markdown-toc-schedulecomponent">ScheduleComponent</a></li>
      <li><a href="#promotionservice" id="markdown-toc-promotionservice">PromotionService</a></li>
      <li><a href="#savedcartdetailsactioncomponent" id="markdown-toc-savedcartdetailsactioncomponent">SavedCartDetailsActionComponent</a></li>
      <li><a href="#savedcartlistcomponent" id="markdown-toc-savedcartlistcomponent">SavedCartListComponent</a></li>
      <li><a href="#savedcartformdialogcomponent" id="markdown-toc-savedcartformdialogcomponent">SavedCartFormDialogComponent</a></li>
      <li><a href="#addressbookcomponentservice" id="markdown-toc-addressbookcomponentservice">AddressBookComponentService</a></li>
      <li><a href="#addressbookcomponent" id="markdown-toc-addressbookcomponent">AddressBookComponent</a></li>
      <li><a href="#addressformcomponent" id="markdown-toc-addressformcomponent">AddressFormComponent</a></li>
      <li><a href="#useraddressservice" id="markdown-toc-useraddressservice">UserAddressService</a></li>
      <li><a href="#checkoutdetailsloadedguard" id="markdown-toc-checkoutdetailsloadedguard">CheckoutDetailsLoadedGuard</a></li>
      <li><a href="#paymentdetailssetguard" id="markdown-toc-paymentdetailssetguard">PaymentDetailsSetGuard</a></li>
      <li><a href="#shippingaddresssetguard" id="markdown-toc-shippingaddresssetguard">ShippingAddressSetGuard</a></li>
      <li><a href="#deliverymodesetguard" id="markdown-toc-deliverymodesetguard">DeliveryModeSetGuard</a></li>
      <li><a href="#addedtocartdialogcomponent" id="markdown-toc-addedtocartdialogcomponent">AddedToCartDialogComponent</a></li>
      <li><a href="#cartdetailscomponent" id="markdown-toc-cartdetailscomponent">CartDetailsComponent</a></li>
      <li><a href="#cartitemcomponent" id="markdown-toc-cartitemcomponent">CartItemComponent</a></li>
      <li><a href="#cartitemlistcomponent" id="markdown-toc-cartitemlistcomponent">CartItemListComponent</a></li>
      <li><a href="#orderdetailitemscomponent" id="markdown-toc-orderdetailitemscomponent">OrderDetailItemsComponent</a></li>
      <li><a href="#suggestedaddressdialogcomponent" id="markdown-toc-suggestedaddressdialogcomponent">SuggestedAddressDialogComponent</a></li>
      <li><a href="#orderoverviewcomponent" id="markdown-toc-orderoverviewcomponent">OrderOverviewComponent</a></li>
      <li><a href="#qualtrics-changes" id="markdown-toc-qualtrics-changes">Qualtrics Changes</a></li>
      <li><a href="#occconfigloadermodule" id="markdown-toc-occconfigloadermodule">OccConfigLoaderModule</a></li>
      <li><a href="#occconfigloaderservice" id="markdown-toc-occconfigloaderservice">OccConfigLoaderService</a></li>
      <li><a href="#occloadedconfigconverter" id="markdown-toc-occloadedconfigconverter">OccLoadedConfigConverter</a></li>
      <li><a href="#occloadedconfig" id="markdown-toc-occloadedconfig">OccLoadedConfig</a></li>
      <li><a href="#occsitesconfigloader" id="markdown-toc-occsitesconfigloader">OccSitesConfigLoader</a></li>
      <li><a href="#occendpoints" id="markdown-toc-occendpoints">OccEndpoints</a>        <ul>
          <li><a href="#navigationuicomponent" id="markdown-toc-navigationuicomponent">NavigationUIComponent</a></li>
        </ul>
      </li>
      <li><a href="#removal-of-grouping-modules" id="markdown-toc-removal-of-grouping-modules">Removal of Grouping Modules</a></li>
      <li><a href="#viewconfigmodule-removed" id="markdown-toc-viewconfigmodule-removed">ViewConfigModule Removed</a></li>
      <li><a href="#eventservice" id="markdown-toc-eventservice">EventService</a></li>
      <li><a href="#changes-in-the-product-configurator-feature-library" id="markdown-toc-changes-in-the-product-configurator-feature-library">Changes in the Product Configurator Feature Library</a>        <ul>
          <li><a href="#messageconfig" id="markdown-toc-messageconfig">MessageConfig</a></li>
          <li><a href="#configuratorattributedropdowncomponent" id="markdown-toc-configuratorattributedropdowncomponent">ConfiguratorAttributeDropDownComponent</a></li>
          <li><a href="#configuratorattributenumericinputfieldcomponent" id="markdown-toc-configuratorattributenumericinputfieldcomponent">ConfiguratorAttributeNumericInputFieldComponent</a></li>
          <li><a href="#configuratorattributeradiobuttoncomponent" id="markdown-toc-configuratorattributeradiobuttoncomponent">ConfiguratorAttributeRadioButtonComponent</a></li>
          <li><a href="#configuratorgroupmenucomponent" id="markdown-toc-configuratorgroupmenucomponent">ConfiguratorGroupMenuComponent</a></li>
          <li><a href="#configuratorproducttitlecomponent" id="markdown-toc-configuratorproducttitlecomponent">ConfiguratorProductTitleComponent</a></li>
          <li><a href="#configuratorcartservice" id="markdown-toc-configuratorcartservice">ConfiguratorCartService</a></li>
          <li><a href="#commonconfiguratorutilsservice" id="markdown-toc-commonconfiguratorutilsservice">CommonConfiguratorUtilsService</a></li>
          <li><a href="#configuratorgroupsservice" id="markdown-toc-configuratorgroupsservice">ConfiguratorGroupsService</a></li>
          <li><a href="#configuratorutilsservice" id="markdown-toc-configuratorutilsservice">ConfiguratorUtilsService</a></li>
          <li><a href="#new-and-renamed-dependencies" id="markdown-toc-new-and-renamed-dependencies">New and Renamed Dependencies</a></li>
        </ul>
      </li>
      <li><a href="#loginregistercomponent" id="markdown-toc-loginregistercomponent">LoginRegisterComponent</a></li>
      <li><a href="#ngbtabsetmodule" id="markdown-toc-ngbtabsetmodule">NgbTabsetModule</a>        <ul>
          <li><a href="#storefindercomponentsmodule" id="markdown-toc-storefindercomponentsmodule">StoreFinderComponentsModule</a></li>
          <li><a href="#storefinderlistcomponent-1" id="markdown-toc-storefinderlistcomponent-1">StoreFinderListComponent</a></li>
        </ul>
      </li>
      <li><a href="#asm-changes" id="markdown-toc-asm-changes">ASM Changes</a></li>
      <li><a href="#launchdialogservice" id="markdown-toc-launchdialogservice">LaunchDialogService</a>        <ul>
          <li><a href="#savedcartformlaunchdialogservice" id="markdown-toc-savedcartformlaunchdialogservice">SavedCartFormLaunchDialogService</a></li>
          <li><a href="#addtosavedcartcomponent" id="markdown-toc-addtosavedcartcomponent">AddToSavedCartComponent</a></li>
          <li><a href="#savedcartdetailsactioncomponent-1" id="markdown-toc-savedcartdetailsactioncomponent-1">SavedCartDetailsActionComponent</a></li>
          <li><a href="#savedcartdetailsoverviewcomponent" id="markdown-toc-savedcartdetailsoverviewcomponent">SavedCartDetailsOverviewComponent</a></li>
          <li><a href="#anonymousconsentlaunchdialogservice" id="markdown-toc-anonymousconsentlaunchdialogservice">AnonymousConsentLaunchDialogService</a></li>
          <li><a href="#anonymousconsentmanagementbannercomponent" id="markdown-toc-anonymousconsentmanagementbannercomponent">AnonymousConsentManagementBannerComponent</a></li>
          <li><a href="#anonymousconsentopendialogcomponent" id="markdown-toc-anonymousconsentopendialogcomponent">AnonymousConsentOpenDialogComponent</a></li>
          <li><a href="#replenishmentordercancellationlaunchdialogservice" id="markdown-toc-replenishmentordercancellationlaunchdialogservice">ReplenishmentOrderCancellationLaunchDialogService</a></li>
          <li><a href="#replenishmentordercancellationcomponent" id="markdown-toc-replenishmentordercancellationcomponent">ReplenishmentOrderCancellationComponent</a></li>
          <li><a href="#orderhistorycomponent" id="markdown-toc-orderhistorycomponent">OrderHistoryComponent</a></li>
          <li><a href="#orderreturnrequestlistcomponent" id="markdown-toc-orderreturnrequestlistcomponent">OrderReturnRequestListComponent</a></li>
          <li><a href="#replenishmentorderhistorycomponent" id="markdown-toc-replenishmentorderhistorycomponent">ReplenishmentOrderHistoryComponent</a></li>
          <li><a href="#productlistcomponent" id="markdown-toc-productlistcomponent">ProductListComponent</a></li>
        </ul>
      </li>
      <li><a href="#smartedit" id="markdown-toc-smartedit">SmartEdit</a></li>
      <li><a href="#personalization" id="markdown-toc-personalization">Personalization</a></li>
      <li><a href="#windowref" id="markdown-toc-windowref">WindowRef</a></li>
      <li><a href="#productlistcomponentservice" id="markdown-toc-productlistcomponentservice">ProductListComponentService</a></li>
      <li><a href="#product-reloading" id="markdown-toc-product-reloading">Product reloading</a></li>
      <li><a href="#product-variants-changes" id="markdown-toc-product-variants-changes">Product Variants Changes</a>        <ul>
          <li><a href="#automated-migrations-for-version-40" id="markdown-toc-automated-migrations-for-version-40">Automated Migrations for Version 4.0</a></li>
          <li><a href="#product-variants-i18n" id="markdown-toc-product-variants-i18n">Product Variants i18n</a></li>
          <li><a href="#product-variants-endpoint-scope" id="markdown-toc-product-variants-endpoint-scope">Product Variants Endpoint Scope</a></li>
          <li><a href="#productvariantstyleiconscomponent" id="markdown-toc-productvariantstyleiconscomponent">ProductVariantStyleIconsComponent</a></li>
          <li><a href="#product-variants-styles" id="markdown-toc-product-variants-styles">Product Variants Styles</a></li>
        </ul>
      </li>
      <li><a href="#feature-keys-for-product-configurators" id="markdown-toc-feature-keys-for-product-configurators">Feature Keys for Product Configurators</a></li>
      <li><a href="#translations-i18n-changed" id="markdown-toc-translations-i18n-changed">Translations (i18n) changed</a></li>
      <li><a href="#storage-sync-mechanism" id="markdown-toc-storage-sync-mechanism">Storage Sync Mechanism</a></li>
      <li><a href="#defaultscrollconfig" id="markdown-toc-defaultscrollconfig">DefaultScrollConfig</a></li>
      <li><a href="#basesiteservice" id="markdown-toc-basesiteservice">BaseSiteService</a></li>
      <li><a href="#languageservice" id="markdown-toc-languageservice">LanguageService</a></li>
      <li><a href="#currencyservice" id="markdown-toc-currencyservice">CurrencyService</a></li>
      <li><a href="#page-resolvers" id="markdown-toc-page-resolvers">Page Resolvers</a></li>
      <li><a href="#selectivecartservice" id="markdown-toc-selectivecartservice">SelectiveCartService</a></li>
      <li><a href="#dynamicattributeservice" id="markdown-toc-dynamicattributeservice">DynamicAttributeService</a></li>
      <li><a href="#searchboxcomponentservice" id="markdown-toc-searchboxcomponentservice">SearchBoxComponentService</a></li>
      <li><a href="#cartlistitemcomponent" id="markdown-toc-cartlistitemcomponent">CartListItemComponent</a></li>
      <li><a href="#models" id="markdown-toc-models">Models</a></li>
      <li><a href="#searchboxcomponent" id="markdown-toc-searchboxcomponent">SearchBoxComponent</a></li>
      <li><a href="#organization-administration-breaking-changes" id="markdown-toc-organization-administration-breaking-changes">Organization Administration Breaking Changes</a>        <ul>
          <li><a href="#cardcomponent-administration" id="markdown-toc-cardcomponent-administration">CardComponent (Administration)</a></li>
          <li><a href="#listcomponent" id="markdown-toc-listcomponent">ListComponent</a></li>
          <li><a href="#usergroupuserlistcomponent" id="markdown-toc-usergroupuserlistcomponent">UserGroupUserListComponent</a></li>
          <li><a href="#togglestatuscomponent" id="markdown-toc-togglestatuscomponent">ToggleStatusComponent</a></li>
          <li><a href="#deleteitemcomponent" id="markdown-toc-deleteitemcomponent">DeleteItemComponent</a></li>
          <li><a href="#unitchildrencomponent" id="markdown-toc-unitchildrencomponent">UnitChildrenComponent</a></li>
          <li><a href="#unitcostcenterlistcomponent" id="markdown-toc-unitcostcenterlistcomponent">UnitCostCenterListComponent</a></li>
          <li><a href="#unituserlistcomponent" id="markdown-toc-unituserlistcomponent">UnitUserListComponent</a></li>
          <li><a href="#unitformcomponent" id="markdown-toc-unitformcomponent">UnitFormComponent</a></li>
          <li><a href="#organizationtabletype" id="markdown-toc-organizationtabletype">OrganizationTableType</a></li>
          <li><a href="#httperrormodel" id="markdown-toc-httperrormodel">HttpErrorModel</a></li>
          <li><a href="#organization-related-translations-i18n-changes" id="markdown-toc-organization-related-translations-i18n-changes">Organization Related Translations (i18n) Changes</a></li>
        </ul>
      </li>
      <li><a href="#dependencies-changes" id="markdown-toc-dependencies-changes">Dependencies Changes</a></li>
      <li><a href="#cmsfeaturesservice" id="markdown-toc-cmsfeaturesservice">CmsFeaturesService</a></li>
      <li><a href="#configinitializerservice-1" id="markdown-toc-configinitializerservice-1">ConfigInitializerService</a></li>
      <li><a href="#cartitemcomponent-1" id="markdown-toc-cartitemcomponent-1">CartItemComponent</a></li>
      <li><a href="#productlistitemcomponent-and-productgriditemcomponent" id="markdown-toc-productlistitemcomponent-and-productgriditemcomponent">ProductListItemComponent and ProductGridItemComponent</a></li>
      <li><a href="#cartitemcontext-and-cartitemcontextsource" id="markdown-toc-cartitemcontext-and-cartitemcontextsource">CartItemContext and CartItemContextSource</a></li>
      <li><a href="#user-lib-changes" id="markdown-toc-user-lib-changes">User Lib Changes</a>        <ul>
          <li><a href="#cms-components" id="markdown-toc-cms-components">CMS Components</a></li>
          <li><a href="#closeaccountmodalcomponent" id="markdown-toc-closeaccountmodalcomponent">CloseAccountModalComponent</a></li>
          <li><a href="#forgotpasswordcomponent" id="markdown-toc-forgotpasswordcomponent">ForgotPasswordComponent</a></li>
          <li><a href="#registercomponent" id="markdown-toc-registercomponent">RegisterComponent</a></li>
          <li><a href="#resetpasswordcomponent-previously-resetpasswordformcomponent" id="markdown-toc-resetpasswordcomponent-previously-resetpasswordformcomponent">ResetPasswordComponent (Previously ResetPasswordFormComponent)</a></li>
          <li><a href="#logincomponent" id="markdown-toc-logincomponent">LoginComponent</a></li>
          <li><a href="#loginformcomponent" id="markdown-toc-loginformcomponent">LoginFormComponent</a></li>
          <li><a href="#updateemailcomponent" id="markdown-toc-updateemailcomponent">UpdateEmailComponent</a></li>
          <li><a href="#updateemailcomponentservice" id="markdown-toc-updateemailcomponentservice">UpdateEmailComponentService</a></li>
          <li><a href="#updatepasswordcomponent" id="markdown-toc-updatepasswordcomponent">UpdatePasswordComponent</a></li>
          <li><a href="#updateprofilecomponent" id="markdown-toc-updateprofilecomponent">UpdateProfileComponent</a></li>
        </ul>
      </li>
      <li><a href="#mycouponscomponent" id="markdown-toc-mycouponscomponent">MyCouponsComponent</a>        <ul>
          <li><a href="#occuseradapter" id="markdown-toc-occuseradapter">OccUserAdapter</a></li>
          <li><a href="#useradapter" id="markdown-toc-useradapter">UserAdapter</a></li>
          <li><a href="#userconnector" id="markdown-toc-userconnector">UserConnector</a></li>
          <li><a href="#occendpoints-1" id="markdown-toc-occendpoints-1">OccEndpoints</a></li>
          <li><a href="#userservice" id="markdown-toc-userservice">UserService</a></li>
          <li><a href="#usermodule" id="markdown-toc-usermodule">UserModule</a></li>
          <li><a href="#occ-endpoint-models" id="markdown-toc-occ-endpoint-models">Occ Endpoint Models</a></li>
          <li><a href="#ngrx-state-of-the-user-feature" id="markdown-toc-ngrx-state-of-the-user-feature">NgRx State of the User Feature</a></li>
          <li><a href="#connectors" id="markdown-toc-connectors">Connectors</a></li>
          <li><a href="#storefinderlistitemcomponent-1" id="markdown-toc-storefinderlistitemcomponent-1">StoreFinderListItemComponent</a></li>
          <li><a href="#storefinderstorescountcomponent" id="markdown-toc-storefinderstorescountcomponent">StoreFinderStoresCountComponent</a></li>
          <li><a href="#storefinderlistitemcomponent-2" id="markdown-toc-storefinderlistitemcomponent-2">StoreFinderListItemComponent</a></li>
          <li><a href="#cartitemcomponent-2" id="markdown-toc-cartitemcomponent-2">CartItemComponent</a></li>
          <li><a href="#ordersummarycomponent" id="markdown-toc-ordersummarycomponent">OrderSummaryComponent</a></li>
          <li><a href="#deliverymodecomponent-1" id="markdown-toc-deliverymodecomponent-1">DeliveryModeComponent</a></li>
          <li><a href="#paymentmethodcomponent-1" id="markdown-toc-paymentmethodcomponent-1">PaymentMethodComponent</a></li>
          <li><a href="#reviewsubmitcomponent-1" id="markdown-toc-reviewsubmitcomponent-1">ReviewSubmitComponent</a></li>
          <li><a href="#shippingaddresscomponent-1" id="markdown-toc-shippingaddresscomponent-1">ShippingAddressComponent</a></li>
          <li><a href="#cmspagetitlecomponent" id="markdown-toc-cmspagetitlecomponent">CmsPageTitleComponent</a></li>
          <li><a href="#cmsbreadcrumbscomponent" id="markdown-toc-cmsbreadcrumbscomponent">CmsBreadcrumbsComponent</a></li>
          <li><a href="#breadcrumbcomponent" id="markdown-toc-breadcrumbcomponent">BreadcrumbComponent</a></li>
          <li><a href="#pagetitlecomponent" id="markdown-toc-pagetitlecomponent">PageTitleComponent</a></li>
          <li><a href="#navigationuicomponent-1" id="markdown-toc-navigationuicomponent-1">NavigationUiComponent</a></li>
          <li><a href="#productcarouselcomponent" id="markdown-toc-productcarouselcomponent">ProductCarouselComponent</a></li>
          <li><a href="#wishlistitemcomponent" id="markdown-toc-wishlistitemcomponent">WishListItemComponent</a></li>
          <li><a href="#cardcomponent" id="markdown-toc-cardcomponent">CardComponent</a></li>
          <li><a href="#carouselcomponent" id="markdown-toc-carouselcomponent">CarouselComponent</a></li>
          <li><a href="#addedtocartdialogcomponent-1" id="markdown-toc-addedtocartdialogcomponent-1">AddedToCartDialogComponent</a></li>
          <li><a href="#translations-i18n-changes" id="markdown-toc-translations-i18n-changes">Translations (i18n) changes</a></li>
        </ul>
      </li>
      <li><a href="#default-routing-configuration-for-the-my-company-feature" id="markdown-toc-default-routing-configuration-for-the-my-company-feature">Default Routing Configuration for the My Company Feature</a>        <ul>
          <li><a href="#checkout-related-translations-i18n-changes" id="markdown-toc-checkout-related-translations-i18n-changes">Checkout-Related Translations (i18n) Changes</a></li>
          <li><a href="#changes-in-styles" id="markdown-toc-changes-in-styles">Changes in Styles</a></li>
        </ul>
      </li>
      <li><a href="#logoutguard" id="markdown-toc-logoutguard">LogoutGuard</a></li>
      <li><a href="#routingservice" id="markdown-toc-routingservice">RoutingService</a></li>
      <li><a href="#routingactions-rgrx" id="markdown-toc-routingactions-rgrx">RoutingActions RgRx</a></li>
      <li><a href="#authredirectservice" id="markdown-toc-authredirectservice">AuthRedirectService</a></li>
      <li><a href="#occendpointsservice" id="markdown-toc-occendpointsservice">OccEndpointsService</a></li>
      <li><a href="#modal-service" id="markdown-toc-modal-service">Modal Service</a></li>
      <li><a href="#externaljsfileloader" id="markdown-toc-externaljsfileloader">ExternalJsFileLoader</a></li>
      <li><a href="#cxapi" id="markdown-toc-cxapi">CxApi</a></li>
      <li><a href="#tabparagraphcontainercomponent" id="markdown-toc-tabparagraphcontainercomponent">TabParagraphContainerComponent</a></li>
      <li><a href="#b2clayoutconfig" id="markdown-toc-b2clayoutconfig">b2cLayoutConfig</a></li>
      <li><a href="#unitaddressformservice" id="markdown-toc-unitaddressformservice">UnitAddressFormService</a></li>
      <li><a href="#guestregisterformcomponent" id="markdown-toc-guestregisterformcomponent">GuestRegisterFormComponent</a></li>
      <li><a href="#useridservice" id="markdown-toc-useridservice">UserIdService</a></li>
      <li><a href="#popoverdirective" id="markdown-toc-popoverdirective">PopoverDirective</a></li>
      <li><a href="#popoverservice" id="markdown-toc-popoverservice">PopoverService</a></li>
      <li><a href="#popovercomponent" id="markdown-toc-popovercomponent">PopoverComponent</a></li>
      <li><a href="#onnavigatefocusservice" id="markdown-toc-onnavigatefocusservice">OnNavigateFocusService</a></li>
      <li><a href="#facade-factories-are-now-inlined" id="markdown-toc-facade-factories-are-now-inlined">Facade Factories Are Now Inlined</a></li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="config-interface-augmentation">Config Interface Augmentation</h2>

<p>Spartacus exposes a lot of methods that accept configuration, and with release 4.0, Spartacus improves the way it types those methods. In previous versions, configurations were often provided with type assertions (such as, <code class="language-plaintext highlighter-rouge">provideConfig(&lt;I18nConfig&gt;{i18n: {...}})</code>) to improve type safety and autocomplete functionality.</p>

<p>In version 4.0, Spartacus has changed the way it works with the <code class="language-plaintext highlighter-rouge">Config</code> interface, and each feature contributes to this interface using TypeScript module augmentation. As a result, the <code class="language-plaintext highlighter-rouge">Config</code> interface now correctly describes all of the configuration options that you can pass to Spartacus.</p>

<p>Furthermore, the type for all methods that accept configuration has been changed from <code class="language-plaintext highlighter-rouge">any</code> to <code class="language-plaintext highlighter-rouge">Config</code>, and as a result, you no longer need to use type assertion to benefit from better type safety and a better developer experience.</p>

<p>The individual configs still exist (such as, <code class="language-plaintext highlighter-rouge">I18nConfig</code>, <code class="language-plaintext highlighter-rouge">AsmConfig</code>, <code class="language-plaintext highlighter-rouge">AuthConfig</code>, and so on), but all of these interfaces also contribute to the <code class="language-plaintext highlighter-rouge">Config</code> interface.</p>

<p>When you need to access a configuration object, you still can by using the following syntax in the constructor:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">protected</span> <span class="nx">config</span><span class="p">:</span> <span class="nx">AsmConfig</span>
</code></pre></div></div>

<p>This will only provide hints about the <code class="language-plaintext highlighter-rouge">AsmConfig</code> properties, but you now have the option to do it as follows:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">protected</span> <span class="nx">config</span><span class="p">:</span> <span class="nx">Config</span>
</code></pre></div></div>

<p>Doing it this way is recommended when you want to access a complete configuration with type safety (for example, <code class="language-plaintext highlighter-rouge">FeatureConfig</code> and <code class="language-plaintext highlighter-rouge">MediaConfig</code> at the same time).</p>

<p>This change should be seamless for most users, but it will affect you if you have custom configurations in your application.</p>

<p>This can be illustrated by looking at an example with a special configuration for theme:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// existing code</span>
<span class="p">@</span><span class="nd">Injectable</span><span class="p">({</span>
  <span class="na">providedIn</span><span class="p">:</span> <span class="dl">'</span><span class="s1">root</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">useExisting</span><span class="p">:</span> <span class="nx">Config</span><span class="p">,</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nx">ThemeConfig</span> <span class="p">{</span>
  <span class="nl">theme</span><span class="p">?:</span> <span class="p">{</span>
    <span class="nx">dark</span><span class="p">?:</span> <span class="nx">boolean</span><span class="p">;</span>
  <span class="p">};</span>
<span class="p">}</span>

<span class="c1">// Required Changes</span>

<span class="c1">// You need to augment the `Config` interface from `@spartacus/core` to be able to</span>
<span class="c1">// provide this config with the `provideConfig` method</span>

<span class="kr">declare</span> <span class="kr">module</span> <span class="dl">'</span><span class="s1">@spartacus/core</span><span class="dl">'</span> <span class="p">{</span>
  <span class="kr">interface</span> <span class="nx">Config</span> <span class="kd">extends</span> <span class="nx">ThemeConfig</span> <span class="p">{}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>You do not need to change anything in places where you use this config, but anywhere that you declare your custom config, you have to instruct TypeScript that the <code class="language-plaintext highlighter-rouge">Config</code> interface also has a <code class="language-plaintext highlighter-rouge">theme</code> property with a <code class="language-plaintext highlighter-rouge">dark</code> option. Otherwise, TypeScript complains that you are trying to pass properties that are not part of <code class="language-plaintext highlighter-rouge">Config</code>.</p>

<p>It is recommended that you make top-level configuration properties optional, so that you can pass the configuration in multiple chunks, and not in a single place.</p>

<p>For more information on module augmentation in Spartacus, see <a href="/spartacus-docs/beta-docs/type-augmentation/">Extending Built-In Models</a>.</p>

<h2 id="detailed-list-of-changes">Detailed List of Changes</h2>

<h3 id="config-providers">Config providers</h3>

<ul>
  <li>The first parameter of the <code class="language-plaintext highlighter-rouge">provideConfig</code> function changed type from <code class="language-plaintext highlighter-rouge">any</code> to <code class="language-plaintext highlighter-rouge">Config</code>.</li>
  <li>The first parameter of the <code class="language-plaintext highlighter-rouge">provideDefaultConfig</code> function changed type from <code class="language-plaintext highlighter-rouge">any</code> to <code class="language-plaintext highlighter-rouge">Config</code>.</li>
</ul>

<h3 id="configmodule">ConfigModule</h3>

<ul>
  <li>The parameter of the <code class="language-plaintext highlighter-rouge">withConfig</code> method changed type from <code class="language-plaintext highlighter-rouge">object</code> to <code class="language-plaintext highlighter-rouge">Config</code>.</li>
  <li>The parameter of the <code class="language-plaintext highlighter-rouge">forRoot</code> method changed type from <code class="language-plaintext highlighter-rouge">any</code> to <code class="language-plaintext highlighter-rouge">Config</code>.</li>
</ul>

<h3 id="config-injection-tokens">Config Injection Tokens</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">Config</code> injection token was replaced with an injectable <code class="language-plaintext highlighter-rouge">Config</code> abstract class.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ConfigChunk</code> injection token changed type from <code class="language-plaintext highlighter-rouge">object[]</code> to <code class="language-plaintext highlighter-rouge">Config[]</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">DefaultConfigChunk</code> injection token changed type from <code class="language-plaintext highlighter-rouge">object[]</code> to <code class="language-plaintext highlighter-rouge">Config[]</code>.</li>
</ul>

<h3 id="storefrontconfig">StorefrontConfig</h3>

<p>This type was removed, as its purpose is now covered with the augmentable <code class="language-plaintext highlighter-rouge">Config</code> interface. Replace usage of <code class="language-plaintext highlighter-rouge">StorefrontConfig</code> with <code class="language-plaintext highlighter-rouge">Config</code>.</p>

<h3 id="configinitializerservice">ConfigInitializerService</h3>

<p>Prior to 4.0, the constructor appeared as follows:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">constructor</span><span class="p">(</span>
    <span class="p">@</span><span class="nd">Inject</span><span class="p">(</span><span class="nx">Config</span><span class="p">)</span> <span class="k">protected</span> <span class="nx">config</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span>
    <span class="p">@</span><span class="nd">Optional</span><span class="p">()</span>
    <span class="p">@</span><span class="nd">Inject</span><span class="p">(</span><span class="nx">CONFIG_INITIALIZER_FORROOT_GUARD</span><span class="p">)</span>
    <span class="k">protected</span> <span class="nx">initializerGuard</span><span class="p">,</span>
    <span class="p">@</span><span class="nd">Inject</span><span class="p">(</span><span class="nx">RootConfig</span><span class="p">)</span> <span class="k">protected</span> <span class="nx">rootConfig</span><span class="p">:</span> <span class="kr">any</span>
  <span class="p">)</span> <span class="p">{}</span>
</code></pre></div></div>

<p>The constructor now appears as follows:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">constructor</span><span class="p">(</span>
    <span class="k">protected</span> <span class="nx">config</span><span class="p">:</span> <span class="nx">Config</span><span class="p">,</span>
    <span class="p">@</span><span class="nd">Optional</span><span class="p">()</span>
    <span class="p">@</span><span class="nd">Inject</span><span class="p">(</span><span class="nx">CONFIG_INITIALIZER_FORROOT_GUARD</span><span class="p">)</span>
    <span class="k">protected</span> <span class="nx">initializerGuard</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span>
    <span class="p">@</span><span class="nd">Inject</span><span class="p">(</span><span class="nx">RootConfig</span><span class="p">)</span> <span class="k">protected</span> <span class="nx">rootConfig</span><span class="p">:</span> <span class="nx">Config</span>
  <span class="p">)</span> <span class="p">{}</span>
</code></pre></div></div>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">getStable</code> method’s return signature has changed from <code class="language-plaintext highlighter-rouge">Observable&lt;any&gt;</code> to <code class="language-plaintext highlighter-rouge">Observable&lt;Config&gt;</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getStableConfig</code> method’s return signature has changed from <code class="language-plaintext highlighter-rouge">Promise&lt;any&gt;</code> to <code class="language-plaintext highlighter-rouge">Promise&lt;Config&gt;</code>.</li>
</ul>

<h3 id="config-validators">Config Validators</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">ConfigValidator</code> type changed from <code class="language-plaintext highlighter-rouge">(config: any) =&gt; string | void</code> to <code class="language-plaintext highlighter-rouge">(config: Config) =&gt; string | void</code>.</li>
  <li>The first parameter of the <code class="language-plaintext highlighter-rouge">validateConfig</code> function changed from <code class="language-plaintext highlighter-rouge">any</code> to <code class="language-plaintext highlighter-rouge">Config</code>.</li>
</ul>

<h3 id="configinitializer">ConfigInitializer</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">ConfigInitializer.configFactory</code> signature changed from <code class="language-plaintext highlighter-rouge">() =&gt; Promise&lt;any&gt;</code> to <code class="language-plaintext highlighter-rouge">() =&gt; Promise&lt;Config&gt;</code>.</li>
</ul>

<h3 id="configurationservice">ConfigurationService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">unifiedConfig$</code> type changed from <code class="language-plaintext highlighter-rouge">Observable&lt;any&gt;</code> to <code class="language-plaintext highlighter-rouge">Observable&lt;Config&gt;</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">config</code> type changed from <code class="language-plaintext highlighter-rouge">any</code> to <code class="language-plaintext highlighter-rouge">Config</code>.</li>
  <li>
    <p>Prior to 4.0, the constructor appeared as follows:</p>

    <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">constructor</span><span class="p">(</span>
   <span class="p">@</span><span class="nd">Inject</span><span class="p">(</span><span class="nx">RootConfig</span><span class="p">)</span> <span class="k">protected</span> <span class="nx">rootConfig</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span>
   <span class="p">@</span><span class="nd">Inject</span><span class="p">(</span><span class="nx">DefaultConfig</span><span class="p">)</span> <span class="k">protected</span> <span class="nx">defaultConfig</span><span class="p">:</span> <span class="kr">any</span><span class="p">,</span>
   <span class="k">protected</span> <span class="nx">unifiedInjector</span><span class="p">:</span> <span class="nx">UnifiedInjector</span><span class="p">,</span>
   <span class="p">@</span><span class="nd">Inject</span><span class="p">(</span><span class="nx">Config</span><span class="p">)</span> <span class="nx">config</span><span class="p">:</span> <span class="kr">any</span>
 <span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>The constructor now appears as follows:</p>

    <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">constructor</span><span class="p">(</span>
   <span class="p">@</span><span class="nd">Inject</span><span class="p">(</span><span class="nx">RootConfig</span><span class="p">)</span> <span class="k">protected</span> <span class="nx">rootConfig</span><span class="p">:</span> <span class="nx">Config</span><span class="p">,</span>
   <span class="p">@</span><span class="nd">Inject</span><span class="p">(</span><span class="nx">DefaultConfig</span><span class="p">)</span> <span class="k">protected</span> <span class="nx">defaultConfig</span><span class="p">:</span> <span class="nx">Config</span><span class="p">,</span>
   <span class="k">protected</span> <span class="nx">unifiedInjector</span><span class="p">:</span> <span class="nx">UnifiedInjector</span><span class="p">,</span>
   <span class="nx">config</span><span class="p">:</span> <span class="nx">Config</span>
 <span class="p">)</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="feature-config-utils">Feature Config Utils</h3>

<ul>
  <li>The first parameter type of <code class="language-plaintext highlighter-rouge">isFeatureLevel</code> changed from <code class="language-plaintext highlighter-rouge">unknown</code> to <code class="language-plaintext highlighter-rouge">Config</code>.</li>
  <li>The first parameter type of <code class="language-plaintext highlighter-rouge">isFeatureEnabled</code> changed from <code class="language-plaintext highlighter-rouge">unknown</code> to <code class="language-plaintext highlighter-rouge">Config</code>.</li>
</ul>

<h3 id="mediaservice">MediaService</h3>

<ul>
  <li>
    <p>Prior to 4.0, the constructor appeared as follows:</p>

    <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">constructor</span><span class="p">(</span>
    <span class="p">@</span><span class="nd">Inject</span><span class="p">(</span><span class="nx">Config</span><span class="p">)</span> <span class="k">protected</span> <span class="nx">config</span><span class="p">:</span> <span class="nx">StorefrontConfig</span><span class="p">,</span>
    <span class="k">protected</span> <span class="nx">breakpointService</span><span class="p">:</span> <span class="nx">BreakpointService</span>
  <span class="p">)</span> <span class="p">{}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>The constructor now appears as follows:</p>

    <div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">constructor</span><span class="p">(</span>
    <span class="k">protected</span> <span class="nx">config</span><span class="p">:</span> <span class="nx">Config</span>
  <span class="p">)</span> <span class="p">{}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">getMedia</code> method now supports the <code class="language-plaintext highlighter-rouge">role</code> attribute</p>
  </li>
</ul>

<h3 id="modalservice">ModalService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">ModalService</code> no longer depends on the <code class="language-plaintext highlighter-rouge">FeatureConfigService</code>, but the <code class="language-plaintext highlighter-rouge">ApplicationRef</code> is now a new required dependency.</li>
</ul>

<h4 id="product-configurator-configuration">Product Configurator Configuration</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">productConfigurator</code> configuration option is now optional (the <code class="language-plaintext highlighter-rouge">updateDebounceTime</code> and <code class="language-plaintext highlighter-rouge">cpq</code> properties from this option are now also optional).</li>
  <li>The <code class="language-plaintext highlighter-rouge">backend.cpq</code> configuration option is now optional.</li>
</ul>

<h4 id="smarteditconfig">SmartEditConfig</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">smartEdit</code> property is optional.</li>
  <li>The <code class="language-plaintext highlighter-rouge">smartEdit.storefrontPreviewRoute</code> property is optional.</li>
  <li>The <code class="language-plaintext highlighter-rouge">smartEdit.allowOrigin</code> property is optional.</li>
</ul>

<h4 id="personalizationconfig">PersonalizationConfig</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">personalization</code> property is optional.</li>
</ul>

<h4 id="cmsstructureconfig">CmsStructureConfig</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">cmsStructure</code> property is optional.</li>
</ul>

<h4 id="pagecomponentmodule">PageComponentModule</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">forRoot()</code> method is exposed to minimize side-effects of frequent imports in dependant modules. The <code class="language-plaintext highlighter-rouge">PageComponentModule.forRoot()</code> is now imported in <code class="language-plaintext highlighter-rouge">BaseStorefrontModule</code>.</li>
</ul>

<h2 id="new-checkout-library">New Checkout Library</h2>

<p>Spartacus 4.0 introduces the checkout library. The code related to checkout is moved out of <code class="language-plaintext highlighter-rouge">@spartacus/core</code> and <code class="language-plaintext highlighter-rouge">@spartacus/storefrontlib</code> and into one of the entry points of the new checkout library.  The checkout library is split into the following entry points:</p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@spartacus/checkout/assets 
The checkout related i18n keys are moved here.

@spartacus/checkout/components
The checkout related UI code is moved here. This includes components, guards and ui services.

@spartacus/checkout/core
The checkout facade API implementation is moved here, as well as connectors, event builder, event listener, models, other services, and state management.

@spartacus/checkout/occ
The checkout related OCC code is moved here. This includes the checkout related adapters and converters.

@spartacus/checkout/root
The root entry point is, by convention, meant to always be eager loaded.  It contains the config, events, facades, http interceptors and models.

@spartacus/checkout/styles
The checkout related scss styles are moved here.
</code></pre></div></div>

<p>Most of the code is moved unchanged, but some classes required changes after they were moved.  See the following sections for more details.</p>

<h3 id="use-facades-instead-of-services">Use Facades Instead of Services</h3>

<p>Some services are now available through facades. Facades should be used instead. The main advantage to using facades instead of their service implementation is that the facades support lazy loading. Facades are imported from <code class="language-plaintext highlighter-rouge">@spartacus/checkout/root</code>.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">CheckoutCostCenterFacade</code> should be used instead of <code class="language-plaintext highlighter-rouge">CheckoutCostCenterService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">CheckoutDeliveryFacade</code> should be used instead of <code class="language-plaintext highlighter-rouge">CheckoutDeliveryService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">CheckoutPaymentFacade</code> should be used instead of <code class="language-plaintext highlighter-rouge">CheckoutPaymentService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">CheckoutFacade</code> should be used instead of <code class="language-plaintext highlighter-rouge">CheckoutService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">PaymentTypeFacade</code> should be used instead of <code class="language-plaintext highlighter-rouge">PaymentTypeService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ClearCheckoutFacade</code> should be used instead of <code class="language-plaintext highlighter-rouge">ClearCheckoutService</code>.</li>
</ul>

<h4 id="expresscheckoutservice">ExpressCheckoutService</h4>

<ul>
  <li>The service moved from the <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code> entry point to <code class="language-plaintext highlighter-rouge">@spartacus/checkout/components</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">CheckoutDeliveryService</code> constructor parameter is replaced with the <code class="language-plaintext highlighter-rouge">CheckoutDeliveryFacade</code> from <code class="language-plaintext highlighter-rouge">@spartacus/checkout/root</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">CheckoutPaymentService</code> constructor parameter is replaced with the <code class="language-plaintext highlighter-rouge">CheckoutPaymentFacade</code> from <code class="language-plaintext highlighter-rouge">@spartacus/checkout/root</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">CheckoutDetailsService</code> constructor parameter is now imported from <code class="language-plaintext highlighter-rouge">@spartacus/checkout/components</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">CheckoutConfigService</code> constructor parameter is now imported from <code class="language-plaintext highlighter-rouge">@spartacus/checkout/components</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ClearCheckoutService</code> constructor parameter is replaced with the required <code class="language-plaintext highlighter-rouge">ClearCheckoutFacade</code> from <code class="language-plaintext highlighter-rouge">@spartacus/checkout/root</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">resetCheckoutProcesses</code> method was removed. Use the <code class="language-plaintext highlighter-rouge">resetCheckoutProcesses</code> method from the <code class="language-plaintext highlighter-rouge">ClearCheckoutFacade</code> instead.</li>
</ul>

<h3 id="costcentercomponent">CostCenterComponent</h3>

<ul>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">CheckoutCostCenterService</code> to <code class="language-plaintext highlighter-rouge">CheckoutCostCenterFacade</code>.</li>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">PaymentTypeService</code> to <code class="language-plaintext highlighter-rouge">PaymentTypeFacade</code>.</li>
</ul>

<h3 id="deliverymodecomponent">DeliveryModeComponent</h3>

<ul>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">CheckoutDeliveryService</code> to <code class="language-plaintext highlighter-rouge">CheckoutDeliveryFacade</code>.</li>
</ul>

<h3 id="paymentmethodcomponent">PaymentMethodComponent</h3>

<ul>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">CheckoutService</code> to <code class="language-plaintext highlighter-rouge">CheckoutFacade</code>.</li>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">CheckoutDeliveryService</code> to <code class="language-plaintext highlighter-rouge">CheckoutDeliveryFacade</code>.</li>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">CheckoutPaymentService</code> to <code class="language-plaintext highlighter-rouge">CheckoutPaymentFacade</code>.</li>
</ul>

<h3 id="paymentformcomponent">PaymentFormComponent</h3>

<ul>
  <li>The constructor parameter changed type <code class="language-plaintext highlighter-rouge">CheckoutPaymentService</code> to <code class="language-plaintext highlighter-rouge">CheckoutPaymentFacade</code>.</li>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">CheckoutDeliveryService</code> to <code class="language-plaintext highlighter-rouge">CheckoutDeliveryFacade</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">PaymentFormComponent</code> does not implement <code class="language-plaintext highlighter-rouge">OnDestroy</code> anymore.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ngOnDestroy()</code> method was removed.</li>
  <li>Address verification uses a new <code class="language-plaintext highlighter-rouge">UserAddressService.verifyAddress</code> function instead of <code class="language-plaintext highlighter-rouge">CheckoutDeliveryService.verifyAddress</code>.</li>
  <li>The expiration date has been wrapped to <code class="language-plaintext highlighter-rouge">fieldset</code> instead of <code class="language-plaintext highlighter-rouge">label</code>. The <code class="language-plaintext highlighter-rouge">span</code> has been replaced by <code class="language-plaintext highlighter-rouge">legend</code> and there are new <code class="language-plaintext highlighter-rouge">label</code> instead of <code class="language-plaintext highlighter-rouge">div</code> for every form control (expiration month, expiration year).</li>
</ul>

<h3 id="paymenttypecomponent">PaymentTypeComponent</h3>

<ul>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">PaymentTypeService</code> to <code class="language-plaintext highlighter-rouge">PaymentTypeFacade</code>.</li>
</ul>

<h3 id="placeordercomponent">PlaceOrderComponent</h3>

<ul>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">CheckoutService</code> to <code class="language-plaintext highlighter-rouge">CheckoutFacade</code>.</li>
</ul>

<h3 id="reviewsubmitcomponent">ReviewSubmitComponent</h3>

<ul>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">CheckoutDeliveryService</code> to <code class="language-plaintext highlighter-rouge">CheckoutDeliveryFacade</code>.</li>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">CheckoutPaymentService</code> to <code class="language-plaintext highlighter-rouge">CheckoutPaymentFacade</code>.</li>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">PaymentTypeService</code> to <code class="language-plaintext highlighter-rouge">PaymentTypeFacade</code>.</li>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">CheckoutCostCenterService</code> to <code class="language-plaintext highlighter-rouge">CheckoutCostCenterFacade</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">PromotionService</code> constructor parameter was removed.</li>
  <li>The <code class="language-plaintext highlighter-rouge">orderPromotions$</code> attribute was removed.</li>
  <li>The component gets promotions directly from the cart in the HTML template.</li>
</ul>

<h3 id="schedulereplenishmentordercomponent">ScheduleReplenishmentOrderComponent</h3>

<ul>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">CheckoutService</code> to <code class="language-plaintext highlighter-rouge">CheckoutFacade</code>.</li>
</ul>

<h3 id="shippingaddresscomponent">ShippingAddressComponent</h3>

<ul>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">CheckoutDeliveryService</code> to <code class="language-plaintext highlighter-rouge">CheckoutDeliveryFacade</code>.</li>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">PaymentTypeService</code> to <code class="language-plaintext highlighter-rouge">PaymentTypeFacade</code>.</li>
  <li>The constructor parameter changed type from <code class="language-plaintext highlighter-rouge">CheckoutCostCenterService</code> to <code class="language-plaintext highlighter-rouge">CheckoutCostCenterFacade</code>.</li>
</ul>

<h3 id="checkouteventmodule">CheckoutEventModule</h3>

<p>The <code class="language-plaintext highlighter-rouge">CheckoutEventModule</code> has one new required constructor parameter: <code class="language-plaintext highlighter-rouge">_checkoutEventListener: CheckoutEventListener</code>.</p>

<p>To split out the checkout code in the checkout library, the address verification functionality was moved to the <code class="language-plaintext highlighter-rouge">UserAddressService</code> in the <code class="language-plaintext highlighter-rouge">@spartacus/core</code> library. The address verification related functions in <code class="language-plaintext highlighter-rouge">CheckoutDeliveryService</code> and NgRx supporting classes are not present in the checkout library.</p>

<h3 id="checkoutdeliveryservice">CheckoutDeliveryService</h3>

<p>A new <code class="language-plaintext highlighter-rouge">processStateStore: Store&lt;StateWithCheckout&gt;</code> property is added into the constructor.</p>

<p>The following functions are not present in the checkout library:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">getAddressVerificationResults(): Observable&lt;AddressValidation | string&gt;</code></li>
  <li><code class="language-plaintext highlighter-rouge">verifyAddress(address: Address): void</code></li>
  <li><code class="language-plaintext highlighter-rouge">clearAddressVerificationResults(): void</code></li>
</ul>

<p>These functions are also not present in the corresponding <code class="language-plaintext highlighter-rouge">CheckoutDeliveryFacade</code> facade.</p>

<h3 id="checkoutstate">CheckoutState</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">addressVerification: AddressVerificationState</code> property is removed from the <code class="language-plaintext highlighter-rouge">CheckoutState</code> class in the checkout library.</li>
</ul>

<h3 id="addressverificationstate">AddressVerificationState</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">AddressVerificationState</code> class is not carried over to the checkout library.</li>
</ul>

<h3 id="checkoutpaymentservice">CheckoutPaymentService</h3>

<p>A new <code class="language-plaintext highlighter-rouge">processStateStore: Store&lt;StateWithCheckout&gt;</code> property is added into the constructor.</p>

<h3 id="checkoutservice">CheckoutService</h3>

<p>A new <code class="language-plaintext highlighter-rouge">processStateStore: Store&lt;StateWithCheckout&gt;</code> property is added into the constructor.</p>

<h3 id="paymenttypeservice">PaymentTypeService</h3>

<p>A new <code class="language-plaintext highlighter-rouge">processStateStore: Store&lt;StateWithCheckout&gt;</code> property is added into the constructor.</p>

<h3 id="orderconfirmationitemscomponent">OrderConfirmationItemsComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">PromotionService</code> constructor parameter was removed.</li>
  <li>The <code class="language-plaintext highlighter-rouge">orderPromotions$</code> attribute was removed.</li>
  <li>The component gets promotions directly from the order in the HTML template.</li>
</ul>

<h3 id="occcheckoutadapter">OccCheckoutAdapter</h3>

<ul>
  <li>The protected <code class="language-plaintext highlighter-rouge">getEndpoint</code> method has been removed.</li>
  <li>The following are new methods:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">getPlaceOrderEndpoint</code></li>
      <li><code class="language-plaintext highlighter-rouge">getRemoveDeliveryAddressEndpoint</code></li>
      <li><code class="language-plaintext highlighter-rouge">getClearDeliveryModeEndpoint</code></li>
      <li><code class="language-plaintext highlighter-rouge">getLoadCheckoutDetailsEndpoint</code></li>
    </ul>
  </li>
</ul>

<h3 id="occcheckoutpaymentadapter">OccCheckoutPaymentAdapter</h3>

<ul>
  <li>The protected <code class="language-plaintext highlighter-rouge">getCartEndpoint</code> method has been removed.</li>
  <li>The following are new methods:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">getCardTypesEndpoint</code></li>
      <li><code class="language-plaintext highlighter-rouge">getCreatePaymentDetailsEndpoint</code></li>
      <li><code class="language-plaintext highlighter-rouge">getPaymentProviderSubInfoEndpoint</code></li>
      <li><code class="language-plaintext highlighter-rouge">getSetPaymentDetailsEndpoint</code></li>
    </ul>
  </li>
</ul>

<h3 id="occcheckoutcostcenteradapter">OccCheckoutCostCenterAdapter</h3>

<ul>
  <li>The protected <code class="language-plaintext highlighter-rouge">getCartEndpoint</code> method has been removed.</li>
  <li>The new method is <code class="language-plaintext highlighter-rouge">getSetCartCostCenterEndpoint</code>.</li>
</ul>

<h3 id="occcheckoutdeliveryadapter">OccCheckoutDeliveryAdapter</h3>

<ul>
  <li>The protected <code class="language-plaintext highlighter-rouge">getCartEndpoint</code> method has been removed.</li>
  <li>The following are new methods:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">getCreateDeliveryAddressEndpoint</code></li>
      <li><code class="language-plaintext highlighter-rouge">getDeliveryModeEndpoint</code></li>
      <li><code class="language-plaintext highlighter-rouge">getDeliveryModesEndpoint</code></li>
      <li><code class="language-plaintext highlighter-rouge">getSetDeliveryAddressEndpoint</code></li>
      <li><code class="language-plaintext highlighter-rouge">getSetDeliveryModeEndpoint</code></li>
    </ul>
  </li>
</ul>

<h3 id="occcheckoutpaymenttypeadapter">OccCheckoutPaymentTypeAdapter</h3>

<ul>
  <li>The protected <code class="language-plaintext highlighter-rouge">getCartEndpoint</code> method has been removed.</li>
  <li>The following are new methods:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">getPaymentTypesEndpoint</code></li>
      <li><code class="language-plaintext highlighter-rouge">getSetCartPaymentTypeEndpoint</code></li>
    </ul>
  </li>
</ul>

<h3 id="occcheckoutreplenishmentorderadapter">OccCheckoutReplenishmentOrderAdapter</h3>

<ul>
  <li>The new method is <code class="language-plaintext highlighter-rouge">getScheduleReplenishmentOrderEndpoint</code>.</li>
</ul>

<h3 id="checkoutcomponentmodule">CheckoutComponentModule</h3>

<p>The <code class="language-plaintext highlighter-rouge">CheckoutComponentModule</code> was moved and renamed to <code class="language-plaintext highlighter-rouge">CheckoutComponentsModule</code>. It was moved to <code class="language-plaintext highlighter-rouge">@spartacus/checkout/components</code>.  The new module is not exactly the same as the previous one, but the new one should essentially be a superset of the previous one.</p>

<h3 id="checkoutmodule">CheckoutModule</h3>

<p>The <code class="language-plaintext highlighter-rouge">CheckoutModule</code> from <code class="language-plaintext highlighter-rouge">@spartacus/core</code> became <code class="language-plaintext highlighter-rouge">CheckoutCoreModule</code> in <code class="language-plaintext highlighter-rouge">@spartacus/checkout/core</code>. The <code class="language-plaintext highlighter-rouge">CheckoutCoreModule</code> from <code class="language-plaintext highlighter-rouge">@spartacus/checkout/core</code> fills a similar role as the previous <code class="language-plaintext highlighter-rouge">CheckoutModule</code> from <code class="language-plaintext highlighter-rouge">@spartacus/core</code>.  One exception is providing the <code class="language-plaintext highlighter-rouge">CheckoutCartInterceptor</code>, which is now done in <code class="language-plaintext highlighter-rouge">CheckoutRootModule</code> from <code class="language-plaintext highlighter-rouge">@spartacus/checkout/root</code> instead.</p>

<p><strong>Note:</strong> The new <code class="language-plaintext highlighter-rouge">CheckoutCoreModule</code> does not have the <code class="language-plaintext highlighter-rouge">forRoot()</code> method. Just import the <code class="language-plaintext highlighter-rouge">CheckoutCoreModule</code> instead.</p>

<p>There is still a <code class="language-plaintext highlighter-rouge">CheckoutModule</code> in <code class="language-plaintext highlighter-rouge">@spartacus/checkout</code>.  While its name is the same as the previous module from <code class="language-plaintext highlighter-rouge">@spartacus/core</code>,  it has a different role.  It imports other new checkout library modules: <code class="language-plaintext highlighter-rouge">CheckoutComponentsModule</code>, <code class="language-plaintext highlighter-rouge">CheckoutCoreModule</code>, <code class="language-plaintext highlighter-rouge">CheckoutOccModule</code>.  The new module naming changes might seem confusing at first sight, but the choice of the new names was made to align with the feature library module naming convention in Spartacus.</p>

<h2 id="complete-list-of-symbols-class-interface-const-moved-to-the-checkout-library">Complete List of Symbols (Class, Interface, Const) Moved to the Checkout Library</h2>

<p>Imports for these symbols must be updated in custom code.</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Moved From</th>
      <th>Moved To</th>
      <th>Renamed To</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>CheckoutLoginComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutLoginModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OrderConfirmationModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>ReplenishmentOrderConfirmationModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OrderConfirmationGuard</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>GuestRegisterFormComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OrderConfirmationItemsComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OrderConfirmationOverviewComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OrderConfirmationThankYouMessageComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OrderConfirmationTotalsComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutComponentModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>CheckoutComponentsModule</td>
    </tr>
    <tr>
      <td>CheckoutOrchestratorComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutOrchestratorModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutOrderSummaryComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutOrderSummaryModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutProgressComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutProgressModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutProgressMobileBottomComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutProgressMobileBottomModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutProgressMobileTopComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutProgressMobileTopModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>DeliveryModeComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>DeliveryModeModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>PaymentMethodComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>PaymentMethodModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>PaymentFormComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>PaymentFormModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>PlaceOrderComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>PlaceOrderModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>ReviewSubmitComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>ReviewSubmitModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>ScheduleReplenishmentOrderComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>ScheduleReplenishmentOrderModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CardWithAddress</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>ShippingAddressComponent</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>ShippingAddressModule</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>DeliveryModePreferences</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/root</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutConfig</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/root</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutAuthGuard</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutStepsSetGuard</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutGuard</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>NotCheckoutAuthGuard</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutStepType</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/root</td>
      <td>-</td>
    </tr>
    <tr>
      <td>checkoutShippingSteps</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/root</td>
      <td>-</td>
    </tr>
    <tr>
      <td>checkoutPaymentSteps</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/root</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutStep</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/root</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutConfigService</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutDetailsService</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutReplenishmentFormService</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutStepService</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>ExpressCheckoutService</td>
      <td>@spartacus/storefront</td>
      <td>@spartacus/checkout/components</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutOccModule</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/occ</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OccCheckoutCostCenterAdapter</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/occ</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OccCheckoutDeliveryAdapter</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/occ</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OccCheckoutPaymentTypeAdapter</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/occ</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OccCheckoutPaymentAdapter</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/occ</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OccCheckoutReplenishmentOrderAdapter</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/occ</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OccCheckoutAdapter</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/occ</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OccReplenishmentOrderFormSerializer</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/occ</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutModule</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>CheckoutCoreModule</td>
    </tr>
    <tr>
      <td>CheckoutAdapter</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutConnector</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutCostCenterAdapter</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutCostCenterConnector</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutDeliveryAdapter</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutDeliveryConnector</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>DELIVERY_MODE_NORMALIZER</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutPaymentAdapter</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutPaymentConnector</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>PAYMENT_DETAILS_SERIALIZER</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CARD_TYPE_NORMALIZER</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>PAYMENT_TYPE_NORMALIZER</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>PaymentTypeAdapter</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>PaymentTypeConnector</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutReplenishmentOrderAdapter</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutReplenishmentOrderConnector</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>REPLENISHMENT_ORDER_FORM_SERIALIZER</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutEventBuilder</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutEventModule</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OrderPlacedEvent</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/root</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutCostCenterService</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/root</td>
      <td>CheckoutCostCenterFacade</td>
    </tr>
    <tr>
      <td>CheckoutDeliveryService</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/root</td>
      <td>CheckoutDeliveryFacade</td>
    </tr>
    <tr>
      <td>CheckoutPaymentService</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/root</td>
      <td>CheckoutPaymentFacade</td>
    </tr>
    <tr>
      <td>CheckoutService</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/root</td>
      <td>CheckoutFacade</td>
    </tr>
    <tr>
      <td>PaymentTypeService</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/root</td>
      <td>PaymentTypeFacade</td>
    </tr>
    <tr>
      <td>ClearCheckoutService</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/root</td>
      <td>ClearCheckoutFacade</td>
    </tr>
    <tr>
      <td>CheckoutDetails</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutPageMetaResolver</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CHECKOUT_FEATURE</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CHECKOUT_DETAILS</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>SET_DELIVERY_ADDRESS_PROCESS_ID</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>SET_DELIVERY_MODE_PROCESS_ID</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>SET_SUPPORTED_DELIVERY_MODE_PROCESS_ID</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>SET_PAYMENT_DETAILS_PROCESS_ID</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>GET_PAYMENT_TYPES_PROCESS_ID</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>SET_COST_CENTER_PROCESS_ID</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>PLACED_ORDER_PROCESS_ID</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>StateWithCheckout</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CardTypesState</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutStepsState</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>PaymentTypesState</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>OrderTypesState</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutState</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutActions</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
    <tr>
      <td>CheckoutSelectors</td>
      <td>@spartacus/core</td>
      <td>@spartacus/checkout/core</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<h2 id="breaking-changes-introduced-in-40">Breaking Changes Introduced in 4.0</h2>

<h3 id="storefinderservice">StoreFinderService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">platformId</code> injection was added to the constructor.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getStoreLatitude()</code> and <code class="language-plaintext highlighter-rouge">getStoreLongitude()</code> methods have been moved to this service from <code class="language-plaintext highlighter-rouge">StoreDataService</code>, which has been removed.</li>
</ul>

<h3 id="storedataservice">StoreDataService</h3>

<ul>
  <li>The service has been removed and the functions have been moved to <code class="language-plaintext highlighter-rouge">StoreFinderService</code>.</li>
</ul>

<h3 id="abstractstoreitemcomponent">AbstractStoreItemComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">StoreDataService</code> has been replaced by the <code class="language-plaintext highlighter-rouge">StoreFinderService</code>.</li>
</ul>

<h3 id="storefinderlistitemcomponent">StoreFinderListItemComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">StoreDataService</code> has been replaced by the <code class="language-plaintext highlighter-rouge">StoreFinderService</code>.</li>
</ul>

<h3 id="storefinderlistcomponent">StoreFinderListComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">StoreDataService</code> has been replaced by the <code class="language-plaintext highlighter-rouge">StoreFinderService</code>.</li>
</ul>

<h3 id="storefinderstoredescriptioncomponent">StoreFinderStoreDescriptionComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">StoreDataService</code> has been replaced by the <code class="language-plaintext highlighter-rouge">StoreFinderService</code>.</li>
</ul>

<h3 id="googlemaprendererservice">GoogleMapRendererService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">StoreDataService</code> has been replaced by the <code class="language-plaintext highlighter-rouge">StoreFinderService</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ExternalJsFileLoader</code> has been replaced by the <code class="language-plaintext highlighter-rouge">ScriptLoader</code>.</li>
</ul>

<h3 id="schedulecomponent">ScheduleComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">ngOnChanges()</code> method has been changed to the <code class="language-plaintext highlighter-rouge">ngOnInit()</code> method, along with the corresponding class implementations (for example, implements <code class="language-plaintext highlighter-rouge">OnChanges</code> to <code class="language-plaintext highlighter-rouge">OnInit</code>).</li>
  <li>The <code class="language-plaintext highlighter-rouge">displayDays</code> variable has been removed. Use <code class="language-plaintext highlighter-rouge">weekDays</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">StoreDataService</code> has been removed`.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getStoreOpeningTime()</code>, <code class="language-plaintext highlighter-rouge">getStoreClosingTime()</code>, and <code class="language-plaintext highlighter-rouge">getInitialDate()</code> methods have been removed. Use <code class="language-plaintext highlighter-rouge">weekDayOpeningList</code> from <code class="language-plaintext highlighter-rouge">location</code> instead.</li>
</ul>

<h3 id="promotionservice">PromotionService</h3>

<p>The <code class="language-plaintext highlighter-rouge">PromotionService</code> is deleted. The promotions can directly be found on the order or cart. Use other existing services to retrieve the order or cart.</p>

<p>The order promotions are in the order and cart attributes <code class="language-plaintext highlighter-rouge">appliedOrderPromotions</code> and <code class="language-plaintext highlighter-rouge">potentialOrderPromotions</code>.</p>

<p>The product promotions for order and cart entries are now available with the <code class="language-plaintext highlighter-rouge">entries[].promotions</code> attribute.</p>

<h3 id="savedcartdetailsactioncomponent">SavedCartDetailsActionComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">ClearCheckoutService</code> was removed from the constructor.</li>
</ul>

<h3 id="savedcartlistcomponent">SavedCartListComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">ClearCheckoutService</code> was removed from the constructor.</li>
</ul>

<h3 id="savedcartformdialogcomponent">SavedCartFormDialogComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">ClearCheckoutService</code> was removed from the constructor.</li>
</ul>

<h3 id="addressbookcomponentservice">AddressBookComponentService</h3>

<p>Library: <code class="language-plaintext highlighter-rouge">@spartacus/core</code></p>

<p>Class: <code class="language-plaintext highlighter-rouge">AddressBookComponentService</code></p>

<p>Change: The <code class="language-plaintext highlighter-rouge">checkoutDeliveryService: CheckoutDeliveryService</code> constructor parameter is removed.
Instead, the <code class="language-plaintext highlighter-rouge">CheckoutEventListener</code> from the checkout library listens for the new address change events and resets the checkout delivery accordingly.</p>

<h3 id="addressbookcomponent">AddressBookComponent</h3>

<p>Library: <code class="language-plaintext highlighter-rouge">@spartacus/core</code></p>

<p>Class: <code class="language-plaintext highlighter-rouge">AddressBookComponent</code></p>

<p>Change: Two constructor parameters are removed. The first is the <code class="language-plaintext highlighter-rouge">checkoutDeliveryService: CheckoutDeliveryService</code> constructor parameter that has been removed. The <code class="language-plaintext highlighter-rouge">AddressBookComponent</code> does not call <code class="language-plaintext highlighter-rouge">CheckoutDeliveryService.clearCheckoutDeliveryDetails()</code> anymore when an address is changed. Instead, the <code class="language-plaintext highlighter-rouge">AddressBookComponentService</code> fires events. See <code class="language-plaintext highlighter-rouge">AddressBookComponentService</code> entry above for more information.</p>

<p>The second constructor parameter that is removed is <code class="language-plaintext highlighter-rouge">userAddressService: UserAddressService</code>. The <code class="language-plaintext highlighter-rouge">UserAddressService</code> interactions are now encapsulated in <code class="language-plaintext highlighter-rouge">AddressBookComponentService</code>.</p>

<h3 id="addressformcomponent">AddressFormComponent</h3>

<p>Library: <code class="language-plaintext highlighter-rouge">@spartacus/core</code></p>

<p>Change: The <code class="language-plaintext highlighter-rouge">checkoutDeliveryService: CheckoutDeliveryService</code> constructor parameter is removed.</p>

<p>The <code class="language-plaintext highlighter-rouge">AddressFormComponent</code> now uses the new <code class="language-plaintext highlighter-rouge">verifyAddress</code> address verification function from  <code class="language-plaintext highlighter-rouge">UserAddressService</code>, instead of the <code class="language-plaintext highlighter-rouge">verifyAddress</code> function from <code class="language-plaintext highlighter-rouge">CheckoutDeliveryService</code>. The <code class="language-plaintext highlighter-rouge">UserAddressService.verifyAddress</code> does not use the NgRx store under the hood.</p>

<p>Change: <code class="language-plaintext highlighter-rouge">TranslationService</code> is a new, required constructor dependency.</p>

<p>The <code class="language-plaintext highlighter-rouge">AddressFormComponent</code> now uses translations to show a configurable default title option instead of a hard-coded title.</p>

<h3 id="useraddressservice">UserAddressService</h3>

<p>Library: <code class="language-plaintext highlighter-rouge">@spartacus/core</code></p>

<p>Change: There are two new required constructor parameters: <code class="language-plaintext highlighter-rouge">userAddressConnector: UserAddressConnector</code> and <code class="language-plaintext highlighter-rouge">command: CommandService</code></p>

<h3 id="checkoutdetailsloadedguard">CheckoutDetailsLoadedGuard</h3>

<p>Library: <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code></p>

<p>The <code class="language-plaintext highlighter-rouge">CheckoutDetailsLoadedGuard</code> was not used and is now removed.</p>

<h3 id="paymentdetailssetguard">PaymentDetailsSetGuard</h3>

<p>Library: <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code></p>

<p>The <code class="language-plaintext highlighter-rouge">PaymentDetailsSetGuard</code> was not used and is now removed.</p>

<h3 id="shippingaddresssetguard">ShippingAddressSetGuard</h3>

<p>Library: <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code></p>

<p>The <code class="language-plaintext highlighter-rouge">ShippingAddressSetGuard</code> was not used and is now removed.</p>

<h3 id="deliverymodesetguard">DeliveryModeSetGuard</h3>

<p>Library: <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code></p>

<p>The <code class="language-plaintext highlighter-rouge">DeliveryModeSetGuard</code> was not used and is now removed.</p>

<h3 id="addedtocartdialogcomponent">AddedToCartDialogComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">PromotionService</code> constructor parameter was removed.</li>
  <li>The <code class="language-plaintext highlighter-rouge">orderPromotions$</code> attribute was removed.</li>
  <li>The component gets promotions directly from the cart in the HTML template.</li>
  <li>The <code class="language-plaintext highlighter-rouge">increment</code> property was removed. Use the <code class="language-plaintext highlighter-rouge">numberOfEntriesBeforeAdd</code> property instead.</li>
</ul>

<h3 id="cartdetailscomponent">CartDetailsComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">PromotionService</code> constructor parameter was removed.</li>
  <li>The <code class="language-plaintext highlighter-rouge">orderPromotions$</code> and <code class="language-plaintext highlighter-rouge">promotions$</code> attributes were removed.</li>
  <li>The component gets promotions directly from the cart in the HTML template.</li>
</ul>

<h3 id="cartitemcomponent">CartItemComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">PromotionService</code> constructor parameter was removed.</li>
  <li>The component gets product promotions directly from the cart entry data.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ngOnInit()</code> method was removed</li>
  <li>The <code class="language-plaintext highlighter-rouge">appliedProductPromotions$</code> attribute was removed.</li>
</ul>

<h3 id="cartitemlistcomponent">CartItemListComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">FeatureConfigService</code> constructor dependency was removed.</li>
  <li>New required constructor dependencies were added: <code class="language-plaintext highlighter-rouge">UserIdService</code> and <code class="language-plaintext highlighter-rouge">MultiCartService</code>.</li>
</ul>

<h3 id="orderdetailitemscomponent">OrderDetailItemsComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">PromotionService</code> constructor parameter was removed.</li>
  <li>The <code class="language-plaintext highlighter-rouge">orderPromotions$</code> attribute was removed.</li>
  <li>The component gets promotions directly from the order in the HTML template.</li>
</ul>

<h3 id="suggestedaddressdialogcomponent">SuggestedAddressDialogComponent</h3>

<p>The <code class="language-plaintext highlighter-rouge">SuggestedAddressDialogComponent</code> uses different translation label keys:</p>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutAddress.verifyYourAddress</code> key is replaced by <code class="language-plaintext highlighter-rouge">addressSuggestion.verifyYourAddress</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutAddress.ensureAccuracySuggestChange</code> key is replaced by <code class="language-plaintext highlighter-rouge">addressSuggestion.ensureAccuracySuggestChange</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutAddress.chooseAddressToUse</code> key is replaced by <code class="language-plaintext highlighter-rouge">addressSuggestion.chooseAddressToUse</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutAddress.suggestedAddress</code> key is replaced by <code class="language-plaintext highlighter-rouge">addressSuggestion.suggestedAddress</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutAddress.enteredAddress</code> key is replaced by <code class="language-plaintext highlighter-rouge">addressSuggestion.enteredAddress</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutAddress.editAddress</code> key is replaced by <code class="language-plaintext highlighter-rouge">addressSuggestion.editAddress</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutAddress.saveAddress</code> key is replaced by <code class="language-plaintext highlighter-rouge">addressSuggestion.saveAddress</code>.</li>
</ul>

<h3 id="orderoverviewcomponent">OrderOverviewComponent</h3>

<p>The <code class="language-plaintext highlighter-rouge">OrderOverviewComponent</code> uses different translation label keys:</p>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.replenishmentNumber</code> key is replaced by <code class="language-plaintext highlighter-rouge">orderDetails.replenishmentId</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.status</code> key is replaced by <code class="language-plaintext highlighter-rouge">orderDetails.status</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.active</code> key is replaced by <code class="language-plaintext highlighter-rouge">orderDetails.active</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.cancelled</code> key is replaced by <code class="language-plaintext highlighter-rouge">orderDetails.cancelled</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutReview.startOn</code> key is replaced by <code class="language-plaintext highlighter-rouge">orderDetails.startOn</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.frequency</code> key is replaced by <code class="language-plaintext highlighter-rouge">orderDetails.frequency</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.nextOrderDate</code> key is replaced by <code class="language-plaintext highlighter-rouge">orderDetails.nextOrderDate</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.orderNumber</code> key is replaced by <code class="language-plaintext highlighter-rouge">orderDetails.orderNumber</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.placedOn</code> key is replaced by <code class="language-plaintext highlighter-rouge">orderDetails.placedOn</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutReview.poNumber</code> key is replaced by <code class="language-plaintext highlighter-rouge">orderDetails.purchaseOrderNumber</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutPO.noPoNumber</code> key is replaced by <code class="language-plaintext highlighter-rouge">orderDetails.emptyPurchaseOrderId</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutProgress.methodOfPayment</code> key is replaced by <code class="language-plaintext highlighter-rouge">orderDetails.methodOfPayment</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutPO.costCenter</code> key is replaced by <code class="language-plaintext highlighter-rouge">orderDetails.costCenter</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutShipping.shippingMethod</code> key is replaced by <code class="language-plaintext highlighter-rouge">orderDetails.shippingMethod</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getOrderCurrentDateCardContent</code> method requires the <code class="language-plaintext highlighter-rouge">isoDate</code> parameter. It is no longer optional.</li>
</ul>

<h3 id="qualtrics-changes">Qualtrics Changes</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">QualtricsConfig</code> was removed from the <code class="language-plaintext highlighter-rouge">@spartacus/storefrontlib</code>. Use <code class="language-plaintext highlighter-rouge">@spartacus/qualtrics/components</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">QUALTRICS_EVENT_NAME</code> was removed from the <code class="language-plaintext highlighter-rouge">@spartacus/storefrontlib</code>. Use <code class="language-plaintext highlighter-rouge">@spartacus/qualtrics/components</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">QualtricsLoaderService</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefrontlib</code>. Use <code class="language-plaintext highlighter-rouge">@spartacus/qualtrics/components</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">QualtricsLoaderService</code> from the feature library no longer requires <code class="language-plaintext highlighter-rouge">RendererFactory2</code>. It has been replaced by <code class="language-plaintext highlighter-rouge">ScriptLoader</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">QualtricsComponent</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefrontlib</code>. Use <code class="language-plaintext highlighter-rouge">@spartacus/qualtrics/components</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">QualtricsModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefrontlib</code>, and renamed <code class="language-plaintext highlighter-rouge">QualtricsComponentsModule</code>. Use <code class="language-plaintext highlighter-rouge">@spartacus/qualtrics/components</code> instead.</li>
</ul>

<h3 id="occconfigloadermodule">OccConfigLoaderModule</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">OccConfigLoaderModule</code> was removed. Use <code class="language-plaintext highlighter-rouge">SiteContextConfigInitializer</code> and <code class="language-plaintext highlighter-rouge">I18nConfigInitializer</code> instead.</li>
</ul>

<h3 id="occconfigloaderservice">OccConfigLoaderService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">OccConfigLoaderService</code> was removed. Use <code class="language-plaintext highlighter-rouge">SiteContextConfigInitializer</code> and <code class="language-plaintext highlighter-rouge">I18nConfigInitializer</code> instead.</li>
</ul>

<h3 id="occloadedconfigconverter">OccLoadedConfigConverter</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">OccLoadedConfigConverter</code> was removed. Use <code class="language-plaintext highlighter-rouge">SiteContextConfigInitializer</code> and <code class="language-plaintext highlighter-rouge">I18nConfigInitializer</code> instead.</li>
</ul>

<h3 id="occloadedconfig">OccLoadedConfig</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">OccLoadedConfig</code> was removed. Use <code class="language-plaintext highlighter-rouge">SiteContextConfigInitializer</code> and <code class="language-plaintext highlighter-rouge">I18nConfigInitializer</code> instead.</li>
</ul>

<h3 id="occsitesconfigloader">OccSitesConfigLoader</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">OccSitesConfigLoader</code>was removed. Use <code class="language-plaintext highlighter-rouge">SiteContextConfigInitializer</code> and <code class="language-plaintext highlighter-rouge">I18nConfigInitializer</code> instead.</li>
</ul>

<h3 id="occendpoints">OccEndpoints</h3>

<p>The <code class="language-plaintext highlighter-rouge">backend.occ.endpoints.baseSitesForConfig</code> config property has been removed. Use <code class="language-plaintext highlighter-rouge">backend.occ.endpoints.baseSites</code> instead.</p>

<h4 id="navigationuicomponent">NavigationUIComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">HamburgerMenuService</code> was added to the constructor.</li>
</ul>

<h3 id="removal-of-grouping-modules">Removal of Grouping Modules</h3>

<p>In release 4.0, a number of modules that grouped feature modules and provided some default configuration were removed.</p>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">B2cStorefrontModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code></li>
  <li>The <code class="language-plaintext highlighter-rouge">B2bStorefrontModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/setup</code></li>
  <li>The <code class="language-plaintext highlighter-rouge">StorefrontModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code></li>
  <li>The <code class="language-plaintext highlighter-rouge">CmsLibModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code></li>
  <li>The <code class="language-plaintext highlighter-rouge">MainModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code></li>
  <li>The <code class="language-plaintext highlighter-rouge">StorefrontFoundationModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code></li>
  <li>The <code class="language-plaintext highlighter-rouge">OccModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/core</code></li>
  <li>The <code class="language-plaintext highlighter-rouge">EventsModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code></li>
</ul>

<p>For more information, see <a href="/spartacus-docs/beta-docs/updating-to-version-4/">Updating to Version 4.0</a>.</p>

<h3 id="viewconfigmodule-removed">ViewConfigModule Removed</h3>

<ul>
  <li>This module only provided empty default configuration that is not needed.</li>
</ul>

<h3 id="eventservice">EventService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">EventService</code> now registers the parent of an event as an event. For more information, see <a href="/spartacus-docs/beta-docs/event-service/#event-type-inheritance">Event Type Inheritance</a>.</li>
</ul>

<h3 id="changes-in-the-product-configurator-feature-library">Changes in the Product Configurator Feature Library</h3>

<h4 id="messageconfig">MessageConfig</h4>

<p>The <code class="language-plaintext highlighter-rouge">MessageConfig</code> has been renamed to <code class="language-plaintext highlighter-rouge">ConfiguratorMessageConfig</code>.</p>

<h4 id="configuratorattributedropdowncomponent">ConfiguratorAttributeDropDownComponent</h4>

<p>The <code class="language-plaintext highlighter-rouge">onSelect</code> method has been removed and is no longer used. Use <code class="language-plaintext highlighter-rouge">onSelect</code> from the super class, which takes the value as an argument.</p>

<h4 id="configuratorattributenumericinputfieldcomponent">ConfiguratorAttributeNumericInputFieldComponent</h4>

<p>The <code class="language-plaintext highlighter-rouge">createEventFromInput</code> method has been removed and is no longer used.</p>

<h4 id="configuratorattributeradiobuttoncomponent">ConfiguratorAttributeRadioButtonComponent</h4>

<p>The <code class="language-plaintext highlighter-rouge">onDeselect</code> method has been removed and is no longer used.</p>

<h4 id="configuratorgroupmenucomponent">ConfiguratorGroupMenuComponent</h4>

<p>The <code class="language-plaintext highlighter-rouge">preventScrollingOnSpace</code>, <code class="language-plaintext highlighter-rouge">navigateUpOnEnter</code> and <code class="language-plaintext highlighter-rouge">clickOnEnter</code> methods have been removed and are no longer used.</p>

<h4 id="configuratorproducttitlecomponent">ConfiguratorProductTitleComponent</h4>

<p>The <code class="language-plaintext highlighter-rouge">getProductImageURL</code>, <code class="language-plaintext highlighter-rouge">getProductImageAlt</code> and <code class="language-plaintext highlighter-rouge">clickOnEnter</code> methods have been removed and are no longer used.</p>

<h4 id="configuratorcartservice">ConfiguratorCartService</h4>

<ul>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">checkoutService: CheckoutService</code> constructor parameter type is changed to <code class="language-plaintext highlighter-rouge">checkoutFacade: CheckoutFacade</code> to adapt to the new checkout library.</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">cartStore: Store&lt;StateWithMultiCart&gt;</code> constructor parameter has been removed.</p>
  </li>
  <li>
    <p>The <code class="language-plaintext highlighter-rouge">ConfiguratorCartService</code> now requires the <code class="language-plaintext highlighter-rouge">ConfiguratorUtilsService</code>.</p>
  </li>
</ul>

<h4 id="commonconfiguratorutilsservice">CommonConfiguratorUtilsService</h4>

<p>The signature of the <code class="language-plaintext highlighter-rouge">getCartId</code> method has changed from <code class="language-plaintext highlighter-rouge">getCartId(cart: Cart): string</code> to <code class="language-plaintext highlighter-rouge">getCartId(cart?: Cart): string</code>.</p>

<h4 id="configuratorgroupsservice">ConfiguratorGroupsService</h4>

<ul>
  <li>The return parameter of the <code class="language-plaintext highlighter-rouge">getFirstConflictGroup</code> method has changed from <code class="language-plaintext highlighter-rouge">Configurator.Group</code> to <code class="language-plaintext highlighter-rouge">Configurator.Group | undefined</code>.</li>
  <li>The return parameter of the <code class="language-plaintext highlighter-rouge">getMenuParentGroup</code> method has changed from <code class="language-plaintext highlighter-rouge">Configurator.Group</code> to <code class="language-plaintext highlighter-rouge">Configurator.Group | undefined</code>.</li>
  <li>The return parameter of the <code class="language-plaintext highlighter-rouge">getParentGroup</code> method has changed from <code class="language-plaintext highlighter-rouge">Configurator.Group</code> to <code class="language-plaintext highlighter-rouge">Configurator.Group | undefined</code>.</li>
  <li>The return parameter of the <code class="language-plaintext highlighter-rouge">getNextGroupId</code> method has changed from <code class="language-plaintext highlighter-rouge">Observable&lt;string&gt;</code> to <code class="language-plaintext highlighter-rouge">Observable&lt;string | undefined&gt;</code>.</li>
  <li>The return parameter of the <code class="language-plaintext highlighter-rouge">getPreviousGroupId</code> method has changed from <code class="language-plaintext highlighter-rouge">Observable&lt;string&gt;</code> to <code class="language-plaintext highlighter-rouge">Observable&lt;string | undefined&gt;</code>.</li>
  <li>The return parameter of the <code class="language-plaintext highlighter-rouge">getNeighboringGroupId</code> method has changed from <code class="language-plaintext highlighter-rouge">Observable&lt;string&gt;</code> to <code class="language-plaintext highlighter-rouge">Observable&lt;string | undefined&gt;</code>.</li>
</ul>

<h4 id="configuratorutilsservice">ConfiguratorUtilsService</h4>

<ul>
  <li>The return parameter of the <code class="language-plaintext highlighter-rouge">getParentGroup</code> method has changed from <code class="language-plaintext highlighter-rouge">Configurator.Group</code> to <code class="language-plaintext highlighter-rouge">Configurator.Group | undefined</code>.</li>
</ul>

<h4 id="new-and-renamed-dependencies">New and Renamed Dependencies</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">ConfiguratorCartEntryInfoComponent</code> now also requires <code class="language-plaintext highlighter-rouge">CommonConfiguratorUtilsService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ConfiguratorAttributeCheckboxListComponent</code> now also requires <code class="language-plaintext highlighter-rouge">ConfiguratorAttributeQuantityService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ConfiguratorAttributeDropDownComponent</code> now also requires <code class="language-plaintext highlighter-rouge">ConfiguratorAttributeQuantityService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ConfiguratorAttributeInputFieldComponent</code> now also requires <code class="language-plaintext highlighter-rouge">ConfiguratorUISettingsConfig</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ConfiguratorAttributeNumericInputFieldComponent</code> now also requires <code class="language-plaintext highlighter-rouge">ConfiguratorUISettingsConfig</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ConfiguratorAttributeRadiButtonComponent</code> now also requires <code class="language-plaintext highlighter-rouge">ConfiguratorAttributeQuantityService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ConfiguratorGroupMenuComponent</code> now also requires <code class="language-plaintext highlighter-rouge">ConfiguratorGroupMenuService</code> and <code class="language-plaintext highlighter-rouge">DirectionService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ConfiguratorStorefrontUtilsService</code> now also requires <code class="language-plaintext highlighter-rouge">WindowRef</code> and <code class="language-plaintext highlighter-rouge">KeyboardFocusService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ConfiguratorFormComponent</code> now also requires <code class="language-plaintext highlighter-rouge">ConfiguratorStorefrontUtilsService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ConfiguratorIssuesNotificationComponent</code> now also requires <code class="language-plaintext highlighter-rouge">CartItemContext</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ConfiguratorOverviewAttributeComponent</code> now also requires <code class="language-plaintext highlighter-rouge">BreakpointService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ConfiguratorUpdateMessageComponent</code> now requires <code class="language-plaintext highlighter-rouge">ConfiguratorMessageConfig</code> instead of <code class="language-plaintext highlighter-rouge">MessageConfig</code>.</li>
</ul>

<h3 id="loginregistercomponent">LoginRegisterComponent</h3>

<p>Library: <code class="language-plaintext highlighter-rouge">@spartacus/user</code></p>

<p>Class: <code class="language-plaintext highlighter-rouge">LoginRegisterComponent</code></p>

<p>Change: The <code class="language-plaintext highlighter-rouge">checkoutConfigService: CheckoutConfigService</code> constructor parameter is removed.</p>

<p>The display of the guest checkout button relies on the presence of the <code class="language-plaintext highlighter-rouge">forced</code> query parameter only.</p>

<h3 id="ngbtabsetmodule">NgbTabsetModule</h3>

<h4 id="storefindercomponentsmodule">StoreFinderComponentsModule</h4>

<ul>
  <li>The deprecated <code class="language-plaintext highlighter-rouge">NgbTabsetModule</code> import from <code class="language-plaintext highlighter-rouge">@ng-bootstrap/ng-bootstrap</code> has been replaced with <code class="language-plaintext highlighter-rouge">NgbNavModule</code> to support version 8 of the library.</li>
</ul>

<h4 id="storefinderlistcomponent-1">StoreFinderListComponent</h4>

<ul>
  <li>The mobile template has been updated to use nav instead of tabs. For more information, see this Spartacus GitHub <a href="https://github.com/SAP/spartacus/pull/12398/files#diff-1db586698a503ea500917fe4d734f84d0729f585aa7c4b56705d9171a38e7f55L64-L120">pull request</a>.</li>
  <li>Added styles for <code class="language-plaintext highlighter-rouge">ul.nav</code> to keep the same appearance.</li>
</ul>

<h3 id="asm-changes">ASM Changes</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">AsmModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefrontlib</code>, and renamed to <code class="language-plaintext highlighter-rouge">AsmComponentsModule</code>. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/components</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/core</code>, and renamed to <code class="language-plaintext highlighter-rouge">AsmCoreModule</code>. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmOccModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/core</code>. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/occ</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">OccAsmAdapter</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/core</code>. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/occ</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmConfig</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/core</code>. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmAdapter</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmConnector</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">CUSTOMER_SEARCH_PAGE_NORMALIZER</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmService</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">CsAgentAuthService</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/root</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">CustomerSearchPage</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">CustomerSearchOptions</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmUi</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmAuthHttpHeaderService</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/root</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">TOKEN_TARGET</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/root</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmAuthService</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/root</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmAuthStorageService</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/root</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">SYNCED_ASM_STATE</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmStatePersistenceService</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">ASM_UI_UPDATE</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmUiUpdate</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmUiAction</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">CUSTOMER_SEARCH</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">CUSTOMER_SEARCH_FAIL</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">CUSTOMER_SEARCH_SUCCESS</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">CUSTOMER_SEARCH_RESET</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">CustomerSearch</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">CustomerSearchFail</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">CustomerSearchSuccess</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">CustomerSearchReset</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">CustomerAction</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">LOGOUT_CUSTOMER_SUPPORT_AGENT</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">LogoutCustomerSupportAgent</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">ASM_FEATURE</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">CUSTOMER_SEARCH_DATA</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">StateWithAsm</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmState</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">getAsmUi</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">getCustomerSearchResultsLoaderState</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">getCustomerSearchResults</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">getCustomerSearchResultsLoading</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">getAsmState</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/asm/core</code> instead.</li>
</ul>

<h3 id="launchdialogservice">LaunchDialogService</h3>

<h4 id="savedcartformlaunchdialogservice">SavedCartFormLaunchDialogService</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">SavedCartFormLaunchDialogService</code> service has been removed. The <code class="language-plaintext highlighter-rouge">openDialog</code> method is part of the <code class="language-plaintext highlighter-rouge">LaunchDialogService</code> now.</li>
</ul>

<h4 id="addtosavedcartcomponent">AddToSavedCartComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">SavedCartFormLaunchDialogService</code> was removed from the constructor.</li>
  <li>The <code class="language-plaintext highlighter-rouge">LaunchDialogService</code> was added to the constructor.</li>
</ul>

<h4 id="savedcartdetailsactioncomponent-1">SavedCartDetailsActionComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">SavedCartFormLaunchDialogService</code> was removed from the constructor.</li>
  <li>The <code class="language-plaintext highlighter-rouge">LaunchDialogService</code> was added to the constructor.</li>
</ul>

<h4 id="savedcartdetailsoverviewcomponent">SavedCartDetailsOverviewComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">SavedCartFormLaunchDialogService</code> was removed from the constructor.</li>
  <li>The <code class="language-plaintext highlighter-rouge">LaunchDialogService</code> was added to the constructor.</li>
</ul>

<h4 id="anonymousconsentlaunchdialogservice">AnonymousConsentLaunchDialogService</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">AnonymousConsentLaunchDialogService</code> service has been removed. The <code class="language-plaintext highlighter-rouge">openDialog</code> method is part of <code class="language-plaintext highlighter-rouge">LaunchDialogService</code> now.</li>
</ul>

<h4 id="anonymousconsentmanagementbannercomponent">AnonymousConsentManagementBannerComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">AnonymousConsentLaunchDialogService</code> was removed from the constructor.</li>
  <li>The <code class="language-plaintext highlighter-rouge">LaunchDialogService</code> was added to the constructor.</li>
</ul>

<h4 id="anonymousconsentopendialogcomponent">AnonymousConsentOpenDialogComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">AnonymousConsentLaunchDialogService</code> was removed from the constructor.</li>
  <li>The <code class="language-plaintext highlighter-rouge">LaunchDialogService</code> was added to the constructor.</li>
</ul>

<h4 id="replenishmentordercancellationlaunchdialogservice">ReplenishmentOrderCancellationLaunchDialogService</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">ReplenishmentOrderCancellationLaunchDialogService</code> service has been removed. The <code class="language-plaintext highlighter-rouge">openDialog</code> method is part of <code class="language-plaintext highlighter-rouge">LaunchDialogService</code> now.</li>
</ul>

<h4 id="replenishmentordercancellationcomponent">ReplenishmentOrderCancellationComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">ReplenishmentOrderCancellationLaunchDialogService</code> was removed from the constructor.</li>
  <li>The <code class="language-plaintext highlighter-rouge">LaunchDialogService</code> was added to the constructor.</li>
</ul>

<h4 id="orderhistorycomponent">OrderHistoryComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">div</code> that wrapped the <code class="language-plaintext highlighter-rouge">cx-sorting</code> component has been changed to <code class="language-plaintext highlighter-rouge">label</code> and <code class="language-plaintext highlighter-rouge">span</code> was added before field.</li>
</ul>

<h4 id="orderreturnrequestlistcomponent">OrderReturnRequestListComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">div</code> that wrapped the <code class="language-plaintext highlighter-rouge">cx-sorting</code> component has been changed to <code class="language-plaintext highlighter-rouge">label</code> and <code class="language-plaintext highlighter-rouge">span</code> was added before field.</li>
</ul>

<h4 id="replenishmentorderhistorycomponent">ReplenishmentOrderHistoryComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">ReplenishmentOrderCancellationLaunchDialogService</code> was removed from the constructor.</li>
  <li>the <code class="language-plaintext highlighter-rouge">LaunchDialogService</code> was added to the constructor.</li>
  <li>The <code class="language-plaintext highlighter-rouge">div</code> that wrapped the <code class="language-plaintext highlighter-rouge">cx-sorting</code> component has been changed to <code class="language-plaintext highlighter-rouge">label</code> and  <code class="language-plaintext highlighter-rouge">span</code> was added before field.</li>
</ul>

<h4 id="productlistcomponent">ProductListComponent</h4>

<ul>
  <li>Two <code class="language-plaintext highlighter-rouge">div</code> elements that wrapped the <code class="language-plaintext highlighter-rouge">cx-sorting</code> component have been merged to one <code class="language-plaintext highlighter-rouge">label</code> and <code class="language-plaintext highlighter-rouge">span</code> was added before field.</li>
</ul>

<h3 id="smartedit">SmartEdit</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">SmartEditModule</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/smartedit</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">SmartEditService</code> was moved to <code class="language-plaintext highlighter-rouge">@spartacus/smartedit/core</code>.</li>
</ul>

<h3 id="personalization">Personalization</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">PersonalizationModule</code> was removed. Use <code class="language-plaintext highlighter-rouge">@spartacus/tracking/personalization</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">PersonalizationConfig</code> was moved to <code class="language-plaintext highlighter-rouge">@spartacus/tracking/personalization/root</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">PersonalizationContextService</code> was moved to <code class="language-plaintext highlighter-rouge">@spartacus/tracking/personalization/core</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">PersonalizationAction</code> was moved to <code class="language-plaintext highlighter-rouge">@spartacus/tracking/personalization/core</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">PersonalizationContext</code> was moved to <code class="language-plaintext highlighter-rouge">@spartacus/tracking/personalization/core</code>.</li>
</ul>

<h3 id="windowref">WindowRef</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">platformId</code> is now a required constructor dependency.</li>
</ul>

<h3 id="productlistcomponentservice">ProductListComponentService</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">ProductListComponentService</code> now also requires <code class="language-plaintext highlighter-rouge">ViewConfig</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">defaultPageSize</code> property was removed. To modify the default page size, use <code class="language-plaintext highlighter-rouge">provideConfig(&lt;ViewConfig&gt;{ view: { defaultPageSize: &lt;your_default_page_size_value }})</code> in the module.</li>
</ul>

<h3 id="product-reloading">Product reloading</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">reload</code> method was removed from <code class="language-plaintext highlighter-rouge">ProductService</code>. Instead, use the <a href="/spartacus-docs/beta-docs/loading-scopes/#reloading-triggers">reloading triggers</a>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">EventService</code> from <code class="language-plaintext highlighter-rouge">@spartacus/core</code> was added as a parameter to the constructor for the <code class="language-plaintext highlighter-rouge">ProductLoadingService</code>.</li>
</ul>

<h3 id="product-variants-changes">Product Variants Changes</h3>

<h4 id="automated-migrations-for-version-40">Automated Migrations for Version 4.0</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">ProductVariantsModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code>. Use the <code class="language-plaintext highlighter-rouge">@spartacus/product/variants</code> feature library instead.</li>
  <li><code class="language-plaintext highlighter-rouge">ProductVariantsComponent</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code>. Use <code class="language-plaintext highlighter-rouge">ProductVariantsContainerComponent</code> from <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/components</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">VariantColorSelectorComponent</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code>. Use <code class="language-plaintext highlighter-rouge">ProductVariantColorSelectorComponent</code> from <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/components</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">VariantColorSelectorModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code>. Use <code class="language-plaintext highlighter-rouge">ProductVariantColorSelectorModule</code> from <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/components</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">VariantSizeSelectorComponent</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code>. Use <code class="language-plaintext highlighter-rouge">ProductVariantSizeSelectorComponent</code> from <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/components</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">VariantSizeSelectorModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code>. Use <code class="language-plaintext highlighter-rouge">ProductVariantSizeSelectorModule</code> from <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/components</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">VariantStyleSelectorComponent</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code>. Use <code class="language-plaintext highlighter-rouge">ProductVariantStyleSelectorComponent</code> from <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/components</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">VariantStyleSelectorModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code>. Use <code class="language-plaintext highlighter-rouge">ProductVariantStyleSelectorModule</code> from <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/components</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">VariantStyleIconsComponent</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code>. Use <code class="language-plaintext highlighter-rouge">ProductVariantStyleIconsComponent</code> from <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/root</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">ProductVariantStyleIconsComponent</code> was moved from <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/components</code>to <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/root</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">VariantStyleIconsModule</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code>. Use <code class="language-plaintext highlighter-rouge">ProductVariantStyleIconsModule</code> from <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/root</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">ProductVariantStyleIconsModule</code> was moved from <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/components</code>to <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/root</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">ProductVariantGuard</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code>. Use <code class="language-plaintext highlighter-rouge">ProductVariantsGuard</code> from <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/components</code> instead. Additionally, the <code class="language-plaintext highlighter-rouge">findVariant</code> method was renamed to <code class="language-plaintext highlighter-rouge">findPurchasableProductCode</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">AuthHttpHeaderService</code> now requires <code class="language-plaintext highlighter-rouge">AuthRedirectService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">AsmAuthHttpHeaderService</code> now requires <code class="language-plaintext highlighter-rouge">AuthRedirectService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">AuthRedirectService</code> now requires <code class="language-plaintext highlighter-rouge">AuthFlowRoutesService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">RoutingService</code> now requires <code class="language-plaintext highlighter-rouge">Location</code> from <code class="language-plaintext highlighter-rouge">@angular/common</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ProtectedRoutesService</code> now requires <code class="language-plaintext highlighter-rouge">UrlParsingService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">EventService</code> no longer uses <code class="language-plaintext highlighter-rouge">FeatureConfigService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">PageEventModule</code> was removed. Instead, use <code class="language-plaintext highlighter-rouge">NavigationEventModule</code> from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">PageEventBuilder</code> was removed. Instead, use <code class="language-plaintext highlighter-rouge">NavigationEventBuilder</code> from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">CartPageEventBuilder</code> no longer uses <code class="language-plaintext highlighter-rouge">ActionsSubject</code> and <code class="language-plaintext highlighter-rouge">FeatureConfigService</code></li>
  <li><code class="language-plaintext highlighter-rouge">HomePageEventBuilder</code> no longer uses <code class="language-plaintext highlighter-rouge">FeatureConfigService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ProductPageEventBuilder</code> no longer uses <code class="language-plaintext highlighter-rouge">FeatureConfigService</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">PageEvent</code> no longer contains the <code class="language-plaintext highlighter-rouge">context</code>, <code class="language-plaintext highlighter-rouge">semanticRoute</code>, <code class="language-plaintext highlighter-rouge">url</code> and <code class="language-plaintext highlighter-rouge">params</code> properties. These are now contained in the <code class="language-plaintext highlighter-rouge">PageEvent.navigation</code> object.</li>
  <li><code class="language-plaintext highlighter-rouge">EventsModule</code> was removed. Use individual imports instead (for example, <code class="language-plaintext highlighter-rouge">CartPageEventModule</code>, <code class="language-plaintext highlighter-rouge">ProductPageEventModule</code>, and so on).</li>
</ul>

<h4 id="product-variants-i18n">Product Variants i18n</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">variant</code> translation namespace was removed from <code class="language-plaintext highlighter-rouge">@spartacus/assets</code>. Use the <code class="language-plaintext highlighter-rouge">productVariants</code> namespace that can be imported with <code class="language-plaintext highlighter-rouge">productVariantsTranslations</code> and <code class="language-plaintext highlighter-rouge">productVariantsTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/assets</code> instead. Translation keys from this namespace did not changed.</li>
</ul>

<h4 id="product-variants-endpoint-scope">Product Variants Endpoint Scope</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">variants</code> scope was removed from <code class="language-plaintext highlighter-rouge">defaultOccProductConfig</code>. It is now provided by <code class="language-plaintext highlighter-rouge">ProductVariantsOccModule</code> under <code class="language-plaintext highlighter-rouge">@spartacus/product/variants/occ</code> instead. Additionally, the endpoint now uses the <code class="language-plaintext highlighter-rouge">orgProducts</code> API instead of <code class="language-plaintext highlighter-rouge">products</code>.</li>
</ul>

<h4 id="productvariantstyleiconscomponent">ProductVariantStyleIconsComponent</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">ProductVariantStyleIconsComponent</code> changed its constructor dependency from <code class="language-plaintext highlighter-rouge">ProductListItemContextSource</code> to <code class="language-plaintext highlighter-rouge">ProductListItemContext</code>.</li>
</ul>

<h4 id="product-variants-styles">Product Variants Styles</h4>

<ul>
  <li>Styles for <code class="language-plaintext highlighter-rouge">cx-product-variants</code> were removed from <code class="language-plaintext highlighter-rouge">@spartacus/styles</code>. Use the <code class="language-plaintext highlighter-rouge">@spartacus/product/variants</code> import instead.</li>
</ul>

<h3 id="feature-keys-for-product-configurators">Feature Keys for Product Configurators</h3>

<p>The feature keys that are used to lazy load the product configurator libraries in <code class="language-plaintext highlighter-rouge">app.module.ts</code> were available as <code class="language-plaintext highlighter-rouge">rulebased</code> and <code class="language-plaintext highlighter-rouge">productConfiguratorRulebased</code> from 3.1 onwards (respective <code class="language-plaintext highlighter-rouge">textfield</code> and <code class="language-plaintext highlighter-rouge">productConfiguratorTextfield</code> for the textfield template configurator).</p>

<p>In 4.0, only the longer versions <code class="language-plaintext highlighter-rouge">productConfiguratorRulebased</code> and <code class="language-plaintext highlighter-rouge">productConfiguratorTextfield</code> are possible.</p>

<p>The following is an example of a configuration for Spartacus prior to 4.0:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="nx">featureModules</span><span class="p">:</span> <span class="p">{</span>
        <span class="nl">rulebased</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">module</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">@spartacus/product-configurator/rulebased</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
          <span class="p">(</span><span class="nx">m</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">m</span><span class="p">.</span><span class="nx">RulebasedConfiguratorModule</span>
        <span class="p">),</span>
        <span class="p">},</span>
      <span class="p">}</span>
</code></pre></div></div>

<p>With Spartacus 4.0, the configuration needs to appear as follows:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="nx">featureModules</span><span class="p">:</span> <span class="p">{</span>
        <span class="nl">productConfiguratorRulebased</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">module</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">@spartacus/product-configurator/rulebased</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span>
          <span class="p">(</span><span class="nx">m</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">m</span><span class="p">.</span><span class="nx">RulebasedConfiguratorModule</span>
        <span class="p">),</span>
        <span class="p">},</span>
      <span class="p">}</span>
</code></pre></div></div>

<h3 id="translations-i18n-changed">Translations (i18n) changed</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">asm.standardSessionInProgress</code> key was removed.</li>
  <li>The <code class="language-plaintext highlighter-rouge">pageMetaResolver.checkout.title_plurar</code> key was removed.</li>
  <li>The value of <code class="language-plaintext highlighter-rouge">pageMetaResolver.checkout.title</code> has been changed to <code class="language-plaintext highlighter-rouge">Checkout</code>.</li>
</ul>

<h3 id="storage-sync-mechanism">Storage Sync Mechanism</h3>

<p>In version 4.0, the storage sync mechanism that was deprecated in version 3.0 has now been removed. In the previous major release, Spartacus provided a more powerful mechanism based on <code class="language-plaintext highlighter-rouge">StatePersistenceService</code>, which can cover all use cases for synchronizing data to and from the browser storage (such as <code class="language-plaintext highlighter-rouge">localStorage</code> and <code class="language-plaintext highlighter-rouge">sessionStorage</code>), and it does this better than the removed storage sync.</p>

<p>The following was removed:</p>

<ul>
  <li>The core of the mechanism (reducer)</li>
  <li>The configuration (<code class="language-plaintext highlighter-rouge">storageSync</code> from <code class="language-plaintext highlighter-rouge">StateConfig</code>)</li>
  <li>The default config and default keys (<code class="language-plaintext highlighter-rouge">defaultStateConfig</code>, <code class="language-plaintext highlighter-rouge">DEFAULT_LOCAL_STORAGE_KEY</code> and <code class="language-plaintext highlighter-rouge">DEFAULT_SESSION_STORAGE_KEY</code>)</li>
</ul>

<h3 id="defaultscrollconfig">DefaultScrollConfig</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">defaultScrollConfig</code> was renamed to <code class="language-plaintext highlighter-rouge">defaultViewConfig</code></li>
</ul>

<h3 id="basesiteservice">BaseSiteService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">BaseSiteService.initialize</code> method was removed. Use <code class="language-plaintext highlighter-rouge">BaseSiteServiceInitializer.initialize</code> instead.</li>
  <li>A <code class="language-plaintext highlighter-rouge">BaseSiteService.isInitialized</code> method was added.</li>
</ul>

<h3 id="languageservice">LanguageService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">LanguageService.initialize</code> method was removed. Use <code class="language-plaintext highlighter-rouge">LanguageInitializer.initialize</code> instead.</li>
  <li>A <code class="language-plaintext highlighter-rouge">LanguageService.isInitialized</code> method was added.</li>
  <li><code class="language-plaintext highlighter-rouge">LanguageService</code> no longer uses <code class="language-plaintext highlighter-rouge">WindowRef</code>. The language initialization from the state was moved to <code class="language-plaintext highlighter-rouge">LanguageInitializer</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">LanguageService</code> now validates the value passed to the <code class="language-plaintext highlighter-rouge">setActive()</code> method against the ISO codes listed in the Spartacus <code class="language-plaintext highlighter-rouge">context</code> config, before setting the actual value in the NgRx store.</li>
  <li>The initialization of the site context is scheduled a bit earlier than it was before (now it is run in an observable stream instead of a Promise’s callback). It is a very slight change, but might have side effects in some custom implementations.</li>
  <li>The active language is now persisted in the Local Storage instead of the Session Storage.</li>
</ul>

<h3 id="currencyservice">CurrencyService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">CurrencyService.initialize</code> method was removed. Use <code class="language-plaintext highlighter-rouge">CurrencyInitializer.initialize</code> instead.</li>
  <li>A <code class="language-plaintext highlighter-rouge">CurrencyService.isInitialized</code> method was added.</li>
  <li><code class="language-plaintext highlighter-rouge">CurrencyService</code> no longer uses <code class="language-plaintext highlighter-rouge">WindowRef</code>. The currency initialization from the state was moved to <code class="language-plaintext highlighter-rouge">CurrencyInitializer</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">CurrencyService</code> now validates the value passed to the <code class="language-plaintext highlighter-rouge">setActive()</code> method against the ISO codes listed in the Spartacus <code class="language-plaintext highlighter-rouge">context</code> config, before setting the actual value in the RgRx store.</li>
  <li>The initialization of the site context is scheduled a bit earlier than it was before (now it is run in an observable stream instead of a Promise’s callback). It is a very slight change, but might have side effects in some custom implementations.</li>
  <li>The active currency is now persisted in the LocalStorage instead of the Session Storage.</li>
</ul>

<h3 id="page-resolvers">Page Resolvers</h3>

<p>In 3.1 and 3.2, Spartacus introduced a few changes on how page meta data is collected. The resolvers are now configurable, and you can also configure whether the resolvers render on the client (CSR) or server (SSR). By default, description, image, robots and canonical URL are resolved only in SSR. A few resolvers have been changed or added, since most data is now configurable in the back end (such as description and robots). The robot information that was previously hardcoded in some resolvers is now driven by back end data.</p>

<p>Resolving the canonical URL has been enabled by default in 4.0. If you want to opt-out, change the Spartacus configuration of <code class="language-plaintext highlighter-rouge">pageMeta.resolvers</code>.</p>

<p>A new feature has been added to the product and category resolvers for the canonical URL.</p>

<p>The <code class="language-plaintext highlighter-rouge">BasePageMetaResolver</code> is leveraged to compose most of the generic page meta data. Most page resolvers now use the page data to create the description and robot tags. The changes affect the following resolver classes:</p>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">PageMetaService</code> has a dependency on <code class="language-plaintext highlighter-rouge">UnifiedInjector</code>, <code class="language-plaintext highlighter-rouge">PageMetaConfig</code> and the <code class="language-plaintext highlighter-rouge">platformId</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ContentPageMetaResolver</code> depends only on the <code class="language-plaintext highlighter-rouge">BasePageMetaResolver</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">BasePageMetaResolver</code> requires the <code class="language-plaintext highlighter-rouge">Router</code> and <code class="language-plaintext highlighter-rouge">PageLinkService</code> to add canonical links to the page meta.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ProductPageMetaResolver</code> requires the <code class="language-plaintext highlighter-rouge">BasePageMetaResolver</code> and <code class="language-plaintext highlighter-rouge">PageLinkService</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">CategoryPageMetaResolver</code> requires the <code class="language-plaintext highlighter-rouge">BasePageMetaResolver</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">SearchPageMetaResolver</code> requires the <code class="language-plaintext highlighter-rouge">BasePageMetaResolver</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">CheckoutPageMetaResolver</code> uses the <code class="language-plaintext highlighter-rouge">BasePageMetaResolver</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">OrganizationPageMetaResolver</code> no longer uses the <code class="language-plaintext highlighter-rouge">BasePageMetaResolver</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">RoutingService</code> uses the <code class="language-plaintext highlighter-rouge">Router</code> to resolve the full URL (used to resolve the canonical URL in the page meta resolvers)</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">CmsPageTitleModule</code> is renamed to <code class="language-plaintext highlighter-rouge">PageMetaModule</code>.</p>

<p>The <code class="language-plaintext highlighter-rouge">CartPageMetaResolver</code> is removed because all content is resolved by the generic <code class="language-plaintext highlighter-rouge">ContentPageMetaResolver</code>.</p>

<p>The following properties where removed in 4.0:</p>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">ContentPageMetaResolver</code> no longer supports the <code class="language-plaintext highlighter-rouge">homeBreadcrumb$</code>,<code class="language-plaintext highlighter-rouge">breadcrumb$</code>,<code class="language-plaintext highlighter-rouge">title$</code> and <code class="language-plaintext highlighter-rouge">cms$</code> because the content is resolved by the <code class="language-plaintext highlighter-rouge">BasePageMetaResolver</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">resolverMethods</code> property on the <code class="language-plaintext highlighter-rouge">PageMetaService</code> has changed to <code class="language-plaintext highlighter-rouge">resolvers$</code> because the resolvers are read from the configuration stream.</li>
</ul>

<h3 id="selectivecartservice">SelectiveCartService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">getLoaded</code> method was removed. Use the <code class="language-plaintext highlighter-rouge">isStable</code> method instead.</li>
</ul>

<h3 id="dynamicattributeservice">DynamicAttributeService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">DynamicAttributeService</code> does not depend anymore on the <code class="language-plaintext highlighter-rouge">SmartEditService</code>, but only on the <code class="language-plaintext highlighter-rouge">UnifiedInjector</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">addDynamicAttributes</code> method was removed. Use the <code class="language-plaintext highlighter-rouge">addAttributesToComponent</code> or <code class="language-plaintext highlighter-rouge">addAttributesToSlot</code> functions instead.</li>
</ul>

<h3 id="searchboxcomponentservice">SearchBoxComponentService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">SearchBoxComponentService</code> now also requires the <code class="language-plaintext highlighter-rouge">EventService</code>.</li>
</ul>

<h3 id="cartlistitemcomponent">CartListItemComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">FeatureConfigService</code> was removed from the constructor and the <code class="language-plaintext highlighter-rouge">UserIdService</code> and <code class="language-plaintext highlighter-rouge">MultiCartService</code> were added to the constructor.</li>
  <li>The <code class="language-plaintext highlighter-rouge">form: FormGroup</code> property is now initialized on component creation instead of in the <code class="language-plaintext highlighter-rouge">createForm()</code> method.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ngOnInit()</code> method has been modified to fix an issue with rendering items.</li>
  <li>The <code class="language-plaintext highlighter-rouge">[class.is-changed]</code> template attribute on <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code> tag now depends on the <code class="language-plaintext highlighter-rouge">control.get('quantity').disabled</code> method.</li>
</ul>

<h3 id="models">Models</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">Item</code> interface was removed. Use <code class="language-plaintext highlighter-rouge">OrderEntry</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">sortCode</code> was removed from the <code class="language-plaintext highlighter-rouge">TableHeader</code> interface.</li>
</ul>

<h3 id="searchboxcomponent">SearchBoxComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">RoutingService</code> is a new, required constructor dependency.</li>
  <li><code class="language-plaintext highlighter-rouge">cx-icon[type.iconTypes.RESET]</code> has been changed to <code class="language-plaintext highlighter-rouge">button&gt;cx-icon[type.iconTypes.Reset]</code></li>
  <li><code class="language-plaintext highlighter-rouge">cx-icon[type.iconstypes.SEARCH]</code> has been changed to <code class="language-plaintext highlighter-rouge">div&gt;cx-icon[type.iconstypes.SEARCH]</code> with the rest of the attributes removed. The button is for presentation purpose only.</li>
  <li><code class="language-plaintext highlighter-rouge">div.suggestions</code> has been changed to <code class="language-plaintext highlighter-rouge">ul&gt;li&gt;a</code> for better a11y support</li>
  <li><code class="language-plaintext highlighter-rouge">div.products</code> has been changed to <code class="language-plaintext highlighter-rouge">ul&gt;li&gt;a</code> for better a11y support</li>
  <li><code class="language-plaintext highlighter-rouge">winRef.document.querySelectorAll('.products &gt; a, .suggestions &gt; a')</code> has been changed to  <code class="language-plaintext highlighter-rouge">winRef.document.querySelectorAll('.products &gt; li a, .suggestions &gt; li a')</code></li>
</ul>

<h3 id="organization-administration-breaking-changes">Organization Administration Breaking Changes</h3>

<h4 id="cardcomponent-administration">CardComponent (Administration)</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">displayCloseButton</code> property in the <code class="language-plaintext highlighter-rouge">cxPopoverOptions</code> attribute of the <code class="language-plaintext highlighter-rouge">button.hint-popover</code> element has been set to <code class="language-plaintext highlighter-rouge">true</code>.</li>
</ul>

<h4 id="listcomponent">ListComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">displayCloseButton</code> property in the <code class="language-plaintext highlighter-rouge">cxPopoverOptions</code> attribute of the <code class="language-plaintext highlighter-rouge">button.hint-popover</code> element has been set to <code class="language-plaintext highlighter-rouge">true</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ng-select</code> for sort has been wrapped by <code class="language-plaintext highlighter-rouge">label</code> and <code class="language-plaintext highlighter-rouge">span</code> has been added before.</li>
</ul>

<h4 id="usergroupuserlistcomponent">UserGroupUserListComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">MessageService</code> was removed from the constructor.</li>
</ul>

<h4 id="togglestatuscomponent">ToggleStatusComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">FeatureConfigService</code> was removed from the constructor.</li>
  <li>The <code class="language-plaintext highlighter-rouge">DisableInfoService</code> was added to the constructor.</li>
</ul>

<h4 id="deleteitemcomponent">DeleteItemComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">FeatureConfigService</code> was removed from the constructor.</li>
</ul>

<h4 id="unitchildrencomponent">UnitChildrenComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">CurrentUnitService</code> is now a required parameter in the component constructor.</li>
</ul>

<h4 id="unitcostcenterlistcomponent">UnitCostCenterListComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">CurrentUnitService</code> is now a required parameter in the component constructor.</li>
</ul>

<h4 id="unituserlistcomponent">UnitUserListComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">CurrentUnitService</code> is now a required parameter in the component constructor.</li>
</ul>

<h4 id="unitformcomponent">UnitFormComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">formGroup</code> property was renamed to <code class="language-plaintext highlighter-rouge">form</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">form$</code> property was removed.</li>
</ul>

<h4 id="organizationtabletype">OrganizationTableType</h4>

<ul>
  <li>The unused <code class="language-plaintext highlighter-rouge">UNIT_ASSIGNED_ROLES</code> property was removed from the enum.</li>
</ul>

<h4 id="httperrormodel">HttpErrorModel</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">error</code> property was removed from the interface.</li>
</ul>

<h4 id="organization-related-translations-i18n-changes">Organization Related Translations (i18n) Changes</h4>

<p>The contents of the following were changed:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">orgBudget.messages.deactivate</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgCostCenter.messages.deactivate</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgPurchaseLimit.messages.deactivate</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgUnit.messages.deactivate</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgUnitAddress.messages.delete</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgUserGroup.messages.delete</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgUser.messages.deactivate</code></li>
</ul>

<p>The following unused keys were removed:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">orgBudget.messages.deactivateBody</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgBudget.byName</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgBudget.byUnitName</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgBudget.byCode</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgBudget.byValue</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgCostCenter.messages.deactivateBody</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgCostCenter.byName</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgCostCenter.byCode</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgCostCenter.byUnitName</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgPurchaseLimit.messages.deactivateBody</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgPurchaseLimit.byName</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgPurchaseLimit.byUnitName</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgUnit.messages.deactivateBody</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgUnitAddress.messages.deleteBody</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgUserGroup.messages.deleteBody</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgUserGroup.byName</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgUserGroup.byUnitName</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgUserGroup.byGroupID</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgUser.messages.deactivateBody</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgUser.byName</code></li>
  <li><code class="language-plaintext highlighter-rouge">orgUser.byUnitName</code></li>
</ul>

<h3 id="dependencies-changes">Dependencies Changes</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">i18next-xhr-backend</code> peer dependency package was replaced with <code class="language-plaintext highlighter-rouge">i18next-http-backend</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">i18next</code> peer dependency package was upgraded to version <code class="language-plaintext highlighter-rouge">20.2.2</code></li>
</ul>

<h3 id="cmsfeaturesservice">CmsFeaturesService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">CmsComponentsService</code> constructor is now using <code class="language-plaintext highlighter-rouge">CmsFeaturesService</code> (replacing <code class="language-plaintext highlighter-rouge">FeatureModulesService</code>) and <code class="language-plaintext highlighter-rouge">ConfigInitializerService</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">FeatureModulesService</code> was removed. It is replaced by the <code class="language-plaintext highlighter-rouge">CmsFeaturesService</code>.</li>
</ul>

<h3 id="configinitializerservice-1">ConfigInitializerService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">getStableConfig</code> method was removed. Use the new equivalent <code class="language-plaintext highlighter-rouge">getStable</code> method instead.</li>
</ul>

<h3 id="cartitemcomponent-1">CartItemComponent</h3>

<p>The <code class="language-plaintext highlighter-rouge">CartItemComponent</code> now also requires <code class="language-plaintext highlighter-rouge">CartItemContextSource</code>. Furthermore, a customized version of this component now also should provide <code class="language-plaintext highlighter-rouge">CartItemContextSource</code> and <code class="language-plaintext highlighter-rouge">CartItemContext</code> locally as follows:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">providers</span><span class="p">:</span> <span class="p">[</span>
    <span class="nx">CartItemContextSource</span><span class="p">,</span>
    <span class="p">{</span> <span class="na">provide</span><span class="p">:</span> <span class="nx">CartItemContext</span><span class="p">,</span> <span class="na">useExisting</span><span class="p">:</span> <span class="nx">CartItemContextSource</span> <span class="p">},</span>
  <span class="p">],</span>
  <span class="cm">/* ... */</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="productlistitemcomponent-and-productgriditemcomponent">ProductListItemComponent and ProductGridItemComponent</h3>

<p>The <code class="language-plaintext highlighter-rouge">ProductListItemComponent</code> and <code class="language-plaintext highlighter-rouge">ProductGridItemComponent</code> now require <code class="language-plaintext highlighter-rouge">ProductListItemContextSource</code>. Furthermore, customized versions of those components now also should provide <code class="language-plaintext highlighter-rouge">ProductListItemContextSource</code> and <code class="language-plaintext highlighter-rouge">ProductListItemContext</code> locally as follows:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">providers</span><span class="p">:</span> <span class="p">[</span>
    <span class="nx">ProductListItemContextSource</span><span class="p">,</span>
    <span class="p">{</span> <span class="na">provide</span><span class="p">:</span> <span class="nx">ProductListItemContext</span><span class="p">,</span> <span class="na">useExisting</span><span class="p">:</span> <span class="nx">ProductListItemContextSource</span> <span class="p">},</span>
  <span class="p">],</span>
  <span class="cm">/* ... */</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="cartitemcontext-and-cartitemcontextsource">CartItemContext and CartItemContextSource</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">promotionLocation$</code> property has been removed. Use <code class="language-plaintext highlighter-rouge">location$</code> instead.</li>
</ul>

<h3 id="user-lib-changes">User Lib Changes</h3>

<h4 id="cms-components">CMS Components</h4>

<ul>
  <li>
    <p>The following modules were moved to <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/components</code>:</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">CloseAccountModule</code></li>
      <li><code class="language-plaintext highlighter-rouge">ForgotPasswordModule</code></li>
      <li><code class="language-plaintext highlighter-rouge">RegisterComponentModule</code></li>
      <li><code class="language-plaintext highlighter-rouge">ResetPasswordModule</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdateEmailModule</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdatePasswordModule</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdateProfileModule</code></li>
    </ul>
  </li>
  <li>
    <p>The following modules were moved to <code class="language-plaintext highlighter-rouge">@spartacus/user/account/components</code>:</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">LoginModule</code></li>
      <li><code class="language-plaintext highlighter-rouge">LoginFormModule</code></li>
      <li><code class="language-plaintext highlighter-rouge">LoginRegisterModule</code></li>
    </ul>
  </li>
  <li>The <code class="language-plaintext highlighter-rouge">ResetPasswordFormComponent</code> component was renamed to <code class="language-plaintext highlighter-rouge">ResetPasswordComponent</code> and can now be used from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/components</code>. The logic for this component was also changed. See below for more information.</li>
  <li>The <code class="language-plaintext highlighter-rouge">UpdateEmailFormComponent</code> component was removed. Use <code class="language-plaintext highlighter-rouge">UpdateEmailComponent</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/components</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">UpdatePasswordFormComponent</code> component was removed. Use <code class="language-plaintext highlighter-rouge">UpdatePasswordComponent</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/components</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">UpdateProfileFormComponent</code> component was removed. Use <code class="language-plaintext highlighter-rouge">UpdateProfileComponent</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/components</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">CloseAccountComponent</code>, <code class="language-plaintext highlighter-rouge">CloseAccountModalComponent</code>, <code class="language-plaintext highlighter-rouge">ForgotPasswordComponent</code>, <code class="language-plaintext highlighter-rouge">RegisterComponent</code>, <code class="language-plaintext highlighter-rouge">UpdateEmailComponent</code>, <code class="language-plaintext highlighter-rouge">UpdatePasswordComponent</code>, and <code class="language-plaintext highlighter-rouge">UpdateProfileComponent</code> components were moved to <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/components</code>. The logic for these components was also changed. See below for more information.</li>
  <li>The <code class="language-plaintext highlighter-rouge">LoginComponent</code> and <code class="language-plaintext highlighter-rouge">LoginFormComponent</code> components were moved to <code class="language-plaintext highlighter-rouge">@spartacus/user/account/components</code>. The logic for these components was also changed. See below for more information.</li>
  <li>The <code class="language-plaintext highlighter-rouge">LoginRegisterComponent</code> component was moved to <code class="language-plaintext highlighter-rouge">@spartacus/user/account/components</code>.</li>
</ul>

<h4 id="closeaccountmodalcomponent">CloseAccountModalComponent</h4>

<ul>
  <li>All services used in the constructor have been changed to <code class="language-plaintext highlighter-rouge">protected</code>.</li>
  <li>The component no longer uses the <code class="language-plaintext highlighter-rouge">UserService</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">UserProfileFacade</code> was introduced.</li>
  <li>The component no longer uses the <code class="language-plaintext highlighter-rouge">Subscription</code> property.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ngOnDestroy</code> method was removed.</li>
</ul>

<h4 id="forgotpasswordcomponent">ForgotPasswordComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">forgotPasswordForm</code> property was renamed to <code class="language-plaintext highlighter-rouge">form</code>.</li>
  <li>A new observable <code class="language-plaintext highlighter-rouge">isUpdating$</code> property was added.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ngOnInit</code> and <code class="language-plaintext highlighter-rouge">requestForgotPasswordEmail</code> methods were removed. A new <code class="language-plaintext highlighter-rouge">onSubmit</code> method was added.</li>
  <li>The <code class="language-plaintext highlighter-rouge">FormBuilder</code>, <code class="language-plaintext highlighter-rouge">UserService</code>, <code class="language-plaintext highlighter-rouge">RoutingService</code>, and <code class="language-plaintext highlighter-rouge">AuthConfigService</code> services are no longer used directly in the component file. A new <code class="language-plaintext highlighter-rouge">ForgotPasswordComponentService</code> service was added and is used in the constructor.</li>
  <li>The change detection strategy for this component was set to <code class="language-plaintext highlighter-rouge">OnPush</code>.</li>
  <li>There were slight changes in the component template. A spinner component was added which relies on the <code class="language-plaintext highlighter-rouge">isUpdating$</code> property. Also, the form is now using the <code class="language-plaintext highlighter-rouge">onSubmit</code> method for form submit events.</li>
</ul>

<h4 id="registercomponent">RegisterComponent</h4>

<ul>
  <li>The component no longer uses <code class="language-plaintext highlighter-rouge">UserService</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">UserRegisterFacade</code> was introduced.</li>
  <li>The <code class="language-plaintext highlighter-rouge">loading$</code> property was changed to <code class="language-plaintext highlighter-rouge">isLoading$</code> and the type was changed from <code class="language-plaintext highlighter-rouge">Observable&lt;boolean&gt;</code> to <code class="language-plaintext highlighter-rouge">BehaviorSubject&lt;boolean&gt;</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">registerUserProcessInit</code> method was removed.</li>
</ul>

<h4 id="resetpasswordcomponent-previously-resetpasswordformcomponent">ResetPasswordComponent (Previously ResetPasswordFormComponent)</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">subscription</code> property was removed.</li>
  <li>The type of the <code class="language-plaintext highlighter-rouge">token</code> property was changed from <code class="language-plaintext highlighter-rouge">string</code> to <code class="language-plaintext highlighter-rouge">Observable&lt;string&gt;</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">resetPasswordForm</code> property was renamed to <code class="language-plaintext highlighter-rouge">form</code>.</li>
  <li>A new observable <code class="language-plaintext highlighter-rouge">isUpdating$</code> property was added.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ngOnInit</code>, <code class="language-plaintext highlighter-rouge">resetPassword</code>, and <code class="language-plaintext highlighter-rouge">ngOnDestroy</code> methods were removed.</li>
  <li>A new <code class="language-plaintext highlighter-rouge">onSubmit</code> method was added.</li>
  <li>The <code class="language-plaintext highlighter-rouge">FormBuilder</code>, <code class="language-plaintext highlighter-rouge">UserService</code>, and <code class="language-plaintext highlighter-rouge">RoutingService</code> services are no longer used directly in the component file. A new <code class="language-plaintext highlighter-rouge">ResetPasswordComponentService</code> service was added and is used in the constructor.</li>
  <li>The change detection strategy for this component was set to <code class="language-plaintext highlighter-rouge">OnPush</code>.</li>
  <li>The component template was adapted to the new logic.</li>
  <li>A spinner component was added which relies on the <code class="language-plaintext highlighter-rouge">isUpdating$</code> property.</li>
</ul>

<h4 id="logincomponent">LoginComponent</h4>

<ul>
  <li>The component no longer uses <code class="language-plaintext highlighter-rouge">UserService</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">UserAccountFacade</code> was introduced.</li>
  <li>The <code class="language-plaintext highlighter-rouge">user</code> property type was changed from <code class="language-plaintext highlighter-rouge">Observable&lt;User&gt;</code> to <code class="language-plaintext highlighter-rouge">Observable&lt;User | undefined&gt;</code>.</li>
</ul>

<h4 id="loginformcomponent">LoginFormComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">AuthService</code>, <code class="language-plaintext highlighter-rouge">GlobalMessageService</code>, <code class="language-plaintext highlighter-rouge">FormBuilder</code>, and <code class="language-plaintext highlighter-rouge">WindowRef</code> services are no longer used directly in the component file. A new <code class="language-plaintext highlighter-rouge">LoginFormComponentService</code> service was added and is used in the constructor.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ngOnInit</code>, <code class="language-plaintext highlighter-rouge">submitForm</code>, and <code class="language-plaintext highlighter-rouge">loginUser</code> methods were removed from the component file.</li>
  <li>New <code class="language-plaintext highlighter-rouge">form</code> and <code class="language-plaintext highlighter-rouge">isUpdating$</code>properties were added.</li>
  <li>New <code class="language-plaintext highlighter-rouge">onSubmit</code> method was added.</li>
  <li>The change detection strategy for this component was set to <code class="language-plaintext highlighter-rouge">OnPush</code>.</li>
  <li>A spinner component was added to the template which relies on the <code class="language-plaintext highlighter-rouge">isUpdating$</code> property.</li>
</ul>

<h4 id="updateemailcomponent">UpdateEmailComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">subscription</code>, <code class="language-plaintext highlighter-rouge">newUid</code>, and <code class="language-plaintext highlighter-rouge">isLoading$</code> properties were removed.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ngOnInit</code>, <code class="language-plaintext highlighter-rouge">onCancel</code>, <code class="language-plaintext highlighter-rouge">onSuccess</code>, and <code class="language-plaintext highlighter-rouge">ngOnDestroy</code> methods were removed from the component file.</li>
  <li>The <code class="language-plaintext highlighter-rouge">GlobalMessageService</code>, <code class="language-plaintext highlighter-rouge">UserService</code>, <code class="language-plaintext highlighter-rouge">RoutingService</code>, and <code class="language-plaintext highlighter-rouge">AuthService</code> services are no longer used directly in the component file. A new <code class="language-plaintext highlighter-rouge">UpdateEmailComponentService</code> service was added and is used in the constructor.</li>
  <li>The logic for the <code class="language-plaintext highlighter-rouge">onSubmit</code> method was changed. Now this method has no parameters.</li>
  <li>New <code class="language-plaintext highlighter-rouge">form</code> and <code class="language-plaintext highlighter-rouge">isUpdating$</code> properties were added.</li>
  <li>There were important change in the component template. Because the <code class="language-plaintext highlighter-rouge">UpdateEmailFormComponent</code> was removed, the <code class="language-plaintext highlighter-rouge">UpdateEmailComponent</code> now contains the template for the update email form itself.</li>
  <li>The change detection strategy for this component was set to <code class="language-plaintext highlighter-rouge">OnPush</code>.</li>
  <li>A spinner component was added to the template which relies on the <code class="language-plaintext highlighter-rouge">isUpdating$</code> property.</li>
</ul>

<h4 id="updateemailcomponentservice">UpdateEmailComponentService</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">UpdateEmailComponentService</code> now also requires the <code class="language-plaintext highlighter-rouge">AuthRedirectService</code>.</li>
</ul>

<h4 id="updatepasswordcomponent">UpdatePasswordComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">subscription</code> and <code class="language-plaintext highlighter-rouge">loading$</code> properties were removed.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ngOnInit</code>, <code class="language-plaintext highlighter-rouge">onCancel</code>, <code class="language-plaintext highlighter-rouge">onSuccess</code>, and <code class="language-plaintext highlighter-rouge">ngOnDestroy</code> methods were removed from the component file.</li>
  <li>The <code class="language-plaintext highlighter-rouge">RoutingService</code>, <code class="language-plaintext highlighter-rouge">UserService</code>, and <code class="language-plaintext highlighter-rouge">GlobalMessageService</code> services are no longer used directly in the component file. A new <code class="language-plaintext highlighter-rouge">UpdatePasswordComponentService</code> service was added and is used in the constructor.</li>
  <li>The logic for the <code class="language-plaintext highlighter-rouge">onSubmit</code> method was changed. Now this method has no parameters.</li>
  <li>New <code class="language-plaintext highlighter-rouge">form</code> and <code class="language-plaintext highlighter-rouge">isUpdating$</code> properties were added.</li>
  <li>There were important change in the component template. Because the <code class="language-plaintext highlighter-rouge">UpdatePasswordFormComponent</code> was removed, the <code class="language-plaintext highlighter-rouge">UpdatePasswordComponent</code> now contains the template for the update password form itself.</li>
  <li>The change detection strategy for this component was set to <code class="language-plaintext highlighter-rouge">OnPush</code>.</li>
  <li>A spinner component was added to the template which relies on the <code class="language-plaintext highlighter-rouge">isUpdating$</code> property.</li>
</ul>

<h4 id="updateprofilecomponent">UpdateProfileComponent</h4>

<ul>
  <li>THe <code class="language-plaintext highlighter-rouge">user$</code> and <code class="language-plaintext highlighter-rouge">loading$</code> properties were removed.</li>
  <li>The <code class="language-plaintext highlighter-rouge">ngOnInit</code>, <code class="language-plaintext highlighter-rouge">onCancel</code>, <code class="language-plaintext highlighter-rouge">onSuccess</code>, and <code class="language-plaintext highlighter-rouge">ngOnDestroy</code> methods were removed from the component file.</li>
  <li>The <code class="language-plaintext highlighter-rouge">RoutingService</code>, <code class="language-plaintext highlighter-rouge">UserService</code>, and <code class="language-plaintext highlighter-rouge">GlobalMessageService</code> services are no longer used directly in the component file. A new <code class="language-plaintext highlighter-rouge">UpdateProfileComponentService</code> service was added and is used in the constructor.</li>
  <li>The logic for the <code class="language-plaintext highlighter-rouge">onSubmit</code> method was changed. Now this method has no parameters.</li>
  <li>New <code class="language-plaintext highlighter-rouge">form</code> and <code class="language-plaintext highlighter-rouge">isUpdating$</code> properties were added.</li>
  <li>There were important change in the component template. Because the <code class="language-plaintext highlighter-rouge">UpdateProfileFormComponent</code> was removed, the <code class="language-plaintext highlighter-rouge">UpdateProfileComponent</code> now contains the template for the update profile form itself.</li>
  <li>The change detection strategy for this component was set to <code class="language-plaintext highlighter-rouge">OnPush</code>.</li>
  <li>A spinner component was added to the template which relies on the <code class="language-plaintext highlighter-rouge">isUpdating$</code> property.</li>
</ul>

<h3 id="mycouponscomponent">MyCouponsComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">div</code> that wrapped the <code class="language-plaintext highlighter-rouge">cx-sorting</code> component has been changed to <code class="language-plaintext highlighter-rouge">label</code> with a <code class="language-plaintext highlighter-rouge">span</code> added before.</li>
</ul>

<h4 id="occuseradapter">OccUserAdapter</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">OccUserAdapter</code> was removed. Use the <code class="language-plaintext highlighter-rouge">OccUserAccountAdapter</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/occ</code> and the <code class="language-plaintext highlighter-rouge">OccUserProfileAdapter</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/occ</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">remove</code> method was removed. Use the <code class="language-plaintext highlighter-rouge">close</code> method instead.</li>
</ul>

<h4 id="useradapter">UserAdapter</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">UserAdapter</code> was removed. Use the <code class="language-plaintext highlighter-rouge">UserAccountAdapter</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/core</code> and the <code class="language-plaintext highlighter-rouge">UserProfileAdapter</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/core</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">remove</code> method was removed. Use the <code class="language-plaintext highlighter-rouge">close</code> method instead.</li>
</ul>

<h4 id="userconnector">UserConnector</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">UserConnector</code> was removed. Use the <code class="language-plaintext highlighter-rouge">UserAccountConnector</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/core</code> and the <code class="language-plaintext highlighter-rouge">UserProfileConnector</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/core</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">remove</code> method now returns the <code class="language-plaintext highlighter-rouge">close</code> method from the adapter (name change).</li>
</ul>

<h4 id="occendpoints-1">OccEndpoints</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">user</code>endpoint was removed from the declaration in <code class="language-plaintext highlighter-rouge">@spartacus/core</code>. It is now provided through module augmentation from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/occ</code>. The default value is also provided from this new entry point.</li>
  <li>The <code class="language-plaintext highlighter-rouge">titles</code>, <code class="language-plaintext highlighter-rouge">userRegister</code>, <code class="language-plaintext highlighter-rouge">userForgotPassword</code>, <code class="language-plaintext highlighter-rouge">userResetPassword</code>, <code class="language-plaintext highlighter-rouge">userUpdateLoginId</code>, <code class="language-plaintext highlighter-rouge">userUpdatePassword</code>, <code class="language-plaintext highlighter-rouge">userUpdateProfile</code>, and <code class="language-plaintext highlighter-rouge">userCloseAccount</code> endpoints were removed from the declaration in <code class="language-plaintext highlighter-rouge">@spartacus/core</code>. These endpoints are now provided through module augmentation from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile</code>. Default values are also provided from this new entry point.</li>
</ul>

<h4 id="userservice">UserService</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">get</code> method was changed, and now fully relies on <code class="language-plaintext highlighter-rouge">UserAccountFacade.get()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">load</code> method was removed. Use <code class="language-plaintext highlighter-rouge">UserAccountFacade.get()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register</code> method was removed. Use <code class="language-plaintext highlighter-rouge">UserRegisterFacade.register()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">registerGuest</code> method was removed. Use <code class="language-plaintext highlighter-rouge">UserRegisterFacade.registerGuest()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getRegisterUserResultLoading</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserRegisterFacade.register()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> to get the loading state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getRegisterUserResultSuccess</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserRegisterFacade.register()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> to get the success state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getRegisterUserResultError</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserRegisterFacade.register()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> to get the error state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">resetRegisterUserProcessState</code> method was removed and is no longer needed if <code class="language-plaintext highlighter-rouge">UserRegisterFacade.register()</code>from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> was used.</li>
  <li>The <code class="language-plaintext highlighter-rouge">remove</code> method was removed. Use <code class="language-plaintext highlighter-rouge">UserProfileFacade.close()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">loadTitles</code> method was removed. Use <code class="language-plaintext highlighter-rouge">UserProfileFacade.getTitles()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getRemoveUserResultLoading</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserProfileFacade.close()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> to get the loading state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getRemoveUserResultSuccess</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserProfileFacade.close()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> to get the success state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getRemoveUserResultError</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserProfileFacade.close()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> to get the error state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">resetRemoveUserProcessState</code> method was removed and is no longer needed if <code class="language-plaintext highlighter-rouge">UserProfileFacade.close()</code>from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> was used.</li>
  <li>The <code class="language-plaintext highlighter-rouge">isPasswordReset</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserPasswordFacade.reset()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> to get the success state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">updatePersonalDetails</code> method was removed. Use <code class="language-plaintext highlighter-rouge">UserProfileFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getUpdatePersonalDetailsResultLoading</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserProfileFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code>to get the loading state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getUpdatePersonalDetailsResultError</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserProfileFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code>to get the error state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getUpdatePersonalDetailsResultSuccess</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserProfileFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code>to get the success state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">resetUpdatePersonalDetailsProcessingState</code> method was removed and is no longer needed if <code class="language-plaintext highlighter-rouge">UserProfileFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> was used.</li>
  <li>The <code class="language-plaintext highlighter-rouge">resetPassword</code> method was removed. Use <code class="language-plaintext highlighter-rouge">UserPasswordFacade.reset()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">requestForgotPasswordEmail</code> method was removed. Use <code class="language-plaintext highlighter-rouge">UserPasswordFacade.requestForgotPasswordEmail()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">updateEmail</code> method was removed. Use <code class="language-plaintext highlighter-rouge">UserEmailFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getUpdateEmailResultLoading</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserEmailFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code>to get the loading state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getUpdateEmailResultSuccess</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserEmailFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code>to get the success state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getUpdateEmailResultError</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserEmailFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code>to get the error state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">resetUpdateEmailResultState</code> method was removed and is no longer needed if <code class="language-plaintext highlighter-rouge">UserEmailFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> was used.</li>
  <li>The <code class="language-plaintext highlighter-rouge">updatePassword</code> method was removed. Use <code class="language-plaintext highlighter-rouge">UserPasswordFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getUpdatePasswordResultLoading</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserPasswordFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code>to get the loading state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getUpdatePasswordResultError</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserPasswordFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code>to get the error state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getUpdatePasswordResultSuccess</code> method was removed. Instead, subscribe to <code class="language-plaintext highlighter-rouge">UserPasswordFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code>to get the success state.</li>
  <li>The <code class="language-plaintext highlighter-rouge">resetUpdatePasswordProcessState</code> method was removed and is no longer needed if <code class="language-plaintext highlighter-rouge">UserPasswordFacade.update()</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user</code> was used.</li>
</ul>

<h4 id="usermodule">UserModule</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">UserModule</code> was removed. The main modules currently are <code class="language-plaintext highlighter-rouge">UserAccountModule</code> in <code class="language-plaintext highlighter-rouge">@spartacus/user/account</code> and <code class="language-plaintext highlighter-rouge">UserProfileModule</code> in <code class="language-plaintext highlighter-rouge">@spartacus/user/profile</code>.</li>
</ul>

<h4 id="occ-endpoint-models">Occ Endpoint Models</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">UserSignUp</code> model was moved to the <code class="language-plaintext highlighter-rouge">@spartacus/user/profile</code> library.</li>
</ul>

<h4 id="ngrx-state-of-the-user-feature">NgRx State of the User Feature</h4>

<p>The <code class="language-plaintext highlighter-rouge">'account'</code>, <code class="language-plaintext highlighter-rouge">'titles'</code>, and <code class="language-plaintext highlighter-rouge">'resetPassword'</code> branches of the NgRx state for the User feature were removed. Please use the new approach with Queries and Commands that is defined in the new facades in <code class="language-plaintext highlighter-rouge">@spartacus/user</code> the library, as follows:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">UserAccountFacade</code> from <code class="language-plaintext highlighter-rouge">'@spartacus/user/account/root'</code></li>
  <li><code class="language-plaintext highlighter-rouge">UserEmailFacade</code> from <code class="language-plaintext highlighter-rouge">'@spartacus/user/profile/root'</code></li>
  <li><code class="language-plaintext highlighter-rouge">UserPasswordFacade</code> from <code class="language-plaintext highlighter-rouge">'@spartacus/user/profile/root'</code></li>
  <li><code class="language-plaintext highlighter-rouge">UserProfileFacade</code> from <code class="language-plaintext highlighter-rouge">'@spartacus/user/profile/root'</code></li>
  <li><code class="language-plaintext highlighter-rouge">UserRegisterFacade</code> from <code class="language-plaintext highlighter-rouge">'@spartacus/user/profile/root'</code></li>
</ul>

<p>The following items related to the NgRx state were removed from <code class="language-plaintext highlighter-rouge">@spartacus/core</code>:</p>

<ul>
  <li>Actions:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ForgotPasswordEmailRequest</code></li>
      <li><code class="language-plaintext highlighter-rouge">ForgotPasswordEmailRequestFail</code></li>
      <li><code class="language-plaintext highlighter-rouge">ForgotPasswordEmailRequestSuccess</code></li>
      <li><code class="language-plaintext highlighter-rouge">ResetPassword</code></li>
      <li><code class="language-plaintext highlighter-rouge">ResetPasswordFail</code></li>
      <li><code class="language-plaintext highlighter-rouge">ResetPasswordSuccess</code></li>
      <li><code class="language-plaintext highlighter-rouge">LoadTitles</code></li>
      <li><code class="language-plaintext highlighter-rouge">LoadTitlesFail</code></li>
      <li><code class="language-plaintext highlighter-rouge">LoadTitlesSuccess</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdateEmailAction</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdateEmailSuccessAction</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdateEmailErrorAction</code></li>
      <li><code class="language-plaintext highlighter-rouge">ResetUpdateEmailAction</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdatePassword</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdatePasswordFail</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdatePasswordSuccess</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdatePasswordReset</code></li>
      <li><code class="language-plaintext highlighter-rouge">LoadUserDetails</code></li>
      <li><code class="language-plaintext highlighter-rouge">LoadUserDetailsFail</code></li>
      <li><code class="language-plaintext highlighter-rouge">LoadUserDetailsSuccess</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdateUserDetails</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdateUserDetailsFail</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdateUserDetailsSuccess</code></li>
      <li><code class="language-plaintext highlighter-rouge">ResetUpdateUserDetails</code></li>
      <li><code class="language-plaintext highlighter-rouge">RegisterUser</code></li>
      <li><code class="language-plaintext highlighter-rouge">RegisterUserFail</code></li>
      <li><code class="language-plaintext highlighter-rouge">RegisterUserSuccess</code></li>
      <li><code class="language-plaintext highlighter-rouge">ResetRegisterUserProcess</code></li>
      <li><code class="language-plaintext highlighter-rouge">RegisterGuest</code></li>
      <li><code class="language-plaintext highlighter-rouge">RegisterGuestFail</code></li>
      <li><code class="language-plaintext highlighter-rouge">RegisterGuestSuccess</code></li>
      <li><code class="language-plaintext highlighter-rouge">RemoveUser</code></li>
      <li><code class="language-plaintext highlighter-rouge">RemoveUserFail</code></li>
      <li><code class="language-plaintext highlighter-rouge">RemoveUserSuccess</code></li>
      <li><code class="language-plaintext highlighter-rouge">RemoveUserReset</code></li>
    </ul>
  </li>
  <li>Effects:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">ForgotPasswordEffects</code></li>
      <li><code class="language-plaintext highlighter-rouge">ResetPasswordEffects</code></li>
      <li><code class="language-plaintext highlighter-rouge">TitlesEffects</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdateEmailEffects</code></li>
      <li><code class="language-plaintext highlighter-rouge">UpdatePasswordEffects</code></li>
      <li><code class="language-plaintext highlighter-rouge">UserDetailsEffects</code></li>
      <li><code class="language-plaintext highlighter-rouge">UserRegisterEffects</code></li>
    </ul>
  </li>
  <li>Selectors:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">getResetPassword</code></li>
      <li><code class="language-plaintext highlighter-rouge">getDetailsState</code></li>
      <li><code class="language-plaintext highlighter-rouge">getDetails</code></li>
      <li><code class="language-plaintext highlighter-rouge">getTitlesState</code></li>
      <li><code class="language-plaintext highlighter-rouge">getTitlesEntites</code></li>
      <li><code class="language-plaintext highlighter-rouge">getAllTitles</code></li>
      <li><code class="language-plaintext highlighter-rouge">titleSelectorFactory</code></li>
    </ul>
  </li>
  <li>Reducers for the <code class="language-plaintext highlighter-rouge">account</code>, <code class="language-plaintext highlighter-rouge">titles</code>, and <code class="language-plaintext highlighter-rouge">resetPassword</code> states were removed.</li>
</ul>

<h4 id="connectors">Connectors</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">TITLE_NORMALIZER</code> was moved to <code class="language-plaintext highlighter-rouge">@spartacus/user/profile</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">USER_SIGN_UP_SERIALIZER</code> was moved to <code class="language-plaintext highlighter-rouge">@spartacus/user/profile</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">USER_SERIALIZER</code> was removed. Use <code class="language-plaintext highlighter-rouge">USER_ACCOUNT_SERIALIZER</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account</code> and <code class="language-plaintext highlighter-rouge">USER_PROFILE_SERIALIZER</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">USER_NORMALIZER</code> was removed. Use <code class="language-plaintext highlighter-rouge">USER_ACCOUNT_NORMALIZER</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account</code> and <code class="language-plaintext highlighter-rouge">USER_PROFILE_NORMALIZER</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile</code> instead.</li>
</ul>

<h4 id="storefinderlistitemcomponent-1">StoreFinderListItemComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">div[class.cx-store-name]</code> element was changed to <code class="language-plaintext highlighter-rouge">h2[class.cx-store-name]</code>.</li>
</ul>

<h4 id="storefinderstorescountcomponent">StoreFinderStoresCountComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">div[class.cx-title]</code> element was changed to <code class="language-plaintext highlighter-rouge">h2[class.cx-title]</code>.</li>
</ul>

<h4 id="storefinderlistitemcomponent-2">StoreFinderListItemComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">div[class.cx-total]</code> element was changed to <code class="language-plaintext highlighter-rouge">h4[class.cx-total]</code>.</li>
</ul>

<h4 id="cartitemcomponent-2">CartItemComponent</h4>

<ul>
  <li>The `` element was changed to <code class="language-plaintext highlighter-rouge">&lt;h2&gt;&lt;/h2&gt;</code>.</li>
</ul>

<h4 id="ordersummarycomponent">OrderSummaryComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">&lt;h4&gt;orderCost.orderSummary&lt;/h4&gt;</code> element was changed to <code class="language-plaintext highlighter-rouge">&lt;h3&gt;orderCost.orderSummary&lt;/h3&gt;</code>.</li>
</ul>

<h4 id="deliverymodecomponent-1">DeliveryModeComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">h3[class.cx-checkout-title]</code> element was changed to <code class="language-plaintext highlighter-rouge">h2[class.cx-checkout-title]</code>.</li>
</ul>

<h4 id="paymentmethodcomponent-1">PaymentMethodComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">h3[class.cx-checkout-title]</code> element was changed to <code class="language-plaintext highlighter-rouge">h2[class.cx-checkout-title]</code>.</li>
</ul>

<h4 id="reviewsubmitcomponent-1">ReviewSubmitComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">h3[class.cx-review-title]</code> element was changed to <code class="language-plaintext highlighter-rouge">h2[class.cx-review-title]</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">div[class.cx-review-cart-total]</code> element was changed to <code class="language-plaintext highlighter-rouge">h4[class.cx-review-cart-total]</code>.</li>
</ul>

<h4 id="shippingaddresscomponent-1">ShippingAddressComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">h3[class.cx-checkout-title]</code> element was changed to <code class="language-plaintext highlighter-rouge">h2[class.cx-checkout-title]</code>.</li>
</ul>

<h4 id="cmspagetitlecomponent">CmsPageTitleComponent</h4>

<ul>
  <li>A new interface has been created.</li>
</ul>

<h4 id="cmsbreadcrumbscomponent">CmsBreadcrumbsComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">CmsBreadcrumbsComponent</code> now extends the <code class="language-plaintext highlighter-rouge">CmsPageTitleComponent</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">container</code> property has been moved to the <code class="language-plaintext highlighter-rouge">CmsPageTitleComponent</code>.</li>
</ul>

<h4 id="breadcrumbcomponent">BreadcrumbComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">BreadcrumbComponent</code> now extends the <code class="language-plaintext highlighter-rouge">PageTitleComponent</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">setTitle()</code> function has been moved to the <code class="language-plaintext highlighter-rouge">PageTitleComponent</code>.</li>
</ul>

<h4 id="pagetitlecomponent">PageTitleComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">PageTitleComponent</code> is a new component that sets the page title if there is not one set by default.</li>
</ul>

<h4 id="navigationuicomponent-1">NavigationUiComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">&lt;h5&gt;&lt;cx-icon ...&gt;&lt;/h5&gt;</code> element was changed to <code class="language-plaintext highlighter-rouge">&lt;span&gt;&lt;cx-icon ...&gt;&lt;/span&gt;</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">h5[attr.aria-label]="node.title"</code> element was changed to <code class="language-plaintext highlighter-rouge">span[attr.aria-label]="node.title"</code>.</li>
</ul>

<h4 id="productcarouselcomponent">ProductCarouselComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">&lt;h4&gt;&lt;/h4&gt;</code> element was changed to <code class="language-plaintext highlighter-rouge">&lt;h3&gt;&lt;/h3&gt;</code>.</li>
</ul>

<h4 id="wishlistitemcomponent">WishListItemComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">&lt;a&gt;&lt;/a&gt;</code> element was changed to <code class="language-plaintext highlighter-rouge">&lt;a&gt;&lt;h2&gt;&lt;/h2&gt;&lt;/a&gt;</code>.</li>
</ul>

<h4 id="cardcomponent">CardComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">h4[class.cx-card-title]</code> element was changed to <code class="language-plaintext highlighter-rouge">h3[class.cx-card-title]</code>.</li>
</ul>

<h4 id="carouselcomponent">CarouselComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">&lt;h3 *ngIf="title"&gt;&lt;/h3&gt;</code> element was changed to <code class="language-plaintext highlighter-rouge">&lt;h2 *ngIf="title"&gt;&lt;/h2&gt;</code>.</li>
</ul>

<h4 id="addedtocartdialogcomponent-1">AddedToCartDialogComponent</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">[attr.aria-label]="'common.close' | cxTranslate"</code> element was changed to <code class="language-plaintext highlighter-rouge">attr.aria-label="addToCart.closeModal"</code>.</li>
</ul>

<h4 id="translations-i18n-changes">Translations (i18n) changes</h4>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">miniLogin.userGreeting</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userAccountTranslations</code>, <code class="language-plaintext highlighter-rouge">userAccountTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">miniLogin.signInRegister</code> key was moved to the separate <code class="language-plaintext highlighter-rouge">@spartacus/user</code> library. Is is now a part of <code class="language-plaintext highlighter-rouge">userAccountTranslations</code>, <code class="language-plaintext highlighter-rouge">userAccountTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">loginForm.signIn</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userAccountTranslations</code>, <code class="language-plaintext highlighter-rouge">userAccountTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">loginForm.register</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userAccountTranslations</code>, <code class="language-plaintext highlighter-rouge">userAccountTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">loginForm.dontHaveAccount</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userAccountTranslations</code>, <code class="language-plaintext highlighter-rouge">userAccountTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">loginForm.guestCheckout</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userAccountTranslations</code>, <code class="language-plaintext highlighter-rouge">userAccountTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">loginForm.emailAddress.label</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userAccountTranslations</code>, <code class="language-plaintext highlighter-rouge">userAccountTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">loginForm.emailAddress.placeholder</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userAccountTranslations</code>, <code class="language-plaintext highlighter-rouge">userAccountTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">loginForm.password.label</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userAccountTranslations</code>, <code class="language-plaintext highlighter-rouge">userAccountTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">loginForm.password.placeholder</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userAccountTranslations</code>, <code class="language-plaintext highlighter-rouge">userAccountTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">loginForm.wrongEmailFormat</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userAccountTranslations</code>, <code class="language-plaintext highlighter-rouge">userAccountTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">loginForm.forgotPassword</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userAccountTranslations</code>, <code class="language-plaintext highlighter-rouge">userAccountTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/account/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">updateEmailForm.newEmailAddress.label</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">updateEmailForm.newEmailAddress.placeholder</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">updateEmailForm.confirmNewEmailAddress.label</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">updateEmailForm.confirmNewEmailAddress.placeholder</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">updateEmailForm.enterValidEmail</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">updateEmailForm.bothEmailMustMatch</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">updateEmailForm.password.label</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">updateEmailForm.password.placeholder</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">updateEmailForm.pleaseInputPassword</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">updateEmailForm.emailUpdateSuccess</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">forgottenPassword.resetPassword</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">forgottenPassword.enterEmailAddressAssociatedWithYourAccount</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">forgottenPassword.emailAddress.label</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">forgottenPassword.emailAddress.placeholder</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">forgottenPassword.enterValidEmail</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">forgottenPassword.passwordResetEmailSent</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">forgottenPassword.passwordResetSuccess</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.confirmPassword.action</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.confirmPassword.label</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.confirmPassword.placeholder</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.managementInMyAccount</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.termsAndConditions</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.signIn</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.register</code> key was moved to a separate library. Is is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.confirmNewPassword</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.resetPassword</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.createAccount</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.title</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.firstName.label</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.firstName.placeholder</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.lastName.label</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.lastName.placeholder</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.emailAddress.label</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.emailAddress.placeholder</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.password.label</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.password.placeholder</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.newPassword</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.emailMarketing</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.confirmThatRead</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.selectTitle</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.passwordMinRequirements</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.bothPasswordMustMatch</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.titleRequired</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">register.postRegisterMessage</code> key was moved to a separate library. It is now a part of <code class="language-plaintext highlighter-rouge">userProfileTranslations</code>, <code class="language-plaintext highlighter-rouge">userProfileTranslationChunksConfig</code> from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/assets</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">myCoupons.sortByMostRecent</code> key has been removed. Use <code class="language-plaintext highlighter-rouge">myCoupons.sortBy</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">myInterests.sortByMostRecent</code> key has been removed. Use <code class="language-plaintext highlighter-rouge">myInterests.sortBy</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">orderHistory.sortByMostRecent</code> key has been removed. Use <code class="language-plaintext highlighter-rouge">orderHistory.sortBy</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">returnRequestList.sortByMostRecent</code> key has been removed. Use <code class="language-plaintext highlighter-rouge">returnRequestList.sortBy</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">productList.sortByMostRecent</code> key has been removed. Use <code class="language-plaintext highlighter-rouge">productList.sortBy</code> instead.</li>
</ul>

<h3 id="default-routing-configuration-for-the-my-company-feature">Default Routing Configuration for the My Company Feature</h3>

<p>The default routing configuration for the <strong>My Company</strong> pages was moved from various modules in <code class="language-plaintext highlighter-rouge">@spartacus/organization/administration/components</code> to <code class="language-plaintext highlighter-rouge">OrganizationAdministrationRootModule</code> in <code class="language-plaintext highlighter-rouge">@spartacus/organization/administration/root</code>. As a result, the default configuration is now provided eagerly, so it is available early on app start (but not only after the feature is lazy loaded). Also, the following objects were renamed and moved to <code class="language-plaintext highlighter-rouge">@spartacus/organization/administration/root</code>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">budgetRoutingConfig</code> was renamed to <code class="language-plaintext highlighter-rouge">defaultBudgetRoutingConfig</code></li>
  <li><code class="language-plaintext highlighter-rouge">costCenterRoutingConfig</code> was renamed to <code class="language-plaintext highlighter-rouge">defaultCostCenterRoutingConfig</code></li>
  <li><code class="language-plaintext highlighter-rouge">permissionRoutingConfig</code> was renamed to <code class="language-plaintext highlighter-rouge">defaultPermissionRoutingConfig</code></li>
  <li><code class="language-plaintext highlighter-rouge">unitsRoutingConfig</code> was renamed to <code class="language-plaintext highlighter-rouge">defaultUnitsRoutingConfig</code></li>
  <li><code class="language-plaintext highlighter-rouge">userGroupRoutingConfig</code> was renamed to <code class="language-plaintext highlighter-rouge">defaultUserGroupRoutingConfig</code></li>
  <li><code class="language-plaintext highlighter-rouge">userRoutingConfig</code> was renamed to <code class="language-plaintext highlighter-rouge">defaultUserRoutingConfig</code></li>
</ul>

<h4 id="checkout-related-translations-i18n-changes">Checkout-Related Translations (i18n) Changes</h4>

<p>The checkout-related translation keys were moved to <code class="language-plaintext highlighter-rouge">@spartacus/checkout/assets</code>. If you use any checkout-related labels outside of checkout and the checkout library is not used, you will need to use alternate translation labels.</p>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutAddress.verifyYourAddress</code> key is moved to <code class="language-plaintext highlighter-rouge">addressSuggestion.verifyYourAddress</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutAddress.ensureAccuracySuggestChange</code> key is moved to <code class="language-plaintext highlighter-rouge">addressSuggestion.ensureAccuracySuggestChange</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutAddress.chooseAddressToUse</code> key is moved to <code class="language-plaintext highlighter-rouge">addressSuggestion.chooseAddressToUse</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutAddress.suggestedAddress</code> key is moved to <code class="language-plaintext highlighter-rouge">addressSuggestion.suggestedAddress</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutAddress.enteredAddress</code> key is moved to <code class="language-plaintext highlighter-rouge">addressSuggestion.enteredAddress</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutAddress.editAddress</code> key is moved to <code class="language-plaintext highlighter-rouge">addressSuggestion.editAddress</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutAddress.saveAddress</code> key is moved to <code class="language-plaintext highlighter-rouge">addressSuggestion.saveAddress</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.replenishmentNumber</code> key is removed. You can use `` instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.placedOn</code> key is removed. You can use <code class="language-plaintext highlighter-rouge">orderDetails.placedOn</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.status</code> key is removed. You can use <code class="language-plaintext highlighter-rouge">orderDetails.status</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.active</code> key is removed. You can use <code class="language-plaintext highlighter-rouge">orderDetails.active</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.cancelled</code> key is removed. You can use <code class="language-plaintext highlighter-rouge">orderDetails.cancelled</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.frequency</code> key is removed. You can use <code class="language-plaintext highlighter-rouge">orderDetails.frequency</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.nextOrderDate</code> key is removed. You can use <code class="language-plaintext highlighter-rouge">orderDetails.nextOrderDate</code> instead.</li>
  <li>The <code class="language-plaintext highlighter-rouge">checkoutOrderConfirmation.orderNumber</code> key is removed. You can use <code class="language-plaintext highlighter-rouge">orderDetails.orderNumber</code> instead.</li>
</ul>

<h4 id="changes-in-styles">Changes in Styles</h4>

<ul>
  <li>
    <p>The styles for the following selectors were moved from <code class="language-plaintext highlighter-rouge">@spartacus/styles</code> to <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/styles</code>:</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">cx-close-account-modal</code></li>
      <li><code class="language-plaintext highlighter-rouge">cx-close-account</code></li>
      <li><code class="language-plaintext highlighter-rouge">cx-forgot-password</code></li>
      <li><code class="language-plaintext highlighter-rouge">cx-register</code></li>
      <li><code class="language-plaintext highlighter-rouge">cx-update-password-form</code></li>
      <li><code class="language-plaintext highlighter-rouge">cx-user-form</code></li>
    </ul>
  </li>
  <li>
    <p>The styles for the following selectors were moved from <code class="language-plaintext highlighter-rouge">@spartacus/styles</code> to <code class="language-plaintext highlighter-rouge">@spartacus/user/account/styles</code>:</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">cx-login</code></li>
      <li><code class="language-plaintext highlighter-rouge">cx-login-form</code></li>
    </ul>
  </li>
</ul>

<h3 id="logoutguard">LogoutGuard</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">AuthRedirectService</code> is a new, required constructor dependency.</li>
</ul>

<h3 id="routingservice">RoutingService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">RoutingService.go</code> signature was changed. Prior to 4.0, an object with query params could be passed in the second argument. Now, the second argument is an Angular <code class="language-plaintext highlighter-rouge">NavigationExtras</code> object (with a <code class="language-plaintext highlighter-rouge">'queryParams'</code> property).</li>
  <li>The <code class="language-plaintext highlighter-rouge">RoutingService.navigate</code> signature was changed. Prior to 4.0, an object with query params could be passed in the second argument. Now, the second argument is an Angular <code class="language-plaintext highlighter-rouge">NavigationExtras</code> object (with a <code class="language-plaintext highlighter-rouge">'queryParams'</code> property).</li>
</ul>

<h3 id="routingactions-rgrx">RoutingActions RgRx</h3>

<p>The following NgRx actions have been removed:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">RoutingActions.RouteGo</code> (and <code class="language-plaintext highlighter-rouge">RoutingActions.ROUTER_GO</code>). Use the <code class="language-plaintext highlighter-rouge">go()</code> method of the the <code class="language-plaintext highlighter-rouge">RoutingService</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">RoutingActions.RouteGoByUrlAction</code> (and <code class="language-plaintext highlighter-rouge">RoutingActions.ROUTER_GO_BY_URL</code>). Use the <code class="language-plaintext highlighter-rouge">goByUrl()</code> method of the the <code class="language-plaintext highlighter-rouge">RoutingService</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">RoutingActions.RouteBackAction</code> (and <code class="language-plaintext highlighter-rouge">RoutingActions.ROUTER_BACK</code>). Use the <code class="language-plaintext highlighter-rouge">back()</code> method of the the <code class="language-plaintext highlighter-rouge">RoutingService</code> instead.</li>
  <li><code class="language-plaintext highlighter-rouge">RoutingActions.RouteForwardAction</code> (and <code class="language-plaintext highlighter-rouge">RoutingActions.ROUTER_FORWARD</code>). Use the <code class="language-plaintext highlighter-rouge">forward()</code> method of the the <code class="language-plaintext highlighter-rouge">RoutingService</code> instead.</li>
</ul>

<h3 id="authredirectservice">AuthRedirectService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">#reportNotAuthGuard</code> method is not needed anymore. Every visited URL is now remembered automatically as a redirect URL on a <code class="language-plaintext highlighter-rouge">NavigationEnd</code> event.</li>
  <li>The <code class="language-plaintext highlighter-rouge">#reportAuthGuard</code> method is deprecated. Use the new <code class="language-plaintext highlighter-rouge">#saveCurrentNavigationUrl</code> method instead. It remembers the anticipated page when being invoked during the navigation.</li>
</ul>

<h3 id="occendpointsservice">OccEndpointsService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">getEndpoint</code> method was removed. Use <code class="language-plaintext highlighter-rouge">buildUrl</code> instead, with the <code class="language-plaintext highlighter-rouge">endpoint</code> string and the <code class="language-plaintext highlighter-rouge">propertiesToOmit</code> matching your desired URL.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getOccEndpoint</code> method was removed. Use <code class="language-plaintext highlighter-rouge">buildUrl</code> instead, with the <code class="language-plaintext highlighter-rouge">endpoint</code> string and the <code class="language-plaintext highlighter-rouge">propertiesToOmit</code> matching your desired URL.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getBaseEndpoint</code> method was removed. Use <code class="language-plaintext highlighter-rouge">buildUrl</code> method instead, with configurable endpoints or the <code class="language-plaintext highlighter-rouge">getBaseUrl</code> method.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getUrl</code> method was removed. Use the <code class="language-plaintext highlighter-rouge">buildUrl</code> method instead. The <code class="language-plaintext highlighter-rouge">buildUrl</code> method has the same first parameter as <code class="language-plaintext highlighter-rouge">getUrl</code>. The second, third and fourth parameters of <code class="language-plaintext highlighter-rouge">getUrl</code> are merged into the second argument object of <code class="language-plaintext highlighter-rouge">buildUrl</code> with the <code class="language-plaintext highlighter-rouge">urlParams</code>, <code class="language-plaintext highlighter-rouge">queryParams</code> and <code class="language-plaintext highlighter-rouge">scope</code> properties.</li>
  <li>The <code class="language-plaintext highlighter-rouge">getRawEndpoint</code> method was removed. Use <code class="language-plaintext highlighter-rouge">buildUrl</code> with configurable endpoints or the <code class="language-plaintext highlighter-rouge">getRawEndpointValue</code> method instead.</li>
</ul>

<h3 id="modal-service">Modal Service</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">FeatureConfigService</code> was removed from the constructor.</li>
  <li><code class="language-plaintext highlighter-rouge">ApplicationRef</code> is a new, required constructor dependency.</li>
</ul>

<h3 id="externaljsfileloader">ExternalJsFileLoader</h3>

<ul>
  <li>The service was removed from <code class="language-plaintext highlighter-rouge">@spartacus/core</code>. Use <code class="language-plaintext highlighter-rouge">ScriptLoader</code> instead.</li>
</ul>

<h3 id="cxapi">CxApi</h3>

<ul>
  <li>
    <p>The following public members of <code class="language-plaintext highlighter-rouge">CxApi</code> were removed:</p>

    <ul>
      <li><code class="language-plaintext highlighter-rouge">CheckoutService</code></li>
      <li><code class="language-plaintext highlighter-rouge">CheckoutDeliveryService</code></li>
      <li><code class="language-plaintext highlighter-rouge">CheckoutPaymentService</code></li>
    </ul>
  </li>
</ul>

<h3 id="tabparagraphcontainercomponent">TabParagraphContainerComponent</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">WindowRef</code> and <code class="language-plaintext highlighter-rouge">BreakpointService</code> are now required parameters in the constructor.</li>
  <li>All services used in constructor have been changed to <code class="language-plaintext highlighter-rouge">protected</code>.</li>
</ul>

<h3 id="b2clayoutconfig">b2cLayoutConfig</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">b2cLayoutConfig</code> was removed from <code class="language-plaintext highlighter-rouge">@spartacus/storefront</code>. Use the layout from the corresponding feature library instead.</li>
</ul>

<h3 id="unitaddressformservice">UnitAddressFormService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">UserService</code> param that was imported from <code class="language-plaintext highlighter-rouge">@spartacus/core</code> was removed from the constructor. Instead, a new <code class="language-plaintext highlighter-rouge">UserAddressService</code> param from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/root</code> was added.</li>
</ul>

<h3 id="guestregisterformcomponent">GuestRegisterFormComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">UserService</code> param that was imported from <code class="language-plaintext highlighter-rouge">@spartacus/core</code> was removed from the constructor. Instead, a new <code class="language-plaintext highlighter-rouge">UserRegisterFacade</code> param from <code class="language-plaintext highlighter-rouge">@spartacus/user/profile/root</code> was added.</li>
</ul>

<h3 id="useridservice">UserIdService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">invokeWithUserId</code> method was removed. Use <code class="language-plaintext highlighter-rouge">takeUserId</code> instead.</li>
</ul>

<h3 id="popoverdirective">PopoverDirective</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">PopoverDirective</code> class now implements <code class="language-plaintext highlighter-rouge">ngOnInit</code>.</li>
  <li>The <code class="language-plaintext highlighter-rouge">PositioningService</code> was removed from the constructor.</li>
  <li>The <code class="language-plaintext highlighter-rouge">openPopover</code> and <code class="language-plaintext highlighter-rouge">closePopover</code> event emitters are no longer optional.</li>
  <li>A new <code class="language-plaintext highlighter-rouge">eventSubject: Subject&lt;PopoverEvent&gt;</code> property was added.</li>
  <li>The <code class="language-plaintext highlighter-rouge">handleOpen</code> and <code class="language-plaintext highlighter-rouge">toggle</code> methods were removed.</li>
  <li>The following new methods were added:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">handleEscape</code></li>
      <li><code class="language-plaintext highlighter-rouge">handleClick</code></li>
      <li><code class="language-plaintext highlighter-rouge">handlePress</code></li>
      <li><code class="language-plaintext highlighter-rouge">handleTab</code></li>
    </ul>
  </li>
</ul>

<h3 id="popoverservice">PopoverService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">event</code> argument of the <code class="language-plaintext highlighter-rouge">getFocusConfig</code> method changed type from <code class="language-plaintext highlighter-rouge">Event</code> to <code class="language-plaintext highlighter-rouge">PopoverEvent</code>.</li>
</ul>

<h3 id="popovercomponent">PopoverComponent</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">insideClicked</code> property was removed.</li>
  <li><code class="language-plaintext highlighter-rouge">button.close</code> has been moved into a <code class="language-plaintext highlighter-rouge">div.cx-close-row</code></li>
</ul>

<h3 id="onnavigatefocusservice">OnNavigateFocusService</h3>

<ul>
  <li>The <code class="language-plaintext highlighter-rouge">document</code> injection param was removed from the constructor.</li>
  <li>The <code class="language-plaintext highlighter-rouge">WindowRef</code> param was added into the constructor.</li>
</ul>

<h3 id="facade-factories-are-now-inlined">Facade Factories Are Now Inlined</h3>

<ul>
  <li>Facade factories are now inlined into an <code class="language-plaintext highlighter-rouge">@Injectable</code> decorator. The following symbols are not needed anymore and were removed:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">userAccountFacadeFactory</code></li>
      <li><code class="language-plaintext highlighter-rouge">UserEmailFacadeFactory</code></li>
      <li><code class="language-plaintext highlighter-rouge">UserPasswordFacadeFactory</code></li>
      <li><code class="language-plaintext highlighter-rouge">UserProfileFacadeFactory</code></li>
      <li><code class="language-plaintext highlighter-rouge">UserRegisterFacadeFactory</code></li>
      <li><code class="language-plaintext highlighter-rouge">savedCartFacadeFactory</code></li>
      <li><code class="language-plaintext highlighter-rouge">cdcAuthFacadeFactory</code></li>
    </ul>
  </li>
</ul>


<!-- <h3 class="archive__subtitle">Recent posts</h3>




 -->

  </div>
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><div class="docsearch-container"><input type="search" id="docsearch" aria-placeholder="Enter your search term..." class="search-input" tabindex="-1" placeholder="Enter your search term..." /></div>
    <!-- <div id="results" class="results"></div> --></div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<table BORDER="0"><tr><td class="tdfooter"><a href="https://www.sap.com/copyright" target="_blank">Copyright</a></td>

<td class="tdfooter"><a href="https://sap.github.io/spartacus-docs/privacy-statement/">Privacy Statement</a></td>

<td class="tdfooter"><a href="https://www.sap.com/impressum" target="_blank">Legal Disclosure</a></td>

<td class="tdfooter"><a href="https://www.sap.com/trademark" target="_blank">Trademark</a></td>

<td class="tdfooter"><a href="https://www.sap.com/terms-of-use" target="_blank">Terms of Use</a></td></tr></table>
<!-- end custom footer snippets -->
        <!-- <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/spartacus-docs/beta-docs/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Spartacus Documentation. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div> -->

      </footer>
    </div>

    
  <script src="/spartacus-docs/beta-docs/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin="anonymous"></script>










    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script> 
    <script type="text/javascript"> docsearch({ 
    appId: 'BNZEXRISC6',
    apiKey: '54a795a072ff713045038ee4ad33c990', 
    indexName: 'sap_spartacus', 
    inputSelector: '#docsearch', 
    algoliaOptions: {
      'facetFilters': ["tags:beta-docs"]
      },
    debug: false // Set debug to true if you want to inspect the dropdown 
    }); 
    </script> 

    <script>
      anchors.options = {
      visible: 'hover',
      icon: "\uf0c1"
      };
    anchors.add();
    </script>

    </body>
</html>
