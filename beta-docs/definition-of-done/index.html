<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Definition of Done - Spartacus Documentation</title>
<meta name="description" content="SAP Spartacus JavaScript Storefront Documentation.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Spartacus Documentation">
<meta property="og:title" content="Definition of Done">
<meta property="og:url" content="/spartacus-docs/beta-docs/definition-of-done/">












  

  


<link rel="canonical" href="/spartacus-docs/beta-docs/definition-of-done/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": null,
      "url": null,
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/spartacus-docs/beta-docs/feed.xml" type="application/atom+xml" rel="alternate" title="Spartacus Documentation Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/spartacus-docs/beta-docs/assets/css/main.css">
<link rel="stylesheet" href="/spartacus-docs/beta-docs/assets/css/keys.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert scripts for adding anchor links to headers -->

<script src="https://kit.fontawesome.com/82d5a2bf2f.js" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script>
  anchors.add();
</script>

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /> 
  </head>

  <body class="layout--home">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/spartacus-docs/beta-docs/"><img src="/spartacus-docs/beta-docs/assets/images/logo-blue_64x64.png" alt="Spartacus logo"></a>
        
        <a class="site-title" href="/spartacus-docs/beta-docs/">Spartacus Documentation</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/docs-archive/" >Doc Archive</a>
            </li><li class="masthead__menu-item">
              <a href="https://join.slack.com/t/spartacus-storefront/shared_invite/zt-jekftqo0-HP6xt6IF~ffVB2cGG66fcQ" >Feedback</a>
            </li><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/#how-to-obtain-support" >Support</a>
            </li><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/release-information/" >Version 5.0</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/"><span class="nav__sub-title">Home</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/getting-started/"><span class="nav__sub-title">Getting Started with Spartacus Libraries</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/dev-guide/"><span class="nav__sub-title">Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/using-spartacus/"><span class="nav__sub-title">Using the Spartacus Storefront</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/about-tua-spartacus/"><span class="nav__sub-title">Telco & Utilities Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/about-fsa-spartacus/"><span class="nav__sub-title">Financial Services Accelerator Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/contributors-guide/"><span class="nav__sub-title">Contributing to Spartacus</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    
                        

                          
                          

                            
                            

                            <li><a href="/spartacus-docs/beta-docs/contributing-to-the-spartacus-storefront/" class="">Contributing to the Spartacus </br>Storefront ➢</a>
                                
                                    <ul>
                                        

                                          
                                          

                                              
                                        
                                    </ul>
                                
                            </li>     
                        

                          
                          

                            
                            

                            <li><a href="/spartacus-docs/beta-docs/contributor-setup/" class="">Contributor Setup ➢</a>
                                
                                    <ul>
                                        

                                          
                                          

                                              
                                        
                                    </ul>
                                
                            </li>     
                        

                          
                          

                            
                            

                            <li><a href="/spartacus-docs/beta-docs/coding-guidelines/" class="">Coding Guidelines ➢</a>
                                
                                    <ul>
                                        

                                          
                                          

                                              
                                        

                                          
                                          

                                              
                                        

                                          
                                          

                                              
                                        

                                          
                                          

                                              
                                        

                                          
                                          

                                              
                                        

                                          
                                          

                                              
                                        

                                          
                                          

                                              
                                        
                                    </ul>
                                
                            </li>     
                        

                          
                          

                            
                            

                            <li><a href="/spartacus-docs/beta-docs/definition-of-done/" class="active">Definition of Done ➢</a>
                                
                                    <ul>
                                        

                                          
                                          

                                            
                                                <li><a href="/spartacus-docs/beta-docs/a11y-e2e-tests/">Accessibility E2E Tests</a></li>
                                              
                                        

                                          
                                          

                                            
                                                <li><a href="/spartacus-docs/beta-docs/e2e-guidelines/">End-to-End Test Guidelines</a></li>
                                              
                                        

                                          
                                          

                                            
                                                <li><a href="/spartacus-docs/beta-docs/breaking-changes/">Maintaining Public APIs</a></li>
                                              
                                        

                                          
                                          

                                            
                                                <li><a href="/spartacus-docs/beta-docs/unit-testing-guidelines/">Unit Testing Guidelines</a></li>
                                              
                                        

                                          
                                          

                                            
                                                <li><a href="/spartacus-docs/beta-docs/updating-schematics/">Updating Schematics</a></li>
                                              
                                        
                                    </ul>
                                
                            </li>     
                        

                          
                          

                            
                            

                            <li><a href="/spartacus-docs/beta-docs/continuous-integration/" class="">Continuous Integration</a>
                                
                            </li>     
                        
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
  </ul>
</nav>      

    
  
  </div>


  <div class="archive">
    
      <h1 id="page-title" class="page__title">Definition of Done</h1>
    
    <p>The Spartacus Definition of Done describes a series of requirements that must be fulfilled to declare a feature or bug as “Done”.</p>

<h2 id="general-requirements">General requirements</h2>

<p>All new features for Spartacus must:</p>

<ul>
  <li>
    <p>Comply with Spartacus’s architecture. For more information, see <a href="/spartacus-docs/beta-docs/connecting-to-other-systems/">Connecting to Other Systems</a>.</p>
  </li>
  <li>
    <p>Follow our security best practices. For more information, see <a href="/spartacus-docs/beta-docs/security-best-practices/">Security Best Practices</a>.</p>
  </li>
  <li>
    <p>Follow our accessibility best practices. New features and fixes must be thoroughly tested with JAWS and AMP before they are merged, in accordance with SAP practices. For more information, see <a href="/spartacus-docs/beta-docs/a11y-best-practices/">Accessibility Best Practices</a>.</p>
  </li>
  <li>
    <p>Ensure that new feature modules are lazy loaded. For more information, see <a href="/spartacus-docs/beta-docs/lazy-loading-guide/">Lazy Loading</a>.</p>
  </li>
  <li>
    <p>Provide the necessary sample data. For more information, see <a href="/spartacus-docs/beta-docs/spartacussampledata-extension/">Spartacus Sample Data Extension</a>.</p>
  </li>
  <li>
    <p>Ensure the CSS supports directionality for new features. For more information, see <a href="/spartacus-docs/beta-docs/directionality/">Directionality</a>.</p>
  </li>
  <li>
    <p>Provide necessary code deprecations for schematics. For more information, see <a href="/spartacus-docs/beta-docs/updating-schematics/">Updating Schematics</a>.</p>
  </li>
  <li>
    <p>Contain no blocker, critical or major bugs to be accepted and released.</p>
  </li>
  <li>
    <p>Be compatible with modern browsers. For more information, see <a href="#browser-compatibility">Browser Compatibility</a>.</p>
  </li>
  <li>
    <p>If applicable, function on Android and iOS devices. For more information, see <a href="#device-compatibility">Device Compatibility</a>.</p>
  </li>
  <li>
    <p>Pass a security review during the initial POC phase. For more information, see <a href="#security-review">Security Review</a>.</p>
  </li>
  <li>
    <p>Avoid breaking changes. If you cannot avoid introducing a breaking change, ensure the breaking change is handled in a way that corresponds to the type of release you are working on, whether it is a major release (<strong>X</strong>.y.z), a minor release (x.<strong>Y</strong>.z), or a patch release (x.y.<strong>Z</strong>). Breaking changes are permitted in major releases, but must be accompanied by migration documentation and schematics. Breaking changes are never allowed in minor or patch releases, and must be handled through deprecation and the use of feature flags. For more information, see <a href="/spartacus-docs/beta-docs/breaking-changes/#avoiding-breaking-changes">Avoiding Breaking Changes</a>.</p>
  </li>
</ul>

<hr />

<p><strong>Table of Contents</strong></p>

<ul id="markdown-toc">
  <li><a href="#general-requirements" id="markdown-toc-general-requirements">General requirements</a></li>
  <li><a href="#coding-guidelines" id="markdown-toc-coding-guidelines">Coding guidelines</a></li>
  <li><a href="#code-standards" id="markdown-toc-code-standards">Code Standards</a></li>
  <li><a href="#linting" id="markdown-toc-linting">Linting</a></li>
  <li><a href="#code-formatting" id="markdown-toc-code-formatting">Code Formatting</a></li>
  <li><a href="#scss-is-preprocessed-node-sass" id="markdown-toc-scss-is-preprocessed-node-sass">SCSS is Preprocessed (node-sass)</a></li>
  <li><a href="#unit-tests" id="markdown-toc-unit-tests">Unit Tests</a></li>
  <li><a href="#unit-test-code-coverage" id="markdown-toc-unit-test-code-coverage">Unit Test Code Coverage</a></li>
  <li><a href="#end-to-end-tests" id="markdown-toc-end-to-end-tests">End-To-End Tests</a></li>
  <li><a href="#accessibility" id="markdown-toc-accessibility">Accessibility</a></li>
  <li><a href="#browser-compatibility" id="markdown-toc-browser-compatibility">Browser Compatibility</a></li>
  <li><a href="#device-compatibility" id="markdown-toc-device-compatibility">Device Compatibility</a></li>
  <li><a href="#security-review" id="markdown-toc-security-review">Security Review</a></li>
  <li><a href="#the-library-builds-without-errors" id="markdown-toc-the-library-builds-without-errors">The Library Builds Without Errors</a></li>
  <li><a href="#the-shell-starts-without-errors" id="markdown-toc-the-shell-starts-without-errors">The Shell Starts Without Errors</a></li>
  <li><a href="#no-regression-errors" id="markdown-toc-no-regression-errors">No Regression Errors</a></li>
  <li><a href="#new-feature-happy-path-works-in-the-shell-app" id="markdown-toc-new-feature-happy-path-works-in-the-shell-app">New Feature Happy Path Works in the Shell App</a></li>
  <li><a href="#verify-the-production-build-works" id="markdown-toc-verify-the-production-build-works">Verify the Production Build Works</a></li>
</ul>

<hr />

<h2 id="coding-guidelines">Coding guidelines</h2>

<p>The Spartacus team adopted the following set of rules to keep the Spartacus code readable and maintainable. As a contributor, we ask you to please follow these rules (even if you find them violated somewhere). When a file is consistently not following these rules, and adhering to the rules would make the code worse, follow the local style.</p>

<h2 id="code-standards">Code Standards</h2>

<p>There are several aspects to consider when writing code. Please review the <a href="/spartacus-docs/beta-docs/coding-guidelines/">Coding Guidelines</a>.</p>

<h2 id="linting">Linting</h2>

<p>We use <a href="https://palantir.github.io/tslint/">TSLint</a> to analyze and improve our typescript code.</p>

<p>You can run the following command to lint your code:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn lint
</code></pre></div></div>

<p>We also encourage you to use the <code class="language-plaintext highlighter-rouge">TSLint</code> plugin in VS Code.</p>

<h2 id="code-formatting">Code Formatting</h2>

<p>We use <a href="https://prettier.io/">Prettier</a> to format our code (and make it prettier).</p>

<p>To check that are all the files prettified, run the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn prettier
</code></pre></div></div>

<p>To format and prettify your codebase, run the following:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn prettier:fix
</code></pre></div></div>

<p>We also encourage to use the Prettier VS Code plugin. For more information, see <a href="/spartacus-docs/beta-docs/development-tools-for-spartacus/">Development Tools for Spartacus</a>.</p>

<h2 id="scss-is-preprocessed-node-sass">SCSS is Preprocessed (node-sass)</h2>

<p>We use Sass for all of our CSS, which then is converted to CSS using <a href="https://github.com/sass/node-sass/blob/master/README.md">node-sass</a>.</p>

<p>Use the following command to preprocess the Sass in <code class="language-plaintext highlighter-rouge">projects/storefrontstyles</code></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn sass
</code></pre></div></div>

<h2 id="unit-tests">Unit Tests</h2>

<p>Spartacus code requires unit tests. Ensure that new features or bugs have unit tests, and ensure that they are passing.</p>

<p>Run the following commands to run the unit tests for a library:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn <span class="nb">test</span> <span class="o">[</span>project]
yarn <span class="nb">test </span>storefrontlib
</code></pre></div></div>

<p>When you run the tests, Chrome opens, and you can see the progress of the tests, with detailed information, including whether the tests pass.</p>

<h2 id="unit-test-code-coverage">Unit Test Code Coverage</h2>

<p>Please ensure that unit test coverage is &gt;= 80% for everything, and &gt;=60% for branches.</p>

<p>To get the test coverage report, run the following commands:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn <span class="nb">test</span> <span class="o">[</span>project] <span class="nt">--code-coverage</span>
yarn <span class="nb">test </span>storefrontlib <span class="nt">--code-coverage</span>
</code></pre></div></div>

<p>Alternatively, you can run the following commands:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn <span class="nb">test</span> <span class="o">[</span>project] <span class="nt">--code-coverage</span>
yarn <span class="nb">test</span>:core:lib
</code></pre></div></div>

<p>The coverage report can be found in <code class="language-plaintext highlighter-rouge">./coverage/index.html</code>.</p>

<h2 id="end-to-end-tests">End-To-End Tests</h2>

<p>All new features in Spartacus require end-to-end tests written with <a href="https://www.cypress.io/">Cypress</a>. Please ensure that new feature have end-to-end tests, and that they are passing.</p>

<p>When applicable, write end-to-end tests to ensure that your new or updated feature is foolproof. If it makes sense to write end-to-end tests, the minimum requirement is to write basic UI end-to-end tests. You can also consider writing UI end-to-end tests with a user-flow, but this is optional.</p>

<p>All newly written end-to-end tests must be reviewed, updated, or reused. They should also follow the <a href="/spartacus-docs/beta-docs/e2e-guidelines/">End-to-End Test Guidelines</a>.</p>

<p>Run the following commands to perform end-to-end tests:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn e2e:cy:run <span class="c"># smoke tests</span>
yarn e2e:cy:run:mobile <span class="c"># mobile tests</span>
yarn e2e:cy:run:regression <span class="c"># regression tests</span>
</code></pre></div></div>

<p><strong>Note:</strong> Before running the end-to-end tests, make sure to install dependencies in <code class="language-plaintext highlighter-rouge">projects/storefrontapp-e2e-cypress</code>, and ensure the application is running.</p>

<p>The objective of end-to-end tests is to make sure your feature works. For example, if you are implementing a simple login screen with two buttons (such as the <code class="language-plaintext highlighter-rouge">Login</code> and <code class="language-plaintext highlighter-rouge">Cancel</code> buttons), you could write the following tests:</p>

<ul>
  <li>
    <p>Log in with valid credentials</p>
  </li>
  <li>
    <p>Attempt to log in with invalid credentials</p>
  </li>
  <li>
    <p>Fill in the input fields, then click on the <code class="language-plaintext highlighter-rouge">Cancel</code> button.</p>
  </li>
</ul>

<p><strong>Note:</strong> E2E tests can currently only be run within SAP. We’re working on exposing E2E tests to contributors.</p>

<h2 id="accessibility">Accessibility</h2>

<p>The UI of the feature complies with the Accessibility success criteria that are defined for the given released version. This includes writing <a href="/spartacus-docs/beta-docs/a11y-e2e-tests/">accessibility end-to-end tests</a>.</p>

<p>For more information, see <a href="/spartacus-docs/beta-docs/a11y-best-practices/">Accessibility Best Practices</a>.</p>

<h2 id="browser-compatibility">Browser Compatibility</h2>

<p>For a new feature to meet the definition of done, at a minimum, a manual, happy-path test of the new feature must be successful, with no significant layout issues in the most recent major version of the following browsers:</p>

<ul>
  <li>Chrome</li>
  <li>Firefox</li>
  <li>Safari</li>
  <li>Edge</li>
</ul>

<h2 id="device-compatibility">Device Compatibility</h2>

<p>New features must be compatible with Safari on iOS, and Chrome on Android, and must be tested on a range of devices. To meet the DoD, a new feature must successfully pass a manual, happy-path test, with no significant layout issues, on the following platforms:</p>

<ul>
  <li>iPhone 8, 10, X ,11 (at least one)</li>
  <li>iOS tablet (any)</li>
  <li>Android mobile phone (such as the Samsung Galaxy)</li>
  <li>Android tablet (any)</li>
</ul>

<p><strong>Note:</strong> Phones and tablets should be running on the latest versions of their respective operating systems.</p>

<p>If devices are not available, simulations with browser tools should be used instead.</p>

<h2 id="security-review">Security Review</h2>

<p>Any feature that starts out as a proof of concept (POC) must include a security review when the POC is finished and before further development of the feature continues. The security review is carried out by the designated Spartacus security expert, and involves sharing information about the POC with the wider SAP security community. This is done at the POC stage to ensure there is enough time to evaluate potential security risks before the feature needs to be released. In some cases, you may think your POC does not require a security review, and you may be right. However, it is still important to contact the Spartacus security expert and let them know about your POC. If they agree with you that no further security review is required, then you have fulfilled your requirement for the DoD. In the end, however, the security expert should be the one to make the final decision about whether a review is required or not.</p>

<h2 id="the-library-builds-without-errors">The Library Builds Without Errors</h2>

<p>Run the following command to ensure the libraries build without errors:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn build:libs
</code></pre></div></div>

<h2 id="the-shell-starts-without-errors">The Shell Starts Without Errors</h2>

<p>Run the following command to ensure the shell storefront app starts without errors:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn start
</code></pre></div></div>

<p>After running the command, you should see the following:</p>

<ul>
  <li>There are no errors in the webpack terminal output</li>
  <li>There are no errors in the JS console in Chrome when displaying the home page.</li>
</ul>

<h2 id="no-regression-errors">No Regression Errors</h2>

<p>Check that the areas where the change is implemented still work as before. Also verify that major features (such as the homepage, search, and checkout) are not affected.</p>

<h2 id="new-feature-happy-path-works-in-the-shell-app">New Feature Happy Path Works in the Shell App</h2>

<p>Run a smoke test of the feature, deployed in a lib in the shell app.</p>

<p>Then determine if the new feature requires changes in the shell app or in the configuration files as well.</p>

<p>Some files and concepts live in the shell app itself. Ask yourself if the new code requires an update to the shell app or to the configuration files.</p>

<p>The following changes are likely candidates:</p>

<ul>
  <li>Adding or changing a route</li>
  <li>Adding or changing a module (changing the path or name)</li>
  <li>Adding a component</li>
  <li>Adding a module</li>
  <li>Changing the way the configuration mechanism works.</li>
</ul>

<h2 id="verify-the-production-build-works">Verify the Production Build Works</h2>

<p>When you think you are done :)</p>

<p>Run the following commands to verify that the production build works, especially the ahead-of-time (AOT) compiler:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yarn build:libs
yarn start
</code></pre></div></div>

<p>The following are some reasons why the production build might fail:</p>

<ul>
  <li>
    <p>Because of the AOT, we have to explicitly specify some types, such as function return types. Even though TypeScript does not require them, it can infer them.</p>
  </li>
  <li>
    <p>Be careful when using <code class="language-plaintext highlighter-rouge">index.ts</code> files (that is, barrel files). When running a production build, you might see the following error in the <code class="language-plaintext highlighter-rouge">node/webpack</code> console:</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ERROR in : Encountered undefined provider! Usually this means you have a circular dependencies (might be caused by using 'barrel' index.ts files.
</code></pre></div>    </div>

    <p>This is usually caused by having an import statement, such as the following:</p>

    <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">fromServices</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../../services</span><span class="dl">'</span><span class="p">.</span>
</code></pre></div>    </div>

    <p>Instead, you should specifically import each class, as shown in the following example:</p>

    <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span> <span class="nx">OccCmsService</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../../services/occ-cms.service</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">DefaultPageService</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">../../services/default-page.service</span><span class="dl">"</span><span class="p">;</span>
</code></pre></div>    </div>
  </li>
</ul>


<!-- <h3 class="archive__subtitle">Recent posts</h3>




 -->

  </div>
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><div class="docsearch-container"><input type="search" id="docsearch" aria-placeholder="Enter your search term..." class="search-input" tabindex="-1" placeholder="Enter your search term..." /></div>
    <!-- <div id="results" class="results"></div> --></div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<table BORDER="0"><tr><td class="tdfooter"><a href="https://www.sap.com/copyright" target="_blank">Copyright</a></td>

<td class="tdfooter"><a href="https://sap.github.io/spartacus-docs/privacy-statement/">Privacy Statement</a></td>

<td class="tdfooter"><a href="https://www.sap.com/impressum" target="_blank">Legal Disclosure</a></td>

<td class="tdfooter"><a href="https://www.sap.com/trademark" target="_blank">Trademark</a></td>

<td class="tdfooter"><a href="https://www.sap.com/terms-of-use" target="_blank">Terms of Use</a></td></tr></table>
<!-- end custom footer snippets -->
        <!-- <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/spartacus-docs/beta-docs/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Spartacus Documentation. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div> -->

      </footer>
    </div>

    
  <script src="/spartacus-docs/beta-docs/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin="anonymous"></script>










    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script> 
    <script type="text/javascript"> docsearch({ 
    appId: 'BNZEXRISC6',
    apiKey: '54a795a072ff713045038ee4ad33c990', 
    indexName: 'sap_spartacus', 
    inputSelector: '#docsearch', 
    algoliaOptions: {
      'facetFilters': ["tags:latest"]
      },
    debug: false // Set debug to true if you want to inspect the dropdown 
    }); 
    </script> 

    <script>
      anchors.options = {
      visible: 'hover',
      icon: "\uf0c1"
      };
    anchors.add();
    </script>

    </body>
</html>
