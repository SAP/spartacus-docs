<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.16.4 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Updating to Version 4.0 - Spartacus Documentation</title>
<meta name="description" content="SAP Spartacus JavaScript Storefront Documentation.">



<meta property="og:type" content="website">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Spartacus Documentation">
<meta property="og:title" content="Updating to Version 4.0">
<meta property="og:url" content="/spartacus-docs/beta-docs/updating-tua-spartacus-to-4/">












  

  


<link rel="canonical" href="/spartacus-docs/beta-docs/updating-tua-spartacus-to-4/">







  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": null,
      "url": null,
      "sameAs": null
    }
  </script>







<!-- end _includes/seo.html -->


<link href="/spartacus-docs/beta-docs/feed.xml" type="application/atom+xml" rel="alternate" title="Spartacus Documentation Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/spartacus-docs/beta-docs/assets/css/main.css">
<link rel="stylesheet" href="/spartacus-docs/beta-docs/assets/css/keys.css">

<!--[if IE ]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert scripts for adding anchor links to headers -->

<script src="https://kit.fontawesome.com/82d5a2bf2f.js" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script>
<script>
  anchors.add();
</script>

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" /> 
  </head>

  <body class="layout--home">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/spartacus-docs/beta-docs/"><img src="/spartacus-docs/beta-docs/assets/images/logo-blue_64x64.png" alt="Spartacus logo"></a>
        
        <a class="site-title" href="/spartacus-docs/beta-docs/">Spartacus Documentation</a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/docs-archive/" >Doc Archive</a>
            </li><li class="masthead__menu-item">
              <a href="https://join.slack.com/t/spartacus-storefront/shared_invite/zt-jekftqo0-HP6xt6IF~ffVB2cGG66fcQ" >Feedback</a>
            </li><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/#how-to-obtain-support" >Support</a>
            </li><li class="masthead__menu-item">
              <a href="/spartacus-docs/beta-docs/release-information/" >Version 5.0</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <svg class="icon" width="16" height="16" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.99 16">
            <path d="M15.5,13.12L13.19,10.8a1.69,1.69,0,0,0-1.28-.55l-0.06-.06A6.5,6.5,0,0,0,5.77,0,6.5,6.5,0,0,0,2.46,11.59a6.47,6.47,0,0,0,7.74.26l0.05,0.05a1.65,1.65,0,0,0,.5,1.24l2.38,2.38A1.68,1.68,0,0,0,15.5,13.12ZM6.4,2A4.41,4.41,0,1,1,2,6.4,4.43,4.43,0,0,1,6.4,2Z" transform="translate(-.01)"></path>
          </svg>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle menu</label>
  <ul class="nav__items">
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/"><span class="nav__sub-title">Home</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/getting-started/"><span class="nav__sub-title">Getting Started with Spartacus Libraries</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/dev-guide/"><span class="nav__sub-title">Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/using-spartacus/"><span class="nav__sub-title">Using the Spartacus Storefront</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/about-tua-spartacus/"><span class="nav__sub-title">Telco & Utilities Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/telco-release-information/">Release Information for TUA Spartacus ➢</a>
                                                  
                                                            <ul>
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/tua-spartacus-roadmap/">Roadmap for TUA Spartacus</a>
                                                  
                                                            <ul>
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/spartacus-tua-faq/">TUA Spartacus FAQ</a>
                                                  
                                                            <ul>
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/getting-started-with-tua-spartacus/">Getting Started with TUA Spartacus ➢</a>
                                                  
                                                            <ul>
                                                                
                                                                  
                                                                    
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/updating-tua-spartacus/">Updating TUA Spartacus ➢</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                                
                                                                                  

                                                                                    
                                                                                    
                                                                                  
                                                                                    
                                                                                    
                                                                                         
                                                                                       <li><a href="/spartacus-docs/beta-docs/updating-tua-spartacus-to-4/" class="active">Updating to Version 4.0</a></li>

                                                                                  

                                                                                    
                                                                                    
                                                                                  
                                                                                    
                                                                                    
                                                                                         
                                                                                       <li><a href="/spartacus-docs/beta-docs/updating-tua-spartacus-to-3/" class="">Updating to Version 3.0</a></li>

                                                                                  

                                                                                    
                                                                                    
                                                                                  
                                                                                    
                                                                                    
                                                                                         
                                                                                       <li><a href="/spartacus-docs/beta-docs/updating-tua-spartacus-to-2/" class="">Updating to Version 2.0</a></li>

                                                                                       
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/installing-sap-commerce-for-tua-spartacus/">Installing SAP Commerce Cloud for use with TUA Spartacus ➢</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/building-the-tua-storefront-from-libraries/">Building the TUA Storefront from Libraries ➢</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      

                                                                        
                                                                        
                                                                        
                                                                        <li><a href="/spartacus-docs/beta-docs/technical-changes/">Technical Changes in TUA Spartacus ➢</a>

                                                                          
                                                                            <ul>
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                                        
                                                                              
                                                                            </ul>                
                                                                             
                                                                          </li>
                                                                      
                                                                      
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                

                                                
                                                

                                                  

                                                    <li><a href="/spartacus-docs/beta-docs/spartacus-features-for-tua/">Spartacus Features for TUA ➢</a>
                                                  
                                                            <ul>
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                      
                                                                  
                                                                      
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                                  
                                                                
                                                            </ul>
                                                    </li>
                                                    
                                                
                                        
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/about-fsa-spartacus/"><span class="nav__sub-title">Financial Services Accelerator Storefront Development Guide</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    
                                            
                                    
                                            
                                    
                                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
      <li>
        
          
          

         <a href="/spartacus-docs/beta-docs/contributors-guide/"><span class="nav__sub-title">Contributing to Spartacus</span></a>
         
        
            <ul>
                
                        <ul>
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                                    

                                  
                            
                        </ul>
   
                    

                    

                
                        <ul>
                            
                        </ul>
   
                    

                    

                
            </ul>  
      </li>          
    
  </ul>
</nav>      

    
  
  </div>


  <div class="archive">
    
      <h1 id="page-title" class="page__title">Updating to Version 4.0</h1>
    
    <h2 id="prerequisites">Prerequisites</h2>

<p>Before updating your TUA Spartacus libraries to version 4.0, you must address the following prerequisites:</p>

<ul>
  <li>You must first upgrade all of your <code class="language-plaintext highlighter-rouge">@spartacus</code> libraries to the latest 4.0.0 or higher release before you begin upgrading to Spartacus 4.0.0. For more information, see <a href="#upgrading-tua-spartacus-libraries-to-a-new-minor-version">Upgrading TUA Spartacus Libraries to a New Minor Version</a>.</li>
  <li>Your <code class="language-plaintext highlighter-rouge">@spartacus</code> libraries must include the <code class="language-plaintext highlighter-rouge">@spartacus/schematics</code> library. If you do not have the <code class="language-plaintext highlighter-rouge">@spartacus/schematics</code> library, add it to your <code class="language-plaintext highlighter-rouge">package.json</code> file in the <code class="language-plaintext highlighter-rouge">devDependencies</code> section, and set it to the same version as your other <code class="language-plaintext highlighter-rouge">@spartacus</code> libraries. Then run <code class="language-plaintext highlighter-rouge">yarn install</code>.</li>
  <li>You also must first upgrade all of your <code class="language-plaintext highlighter-rouge">@spartacus/tua-spa</code> to the latest 4.0.0 or higher release before you begin upgrading to Spartacus 4.0.</li>
  <li>Spartacus 4.0 requires Angular version 12.0.0. You must update Angular before updating Spartacus. For more information, see <a href="https://update.angular.io/">Updating to Angular version 10</a>.</li>
</ul>

<h2 id="updating-spartacus">Updating Spartacus</h2>

<p>TUA Spartacus 4.0 includes new features and fixes. Since this update is a major release, some of the updates may also be breaking changes for your application. In this case, additional work on your side may be required to fix issues that result from upgrading from 3.x to 4.0.</p>

<p>To update to version 4.0 of TUA Spartacus, run the following command in the workspace of your Angular application:</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ng update @spartacus/schematics
</code></pre></div></div>

<h2 id="upgrading-tua-spartacus-libraries-to-a-new-minor-version">Upgrading TUA Spartacus Libraries to a New Minor Version</h2>

<p>You can upgrade your TUA Spartacus libraries to a new minor version, as follows:</p>

<ol>
  <li>
    <p>In <code class="language-plaintext highlighter-rouge">package.json</code>, set your <code class="language-plaintext highlighter-rouge">@spartacus</code> libraries to <code class="language-plaintext highlighter-rouge">“~4.0.0"</code>or higher.</p>

    <p><strong>Note:</strong> If you are upgrading from a lower version (1.5 or 2.0), then upgrade to one version higher (1.5 to 2.x, 2.x to 3.x and 3.x to 4.0).
For example. if you are upgrading from 1.5 to the latest 2.0 release, then upgrade to 2.x, in <code class="language-plaintext highlighter-rouge">package.json</code>, set your <code class="language-plaintext highlighter-rouge">@spartacus</code> libraries to <code class="language-plaintext highlighter-rouge">“~2.0.0"</code>.</p>
  </li>
  <li>
    <p>Make sure other entries in <code class="language-plaintext highlighter-rouge">package.json</code> match with the following configuration (add the entries if not available).</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="o">{</span>
  <span class="s2">"name"</span>: <span class="s2">"tua-spa"</span>,
  <span class="s2">"version"</span>: <span class="s2">"4.0.0"</span>,
  <span class="s2">"engines"</span>: <span class="o">{</span>
 <span class="s2">"node"</span>: <span class="s2">"&gt;=12 &lt;17"</span>
  <span class="o">}</span>,
  <span class="s2">"scripts"</span>: <span class="o">{</span>
 <span class="s2">"ng"</span>: <span class="s2">"ng"</span>,
 <span class="s2">"start"</span>: <span class="s2">"ng serve"</span>,
 <span class="s2">"build"</span>: <span class="s2">"ng build"</span>,
 <span class="s2">"test"</span>: <span class="s2">"ng test"</span>,
 <span class="s2">"lint"</span>: <span class="s2">"ng lint"</span>,
 <span class="s2">"e2e"</span>: <span class="s2">"ng e2e"</span>
  <span class="o">}</span>,
  <span class="s2">"private"</span>: <span class="nb">false</span>,
  <span class="s2">"dependencies"</span>: <span class="o">{</span>
 <span class="s2">"@angular/animations"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@angular/common"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@angular/compiler"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@angular/core"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@angular/forms"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@angular/localize"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@angular/platform-browser"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@angular/platform-browser-dynamic"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@angular/platform-server"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@angular/router"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@angular/service-worker"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@ng-bootstrap/ng-bootstrap"</span>: <span class="s2">"^10.0.0"</span>,
 <span class="s2">"@ng-select/ng-select"</span>: <span class="s2">"^7.0.1"</span>,
 <span class="s2">"@ngrx/effects"</span>: <span class="s2">"^12.1.0"</span>,
 <span class="s2">"@ngrx/router-store"</span>: <span class="s2">"^12.1.0"</span>,
 <span class="s2">"@ngrx/store"</span>: <span class="s2">"^12.1.0"</span>,
 <span class="s2">"@spartacus/asm"</span>: <span class="s2">"4.0.0"</span>,
 <span class="s2">"@spartacus/assets"</span>: <span class="s2">"4.0.0"</span>,
 <span class="s2">"@spartacus/cart"</span>: <span class="s2">"4.0.0"</span>,
 <span class="s2">"@spartacus/checkout"</span>: <span class="s2">"4.0.0"</span>,
 <span class="s2">"@spartacus/core"</span>: <span class="s2">"4.0.0"</span>,
 <span class="s2">"@spartacus/organization"</span>: <span class="s2">"4.0.0"</span>,
 <span class="s2">"@spartacus/qualtrics"</span>: <span class="s2">"4.0.0"</span>,
 <span class="s2">"@spartacus/setup"</span>: <span class="s2">"4.0.0"</span>,
 <span class="s2">"@spartacus/storefront"</span>: <span class="s2">"4.0.0"</span>,
 <span class="s2">"@spartacus/styles"</span>: <span class="s2">"4.0.0"</span>,
 <span class="s2">"@spartacus/tracking"</span>: <span class="s2">"4.0.0"</span>,
 <span class="s2">"@spartacus/user"</span>: <span class="s2">"4.0.0"</span>,
 <span class="s2">"angular-oauth2-oidc"</span>: <span class="s2">"^10.0.1"</span>,
 <span class="s2">"bootstrap"</span>: <span class="s2">"^4.3.1"</span>,
 <span class="s2">"chart.js"</span>: <span class="s2">"^2.9.3"</span>,
 <span class="s2">"express"</span>: <span class="s2">"^4.15.2"</span>,
 <span class="s2">"i18next"</span>: <span class="s2">"^20.2.2"</span>,
 <span class="s2">"i18next-http-backend"</span>: <span class="s2">"^1.2.2"</span>,
 <span class="s2">"i18next-xhr-backend"</span>: <span class="s2">"^1.2.2"</span>,
 <span class="s2">"material-design-icons"</span>: <span class="s2">"^3.0.1"</span>,
 <span class="s2">"ng2-charts"</span>: <span class="s2">"^2.3.2"</span>,
 <span class="s2">"ngx-infinite-scroll"</span>: <span class="s2">"^8.0.0"</span>,
 <span class="s2">"ngx-spinner"</span>: <span class="s2">"^9.0.1"</span>,
 <span class="s2">"rxjs"</span>: <span class="s2">"~6.6.3"</span>,
 <span class="s2">"tslib"</span>: <span class="s2">"^2.3.0"</span>,
 <span class="s2">"zone.js"</span>: <span class="s2">"~0.11.4"</span>
  <span class="o">}</span>,
  <span class="s2">"devDependencies"</span>: <span class="o">{</span>
 <span class="s2">"@angular-devkit/build-angular"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@angular-devkit/build-ng-packagr"</span>: <span class="s2">"~0.1001.0"</span>,
 <span class="s2">"@angular/cli"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@angular/compiler-cli"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@angular/language-service"</span>: <span class="s2">"^12.0.5"</span>,
 <span class="s2">"@spartacus/schematics"</span>: <span class="s2">"4.0.0"</span>,
 <span class="s2">"@types/jasmine"</span>: <span class="s2">"~3.6.0"</span>,
 <span class="s2">"@types/jasminewd2"</span>: <span class="s2">"~2.0.3"</span>,
 <span class="s2">"@types/node"</span>: <span class="s2">"^12.11.1"</span>,
 <span class="s2">"codelyzer"</span>: <span class="s2">"^5.1.2"</span>,
 <span class="s2">"jasmine-core"</span>: <span class="s2">"~3.6.0"</span>,
 <span class="s2">"jquery"</span>: <span class="s2">"^3.5.1"</span>,
 <span class="s2">"karma"</span>: <span class="s2">"~6.3.4"</span>,
 <span class="s2">"karma-chrome-launcher"</span>: <span class="s2">"~3.1.0"</span>,
 <span class="s2">"karma-coverage-istanbul-reporter"</span>: <span class="s2">"~3.0.2"</span>,
 <span class="s2">"karma-jasmine"</span>: <span class="s2">"~4.0.0"</span>,
 <span class="s2">"karma-jasmine-html-reporter"</span>: <span class="s2">"^1.5.0"</span>,
 <span class="s2">"ng-packagr"</span>: <span class="s2">"^9.0.0"</span>,
 <span class="s2">"postcss"</span>: <span class="s2">"^8.2.10"</span>,
 <span class="s2">"postcss-scss"</span>: <span class="s2">"^3.0.4"</span>,
 <span class="s2">"protractor"</span>: <span class="s2">"~5.4.0"</span>,
 <span class="s2">"ts-node"</span>: <span class="s2">"~8.3.0"</span>,
 <span class="s2">"tsickle"</span>: <span class="s2">"^0.38.0"</span>,
 <span class="s2">"tslint"</span>: <span class="s2">"~6.1.0"</span>,
 <span class="s2">"typescript"</span>: <span class="s2">"~4.3.5"</span>
  <span class="o">}</span>,
  <span class="s2">"prettier"</span>: <span class="o">{</span>
 <span class="s2">"singleQuote"</span>: <span class="nb">true</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>    </div>
  </li>
  <li>Inspect the <code class="language-plaintext highlighter-rouge">mystore/src/app/app.module.ts</code> file for any changes you want to make for your setup.
    <ul>
      <li>Update level under features section to <code class="language-plaintext highlighter-rouge">12.0.0</code>.</li>
      <li>Add query service <code class="language-plaintext highlighter-rouge">Qualification</code> in the <code class="language-plaintext highlighter-rouge">backend:</code> section.</li>
      <li>Add <code class="language-plaintext highlighter-rouge">getProduct</code> and <code class="language-plaintext highlighter-rouge">getProductOffering</code> URLs in the <code class="language-plaintext highlighter-rouge">tmf:</code> section.</li>
      <li>Add <code class="language-plaintext highlighter-rouge">deliveryMode</code> in the <code class="language-plaintext highlighter-rouge">TmaB2cStorefrontModule</code> section.</li>
    </ul>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> import <span class="o">{</span> HttpClientModule <span class="o">}</span> from <span class="s1">'@angular/common/http'</span><span class="p">;</span>
 import <span class="o">{</span> NgModule <span class="o">}</span> from <span class="s1">'@angular/core'</span><span class="p">;</span>
 import <span class="o">{</span> BrowserModule <span class="o">}</span> from <span class="s1">'@angular/platform-browser'</span><span class="p">;</span>
 import <span class="o">{</span> EffectsModule <span class="o">}</span> from <span class="s1">'@ngrx/effects'</span><span class="p">;</span>
 import <span class="o">{</span> StoreModule <span class="o">}</span> from <span class="s1">'@ngrx/store'</span><span class="p">;</span>
 import <span class="o">{</span> translationChunksConfig, translations <span class="o">}</span> from <span class="s1">'@spartacus/assets'</span><span class="p">;</span>
 import <span class="o">{</span> ConfigModule, FeaturesConfig, I18nConfig, provideConfig<span class="o">}</span> from <span class="s1">'@spartacus/core'</span><span class="p">;</span>
 import <span class="o">{</span> tmaTranslations <span class="o">}</span> from <span class="s1">'../../../tua-spa/src/assets'</span><span class="p">;</span>
 import <span class="o">{</span> TmaSpartacusModule <span class="o">}</span> from <span class="s1">'../../../tua-spa/src/storefrontlib'</span><span class="p">;</span>
 import <span class="o">{</span> AppRoutingModule <span class="o">}</span> from <span class="s1">'./app-routing.module'</span><span class="p">;</span>
 import <span class="o">{</span> AppComponent <span class="o">}</span> from <span class="s1">'./app.component'</span><span class="p">;</span>

 @NgModule<span class="o">({</span>
 declarations: <span class="o">[</span>AppComponent],
 imports: <span class="o">[</span>
     AppRoutingModule,
     BrowserModule,
     HttpClientModule,
     StoreModule.forRoot<span class="o">({})</span>,
     EffectsModule.forRoot<span class="o">([])</span>,
     TmaSpartacusModule,
     ConfigModule.withConfig<span class="o">({</span>
     i18n: <span class="o">{</span>
         resources: tmaTranslations,
   <span class="o">}</span>,
 <span class="o">})</span>, 
 <span class="o">]</span>,
 providers: <span class="o">[</span>
 provideConfig<span class="o">(</span>&lt;I18nConfig&gt;<span class="o">{</span>
   // we bring <span class="k">in </span>static translations to be up and running soon right away
   i18n: <span class="o">{</span>
     resources: translations,
     chunks: translationChunksConfig,
     fallbackLang: <span class="s1">'en'</span>,
   <span class="o">}</span>,
 <span class="o">})</span>,
 provideConfig<span class="o">(</span>&lt;FeaturesConfig&gt;<span class="o">{</span>
   features: <span class="o">{</span>
     level: <span class="s1">'4.0'</span>,
   <span class="o">}</span>,
 <span class="o">})</span>,
 <span class="o">]</span>,
  bootstrap: <span class="o">[</span>AppComponent],
  <span class="o">})</span>
  <span class="nb">export </span>class AppModule <span class="o">{}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Add the following import <code class="language-plaintext highlighter-rouge">/mystore/src/polyfills.ts</code> in the file:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> import <span class="s1">'@angular/localize/init'</span><span class="p">;</span>    
 import <span class="s1">'zone.js/dist/zone'</span><span class="p">;</span>    
</code></pre></div>    </div>
  </li>
  <li>Delete your <code class="language-plaintext highlighter-rouge">node_modules</code> folder.</li>
  <li>Run <code class="language-plaintext highlighter-rouge">yarn install</code>.</li>
</ol>

<p>For more information, see <a href="/spartacus-docs/beta-docs/technical-changes-tua-version-4/">Technical Changes in TUA Spartacus 4.0</a>.</p>


<!-- <h3 class="archive__subtitle">Recent posts</h3>




 -->

  </div>
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><div class="docsearch-container"><input type="search" id="docsearch" aria-placeholder="Enter your search term..." class="search-input" tabindex="-1" placeholder="Enter your search term..." /></div>
    <!-- <div id="results" class="results"></div> --></div>

      </div>
    

    <div class="page__footer">
      <footer>
        <!-- start custom footer snippets -->
<table BORDER="0"><tr><td class="tdfooter"><a href="https://www.sap.com/copyright" target="_blank">Copyright</a></td>

<td class="tdfooter"><a href="https://sap.github.io/spartacus-docs/privacy-statement/">Privacy Statement</a></td>

<td class="tdfooter"><a href="https://www.sap.com/impressum" target="_blank">Legal Disclosure</a></td>

<td class="tdfooter"><a href="https://www.sap.com/trademark" target="_blank">Trademark</a></td>

<td class="tdfooter"><a href="https://www.sap.com/terms-of-use" target="_blank">Terms of Use</a></td></tr></table>
<!-- end custom footer snippets -->
        <!-- <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
      
        
      
        
      
        
      
    

    <li><a href="/spartacus-docs/beta-docs/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Spartacus Documentation. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div> -->

      </footer>
    </div>

    
  <script src="/spartacus-docs/beta-docs/assets/js/main.min.js"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.8.2/js/all.js" integrity="sha384-DJ25uNYET2XCl5ZF++U8eNxPWqcKohUUBUpKGlNLMchM7q4Wjg2CUpjHLaL8yYPH" crossorigin="anonymous"></script>










    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script> 
    <script type="text/javascript"> docsearch({ 
    appId: 'BNZEXRISC6',
    apiKey: '54a795a072ff713045038ee4ad33c990', 
    indexName: 'sap_spartacus', 
    inputSelector: '#docsearch', 
    algoliaOptions: {
      'facetFilters': ["tags:beta-docs"]
      },
    debug: false // Set debug to true if you want to inspect the dropdown 
    }); 
    </script> 

    <script>
      anchors.options = {
      visible: 'hover',
      icon: "\uf0c1"
      };
    anchors.add();
    </script>

    </body>
</html>
